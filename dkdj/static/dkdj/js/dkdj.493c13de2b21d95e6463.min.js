var dk=function(t){var e={}
function __webpack_require__(n){if(e[n])return e[n].exports
var r=e[n]={i:n,l:!1,exports:{}}
return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t
if(4&e&&"object"==typeof t&&t&&t.__esModule)return t
var n=Object.create(null)
if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(n,r,function(e){return t[e]}.bind(null,r))
return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t}
return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=230)}([function(t,e,n){var r=n(63),i=n(113)
function _getPrototypeOf(e){return t.exports=_getPrototypeOf=i?r:function _getPrototypeOf(t){return t.__proto__||r(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(17),i=n(23)
t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(72),i=n(88)
t.exports=function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function")
t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var r=n(22)
function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}},function(t,e,n){t.exports=n(146)},function(t,e,n){t.exports=n(144)},function(t,e,n){var r=n(105),i=n(151),a=n(107)
t.exports=function _slicedToArray(t,e){return r(t)||i(t,e)||a()}},function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return get_dk_script_tag})
var r=function(){if("undefined"!=typeof globalThis)return globalThis
if("undefined"!=typeof self)return self
if("undefined"!=typeof window)return window
if(void 0!==t)return t
throw new Error("unable to locate global object")}()
r.globalThis=r,console.debug("dkdj loaded from:",document.currentScript)
var i=void 0
function get_dk_script_tag(){return void 0===i&&(i=function _find_dk_script_tag(){if(void 0!==document.currentScript)return document.currentScript
var t=document.getElementsByTagName("script")
return t[t.length-1]}()),i}e.a=globalThis}).call(this,n(71))},function(t,e,n){t.exports=n(184)},function(t,e){var n=t.exports={version:"2.6.9"}
"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=n(164)},function(t,e,n){var r=n(21),i=n(10),a=n(31),o=n(36),s=n(37),l=function(t,e,n){var c,u,d,h=t&l.F,f=t&l.G,p=t&l.S,g=t&l.P,_=t&l.B,v=t&l.W,y=f?i:i[e]||(i[e]={}),b=y.prototype,m=f?r:p?r[e]:(r[e]||{}).prototype
for(c in f&&(n=e),n)(u=!h&&m&&void 0!==m[c])&&s(y,c)||(d=u?m[c]:n[c],y[c]=f&&"function"!=typeof m[c]?n[c]:_&&u?a(d,r):v&&m[c]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t
case 1:return new t(e)
case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)}
return e.prototype=t.prototype,e}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((y.virtual||(y.virtual={}))[c]=d,t&l.R&&b&&!b[c]&&o(b,c,d)))}
l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){t.exports=n(149)},function(t,e,n){t.exports=n(162)},function(t,e,n){var r=n(185),i=n(115),a=n(189)
t.exports=function _toConsumableArray(t){return r(t)||i(t)||a()}},function(t,e,n){t.exports=n(159)},function(t,e,n){var r=n(168),i=n(38)
function _typeof2(t){return(_typeof2="function"==typeof i&&"symbol"==typeof r?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"==typeof i&&"symbol"===_typeof2(r)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,n){t.exports=n(223)},function(t,e,n){t.exports=n(190)},function(t,e,n){var r=n(22)
t.exports=function _defineProperty(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")()
"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=n(131)},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return t}},function(t,e,n){var r=n(34),i=n(208),a=(n(0),n(211))
function _get(e,n,o){return"undefined"!=typeof Reflect&&i?t.exports=_get=i:t.exports=_get=function _get(t,e,n){var i=a(t,e)
if(i){var o=r(i,e)
return o.get?o.get.call(n):o.value}},_get(e,n,o||e)}t.exports=_get},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(79)("wks"),i=n(67),a=n(21).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(35)
function asyncGeneratorStep(t,e,n,i,a,o,s){try{var l=t[o](s),c=l.value}catch(t){return void n(t)}l.done?e(c):r.resolve(c).then(i,a)}t.exports=function _asyncToGenerator(t){return function(){var e=this,n=arguments
return new r(function(r,i){var a=t.apply(e,n)
function _next(t){asyncGeneratorStep(a,r,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(a,r,i,_next,_throw,"throw",t)}_next(void 0)})}}},function(t,e,n){var r=n(25)
t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!")
return t}},function(t,e,n){t.exports=!n(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(28),i=n(97),a=n(75),o=Object.defineProperty
e.f=n(29)?Object.defineProperty:function defineProperty(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!")
return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(39)
t.exports=function(t,e,n){if(r(t),void 0===e)return t
switch(n){case 1:return function(n){return t.call(e,n)}
case 2:return function(n,r){return t.call(e,n,r)}
case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(76),i=n(65)
t.exports=function(t){return r(i(t))}},function(t,e,n){t.exports=n(140)},function(t,e,n){t.exports=n(224)},function(t,e,n){var r=n(30),i=n(51)
t.exports=n(29)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty
t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(170)},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")
return t}},function(t,e,n){var r=n(65)
t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict"
var r=n(157)(!0)
n(84)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i
return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(72),i=n(213),a=n(0),o=n(88),s=n(219),l=n(64)
function _wrapNativeSuper(e){var n="function"==typeof i?new i:void 0
return t.exports=_wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!s(t))return t
if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function")
if(void 0!==n){if(n.has(t))return n.get(t)
n.set(t,Wrapper)}function Wrapper(){return l(t,arguments,a(this).constructor)}return Wrapper.prototype=r(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),o(Wrapper,t)},_wrapNativeSuper(e)}t.exports=_wrapNativeSuper},function(t,e,n){var r=n(99),i=n(80)
t.exports=Object.keys||function keys(t){return r(t,i)}},function(t,e,n){n(154)
for(var r=n(21),i=n(36),a=n(45),o=n(26)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype
d&&!d[o]&&i(d,o,c),a[c]=a.Array}},function(t,e){t.exports={}},function(t,e,n){t.exports=n(199)},function(t,e,n){var r=n(105),i=n(115),a=n(107)
t.exports=function _toArray(t){return r(t)||i(t)||a()}},function(t,e,n){t.exports=n(137)},function(t,e,n){t.exports=n(142)},function(t,e,n){t.exports=n(201)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString
t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,n){var r=n(55),i=n(51),a=n(33),o=n(75),s=n(37),l=n(97),c=Object.getOwnPropertyDescriptor
e.f=n(29)?c:function getOwnPropertyDescriptor(t,e){if(t=a(t),e=o(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(12),i=n(10),a=n(32)
t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={}
o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(t,e,n){var r=n(30).f,i=n(37),a=n(26)("toStringTag")
t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){e.f=n(26)},function(t,e,n){var r=n(28),i=n(98),a=n(80),o=n(78)("IE_PROTO"),s=function(){},l=function(){var t,e=n(74)("iframe"),r=a.length
for(e.style.display="none",n(103).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[a[r]]
return l()}
t.exports=Object.create||function create(t,e){var n
return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e){},function(t,e,n){var r=n(31),i=n(109),a=n(110),o=n(28),s=n(66),l=n(86),c={},u={};(e=t.exports=function(t,e,n,d,h){var f,p,g,_,v=h?function(){return t}:l(t),y=r(n,d,e?2:1),b=0
if("function"!=typeof v)throw TypeError(t+" is not iterable!")
if(a(v)){for(f=s(t.length);f>b;b++)if((_=e?y(o(p=t[b])[0],p[1]):y(t[b]))===c||_===u)return _}else for(g=v.call(t);!(p=g.next()).done;)if((_=i(g,y,p.value,e))===c||_===u)return _}).BREAK=c,e.RETURN=u},function(t,e,n){t.exports=n(133)},function(t,e,n){t.exports=n(173)},function(t,e,n){var r=n(180),i=n(88)
function _construct(e,n,a){return!function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!r)return!1
if(r.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(r(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=_construct=function _construct(t,e,n){var r=[null]
r.push.apply(r,e)
var a=new(Function.bind.apply(t,r))
return n&&i(a,n.prototype),a}:t.exports=_construct=r,_construct.apply(null,arguments)}t.exports=_construct},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t)
return t}},function(t,e,n){var r=n(77),i=Math.min
t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random()
t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(67)("meta"),i=n(25),a=n(37),o=n(30).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(32)(function(){return l(Object.preventExtensions({}))}),u=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t
if(!a(t,r)){if(!l(t))return"F"
if(!e)return"E"
u(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!l(t))return!0
if(!e)return!1
u(t)}return t[r].w},onFreeze:function(t){return c&&d.NEED&&l(t)&&!a(t,r)&&u(t),t}}},function(t,e,n){var r=n(52),i=n(26)("toStringTag"),a="Arguments"==r(function(){return arguments}())
t.exports=function(t){var e,n,o
return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e){var n
n=function(){return this}()
try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(178)},function(t,e,n){var r=n(62),i=n(220)
t.exports=function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),i(r(t,{raw:{value:i(e)}}))}},function(t,e,n){var r=n(25),i=n(21).document,a=r(i)&&r(i.createElement)
t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(25)
t.exports=function(t,e){if(!r(t))return t
var n,i
if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i
if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i
if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i
throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(52)
t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,r=Math.floor
t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(79)("keys"),i=n(67)
t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(10),i=n(21),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(53)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(99),i=n(80).concat("length","prototype")
e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return r(t,i)}},function(t,e,n){var r=n(21),i=n(10),a=n(53),o=n(58),s=n(30).f
t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{})
"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(52)
t.exports=Array.isArray||function isArray(t){return"Array"==r(t)}},function(t,e,n){"use strict"
var r=n(53),i=n(12),a=n(102),o=n(36),s=n(45),l=n(156),c=n(57),u=n(85),d=n(26)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this}
t.exports=function(t,e,n,p,g,_,v){l(n,e,p)
var y,b,m,k=function(t){if(!h&&t in j)return j[t]
switch(t){case"keys":return function keys(){return new n(this,t)}
case"values":return function values(){return new n(this,t)}}return function entries(){return new n(this,t)}},w=e+" Iterator",x="values"==g,S=!1,j=t.prototype,E=j[d]||j["@@iterator"]||g&&j[g],D=E||k(g),T=g?x?k("entries"):D:void 0,O="Array"==e&&j.entries||E
if(O&&(m=u(O.call(new t)))!==Object.prototype&&m.next&&(c(m,w,!0),r||"function"==typeof m[d]||o(m,d,f)),x&&E&&"values"!==E.name&&(S=!0,D=function values(){return E.call(this)}),r&&!v||!h&&!S&&j[d]||o(j,d,D),s[e]=D,s[w]=f,g)if(y={values:x?D:k("values"),keys:_?D:k("keys"),entries:T},v)for(b in y)b in j||a(j,b,y[b])
else i(i.P+i.F*(h||S),e,y)
return y}},function(t,e,n){var r=n(37),i=n(40),a=n(78)("IE_PROTO"),o=Object.prototype
t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var r=n(70),i=n(26)("iterator"),a=n(45)
t.exports=n(10).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(113)
function _setPrototypeOf(e,n){return t.exports=_setPrototypeOf=r||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,n)}t.exports=_setPrototypeOf},function(t,e,n){var r=n(36)
t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i])
return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")
return t}},function(t,e,n){var r=n(25)
t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!")
return t}},function(t,e,n){"use strict"
var r=n(39)
function PromiseCapability(t){var e,n
this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor")
e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new PromiseCapability(t)}},function(t,e){t.exports=jQuery},function(t,e,n){t.exports=n(204)},function(t,e,n){t.exports=n(206)},function(t,e){t.exports='.borderbox {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box; }\n\n/*\r\n *  Allow for both form-control-feedback and\r\n *  input-group-btn addons\r\n */\n.form-inline .form-group.has-feedback .input-group .form-control-feedback {\n  right: 45px; }\n\n.form-inline .form-group.has-feedback .input-group .clear-button {\n  color: #555;\n  cursor: pointer; }\n\n.form-inline .form-group.has-feedback .input-group-sm .form-control-feedback {\n  right: 35px;\n  top: -2px; }\n\nlabel > input[type=checkbox],\nlabel > input[type=radio] {\n  margin-right: 5px; }\n\n.busy {\n  cursor: wait; }\n\n.borderbox {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box; }\n\ndk-panel {\n  xoutline: 10px dashed green; }\n\ndk-panel .panel-body > p:last-child {\n  margin-bottom: 0; }\n\n.panel {\n  margin-bottom: 20px;\n  background-color: #fff;\n  border: 1px solid transparent;\n  -webkit-border-radius: 4px;\n          border-radius: 4px;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);\n          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05); }\n\n.panel-body {\n  padding: 15px; }\n  .panel-body:before, .panel-body:after {\n    content: " ";\n    display: table; }\n  .panel-body:after {\n    clear: both; }\n\n.panel-heading {\n  padding: 10px 15px;\n  border-bottom: 1px solid transparent;\n  -webkit-border-top-left-radius: 3px;\n          border-top-left-radius: 3px;\n  -webkit-border-top-right-radius: 3px;\n          border-top-right-radius: 3px; }\n  .panel-heading > .dropdown .dropdown-toggle {\n    color: inherit; }\n\n.panel-title {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 16px;\n  color: inherit; }\n  .panel-title > a,\n  .panel-title > small,\n  .panel-title > .small,\n  .panel-title > small > a,\n  .panel-title > .small > a {\n    color: inherit; }\n\n.panel-footer {\n  padding: 10px 15px;\n  background-color: #f5f5f5;\n  border-top: 1px solid #ddd;\n  -webkit-border-bottom-left-radius: 3px;\n          border-bottom-left-radius: 3px;\n  -webkit-border-bottom-right-radius: 3px;\n          border-bottom-right-radius: 3px; }\n\ndk-panel > .list-group,\ndk-panel > .panel-collapse > .list-group {\n  margin-bottom: 0; }\n  dk-panel > .list-group .list-group-item,\n  dk-panel > .panel-collapse > .list-group .list-group-item {\n    border-width: 1px 0;\n    -webkit-border-radius: 0;\n            border-radius: 0; }\n  dk-panel > .list-group:first-child .list-group-item:first-child,\n  dk-panel > .panel-collapse > .list-group:first-child .list-group-item:first-child {\n    border-top: 0;\n    -webkit-border-top-left-radius: 3px;\n            border-top-left-radius: 3px;\n    -webkit-border-top-right-radius: 3px;\n            border-top-right-radius: 3px; }\n  dk-panel > .list-group:last-child .list-group-item:last-child,\n  dk-panel > .panel-collapse > .list-group:last-child .list-group-item:last-child {\n    border-bottom: 0;\n    -webkit-border-bottom-left-radius: 3px;\n            border-bottom-left-radius: 3px;\n    -webkit-border-bottom-right-radius: 3px;\n            border-bottom-right-radius: 3px; }\n\ndk-panel > .panel-heading + .panel-collapse > .list-group .list-group-item:first-child {\n  -webkit-border-top-left-radius: 0;\n          border-top-left-radius: 0;\n  -webkit-border-top-right-radius: 0;\n          border-top-right-radius: 0; }\n\n.panel-heading + .list-group .list-group-item:first-child {\n  border-top-width: 0; }\n\n.list-group + .panel-footer {\n  border-top-width: 0; }\n\ndk-panel > .table,\ndk-panel > .table-responsive > .table,\ndk-panel > .panel-collapse > .table {\n  margin-bottom: 0; }\n  dk-panel > .table caption,\n  dk-panel > .table-responsive > .table caption,\n  dk-panel > .panel-collapse > .table caption {\n    padding-left: 15px;\n    padding-right: 15px; }\n\ndk-panel > .table:first-child,\ndk-panel > .table-responsive:first-child > .table:first-child {\n  -webkit-border-top-left-radius: 3px;\n          border-top-left-radius: 3px;\n  -webkit-border-top-right-radius: 3px;\n          border-top-right-radius: 3px; }\n  dk-panel > .table:first-child > thead:first-child > tr:first-child,\n  dk-panel > .table:first-child > tbody:first-child > tr:first-child,\n  dk-panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,\n  dk-panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child {\n    -webkit-border-top-left-radius: 3px;\n            border-top-left-radius: 3px;\n    -webkit-border-top-right-radius: 3px;\n            border-top-right-radius: 3px; }\n    dk-panel > .table:first-child > thead:first-child > tr:first-child td:first-child,\n    dk-panel > .table:first-child > thead:first-child > tr:first-child th:first-child,\n    dk-panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,\n    dk-panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child {\n      -webkit-border-top-left-radius: 3px;\n              border-top-left-radius: 3px; }\n    dk-panel > .table:first-child > thead:first-child > tr:first-child td:last-child,\n    dk-panel > .table:first-child > thead:first-child > tr:first-child th:last-child,\n    dk-panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,\n    dk-panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,\n    dk-panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child {\n      -webkit-border-top-right-radius: 3px;\n              border-top-right-radius: 3px; }\n\ndk-panel > .table:last-child,\ndk-panel > .table-responsive:last-child > .table:last-child {\n  -webkit-border-bottom-left-radius: 3px;\n          border-bottom-left-radius: 3px;\n  -webkit-border-bottom-right-radius: 3px;\n          border-bottom-right-radius: 3px; }\n  dk-panel > .table:last-child > tbody:last-child > tr:last-child,\n  dk-panel > .table:last-child > tfoot:last-child > tr:last-child,\n  dk-panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,\n  dk-panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child {\n    -webkit-border-bottom-left-radius: 3px;\n            border-bottom-left-radius: 3px;\n    -webkit-border-bottom-right-radius: 3px;\n            border-bottom-right-radius: 3px; }\n    dk-panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,\n    dk-panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,\n    dk-panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,\n    dk-panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child {\n      -webkit-border-bottom-left-radius: 3px;\n              border-bottom-left-radius: 3px; }\n    dk-panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,\n    dk-panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,\n    dk-panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,\n    dk-panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,\n    dk-panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child {\n      -webkit-border-bottom-right-radius: 3px;\n              border-bottom-right-radius: 3px; }\n\ndk-panel > .panel-body + .table,\ndk-panel > .panel-body + .table-responsive,\ndk-panel > .table + .panel-body,\ndk-panel > .table-responsive + .panel-body {\n  border-top: 1px solid #ddd; }\n\ndk-panel > .table > tbody:first-child > tr:first-child th,\ndk-panel > .table > tbody:first-child > tr:first-child td {\n  border-top: 0; }\n\ndk-panel > .table-bordered,\ndk-panel > .table-responsive > .table-bordered {\n  border: 0; }\n  dk-panel > .table-bordered > thead > tr > th:first-child,\n  dk-panel > .table-bordered > thead > tr > td:first-child,\n  dk-panel > .table-bordered > tbody > tr > th:first-child,\n  dk-panel > .table-bordered > tbody > tr > td:first-child,\n  dk-panel > .table-bordered > tfoot > tr > th:first-child,\n  dk-panel > .table-bordered > tfoot > tr > td:first-child,\n  dk-panel > .table-responsive > .table-bordered > thead > tr > th:first-child,\n  dk-panel > .table-responsive > .table-bordered > thead > tr > td:first-child,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,\n  dk-panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,\n  dk-panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child {\n    border-left: 0; }\n  dk-panel > .table-bordered > thead > tr > th:last-child,\n  dk-panel > .table-bordered > thead > tr > td:last-child,\n  dk-panel > .table-bordered > tbody > tr > th:last-child,\n  dk-panel > .table-bordered > tbody > tr > td:last-child,\n  dk-panel > .table-bordered > tfoot > tr > th:last-child,\n  dk-panel > .table-bordered > tfoot > tr > td:last-child,\n  dk-panel > .table-responsive > .table-bordered > thead > tr > th:last-child,\n  dk-panel > .table-responsive > .table-bordered > thead > tr > td:last-child,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,\n  dk-panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,\n  dk-panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child {\n    border-right: 0; }\n  dk-panel > .table-bordered > thead > tr:first-child > td,\n  dk-panel > .table-bordered > thead > tr:first-child > th,\n  dk-panel > .table-bordered > tbody > tr:first-child > td,\n  dk-panel > .table-bordered > tbody > tr:first-child > th,\n  dk-panel > .table-responsive > .table-bordered > thead > tr:first-child > td,\n  dk-panel > .table-responsive > .table-bordered > thead > tr:first-child > th,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr:first-child > th {\n    border-bottom: 0; }\n  dk-panel > .table-bordered > tbody > tr:last-child > td,\n  dk-panel > .table-bordered > tbody > tr:last-child > th,\n  dk-panel > .table-bordered > tfoot > tr:last-child > td,\n  dk-panel > .table-bordered > tfoot > tr:last-child > th,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,\n  dk-panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,\n  dk-panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,\n  dk-panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th {\n    border-bottom: 0; }\n\ndk-panel > .table-responsive {\n  border: 0;\n  margin-bottom: 0; }\n\n.panel-default {\n  border-color: #ddd; }\n  .panel-default > .panel-heading {\n    color: #333333;\n    background-color: #f5f5f5;\n    border-color: #ddd; }\n    .panel-default > .panel-heading + .panel-collapse > .panel-body {\n      border-top-color: #ddd; }\n    .panel-default > .panel-heading .badge {\n      color: #f5f5f5;\n      background-color: #333333; }\n  .panel-default > .panel-footer + .panel-collapse > .panel-body {\n    border-bottom-color: #ddd; }\n\n.panel-primary {\n  border-color: #337ab7; }\n  .panel-primary > .panel-heading {\n    color: #fff;\n    background-color: #337ab7;\n    border-color: #337ab7; }\n    .panel-primary > .panel-heading + .panel-collapse > .panel-body {\n      border-top-color: #337ab7; }\n    .panel-primary > .panel-heading .badge {\n      color: #337ab7;\n      background-color: #fff; }\n  .panel-primary > .panel-footer + .panel-collapse > .panel-body {\n    border-bottom-color: #337ab7; }\n\n.panel-success {\n  border-color: #d6e9c6; }\n  .panel-success > .panel-heading {\n    color: #3c763d;\n    background-color: #dff0d8;\n    border-color: #d6e9c6; }\n    .panel-success > .panel-heading + .panel-collapse > .panel-body {\n      border-top-color: #d6e9c6; }\n    .panel-success > .panel-heading .badge {\n      color: #dff0d8;\n      background-color: #3c763d; }\n  .panel-success > .panel-footer + .panel-collapse > .panel-body {\n    border-bottom-color: #d6e9c6; }\n\n.panel-info {\n  border-color: #bce8f1; }\n  .panel-info > .panel-heading {\n    color: #31708f;\n    background-color: #d9edf7;\n    border-color: #bce8f1; }\n    .panel-info > .panel-heading + .panel-collapse > .panel-body {\n      border-top-color: #bce8f1; }\n    .panel-info > .panel-heading .badge {\n      color: #d9edf7;\n      background-color: #31708f; }\n  .panel-info > .panel-footer + .panel-collapse > .panel-body {\n    border-bottom-color: #bce8f1; }\n\n.panel-warning {\n  border-color: #faebcc; }\n  .panel-warning > .panel-heading {\n    color: #8a6d3b;\n    background-color: #fcf8e3;\n    border-color: #faebcc; }\n    .panel-warning > .panel-heading + .panel-collapse > .panel-body {\n      border-top-color: #faebcc; }\n    .panel-warning > .panel-heading .badge {\n      color: #fcf8e3;\n      background-color: #8a6d3b; }\n  .panel-warning > .panel-footer + .panel-collapse > .panel-body {\n    border-bottom-color: #faebcc; }\n\n.panel-danger {\n  border-color: #ebccd1; }\n  .panel-danger > .panel-heading {\n    color: #a94442;\n    background-color: #f2dede;\n    border-color: #ebccd1; }\n    .panel-danger > .panel-heading + .panel-collapse > .panel-body {\n      border-top-color: #ebccd1; }\n    .panel-danger > .panel-heading .badge {\n      color: #f2dede;\n      background-color: #a94442; }\n  .panel-danger > .panel-footer + .panel-collapse > .panel-body {\n    border-bottom-color: #ebccd1; }\n\n.dk-panel {\n  -ms-scrollbar-base-color: white;\n  -ms-scrollbar-face-color: #aaa;\n  -ms-scrollbar-arrow-color: #aaa; }\n  .dk-panel ::-webkit-scrollbar {\n    width: 8px;\n    height: 50px; }\n  .dk-panel ::-webkit-scrollbar-button {\n    display: none; }\n  .dk-panel ::-webkit-scrollbar-track {\n    background-color: #aaa; }\n  .dk-panel ::-webkit-scrollbar-track-piece {\n    background-color: #ffffff; }\n  .dk-panel ::-webkit-scrollbar-thumb {\n    background-color: #aaa;\n    -webkit-border-radius: 4px;\n            border-radius: 4px; }\n  .dk-panel ::-webkit-scrollbar-corner {\n    background-color: #ddd; }\n  .dk-panel ::-webkit-resizer {\n    background-color: #666; }\n  .dk-panel .panel-heading {\n    padding-top: 6px;\n    padding-bottom: 4px; }\n    .dk-panel .panel-heading .panel-title .collapseicon {\n      display: inline-block;\n      position: relative;\n      left: -5px; }\n      .dk-panel .panel-heading .panel-title .collapseicon dk-icon {\n        display: block; }\n  .dk-panel .panel-body {\n    overflow: auto; }\n  .dk-panel .panel-footer.small {\n    padding-top: 0;\n    padding-bottom: 0; }\n  .dk-panel.collapse-up {\n    overflow: hidden; }\n  .dk-panel.collapse-left {\n    overflow: hidden; }\n    .dk-panel.collapse-left .panel-heading .panel-title .collapseicon {\n      top: 2px; }\n      .dk-panel.collapse-left .panel-heading .panel-title .collapseicon dk-icon {\n        -webkit-transform: rotate(-90deg);\n            -ms-transform: rotate(-90deg);\n                transform: rotate(-90deg);\n        -webkit-transform-origin: 8px 8px;\n            -ms-transform-origin: 8px 8px;\n                transform-origin: 8px 8px; }\n\n.panel-primary > header > .collapse-icon > .icon {\n  color: white !important; }\n\n.panel.small-header header {\n  padding: 5px 10px; }\n\n/* wait until we\'re fully loaded to enable height transitions to prevent\r\n * flash-of-unstyled-content.\r\n */\n.borderbox {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box; }\n\n.CheckboxSelectWidget > label,\n.RadioSelectWidget > label {\n  font-weight: normal;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n      -ms-flex-align: start;\n          align-items: flex-start; }\n  .CheckboxSelectWidget > label input,\n  .RadioSelectWidget > label input {\n    display: block; }\n\n#resp-test {\n  display: none; }\n\n.ResultSet {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box; }\n  .ResultSet header,\n  .ResultSet header + .content {\n    position: relative;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box; }\n  .ResultSet h1 {\n    font-size: 214%;\n    margin-top: 10px;\n    margin-bottom: 10px; }\n  .ResultSet h2 {\n    font-size: 171%;\n    margin-top: 0;\n    margin-bottom: 0; }\n  .ResultSet h3 {\n    font-size: 129%;\n    margin-top: 0;\n    margin-bottom: 0; }\n  .ResultSet h4 {\n    font-size: 110%;\n    margin-top: 0;\n    margin-bottom: 0; }\n  .ResultSet h5 {\n    font-size: 86%;\n    margin-top: 0;\n    margin-bottom: 0; }\n  .ResultSet .filterdef + .filterdef {\n    padding-top: 15px;\n    margin-top: 15px;\n    border-top: 1px dotted #ddd; }\n  .ResultSet .stats > .tot {\n    margin-left: 1ex; }\n  .ResultSet .filterbx > footer {\n    display: none; }\n  .ResultSet .DataFilter {\n    position: relative;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box; }\n    .ResultSet .DataFilter .content .filterdef {\n      margin-left: -15px;\n      margin-right: -15px; }\n      .ResultSet .DataFilter .content .filterdef h4 {\n        line-height: 100%; }\n      .ResultSet .DataFilter .content .filterdef .filterbox {\n        position: relative;\n        -webkit-box-sizing: border-box;\n        box-sizing: border-box;\n        margin-left: 15px;\n        margin-right: 15px; }\n        .ResultSet .DataFilter .content .filterdef .filterbox header h3 {\n          margin-bottom: 5px; }\n        .ResultSet .DataFilter .content .filterdef .filterbox .content {\n          margin-left: 0; }\n  .ResultSet .Data {\n    position: relative;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box; }\n  .ResultSet .PagerWidget {\n    position: relative;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box; }\n    .ResultSet .PagerWidget .pagination > li.ellipsis > span {\n      border-top-color: transparent;\n      border-bottom-color: transparent;\n      background-color: white;\n      cursor: default; }\n\n.debug .ResultSet {\n  padding-top: 10px;\n  margin: 4px;\n  outline: 1px dotted blue; }\n  .debug .ResultSet::before {\n    content: ".ResultSet";\n    font-size: 9px;\n    color: white;\n    background-color: rgba(0, 0, 255, 0.6);\n    position: absolute;\n    display: block;\n    z-index: 200;\n    right: 0;\n    top: 0; }\n  .debug .ResultSet .DataFilter {\n    padding-top: 10px;\n    margin: 4px;\n    outline: 1px dotted green; }\n    .debug .ResultSet .DataFilter::before {\n      content: ".ResultSet > .DataFilter";\n      font-size: 9px;\n      color: white;\n      background-color: rgba(0, 128, 0, 0.6);\n      position: absolute;\n      display: block;\n      z-index: 200;\n      right: 0;\n      top: 0; }\n    .debug .ResultSet .DataFilter header {\n      padding-top: 10px;\n      margin: 4px;\n      outline: 1px dotted blue; }\n      .debug .ResultSet .DataFilter header::before {\n        content: ".DataFilter > header";\n        font-size: 9px;\n        color: white;\n        background-color: rgba(0, 0, 255, 0.6);\n        position: absolute;\n        display: block;\n        z-index: 200;\n        right: 0;\n        top: 0; }\n    .debug .ResultSet .DataFilter > .content {\n      padding-top: 10px;\n      margin: 4px;\n      outline: 1px dotted blue; }\n      .debug .ResultSet .DataFilter > .content::before {\n        content: ".DataFilter > .content";\n        font-size: 9px;\n        color: white;\n        background-color: rgba(0, 0, 255, 0.6);\n        position: absolute;\n        display: block;\n        z-index: 200;\n        right: 0;\n        top: 0; }\n      .debug .ResultSet .DataFilter > .content .filterbox {\n        padding-top: 10px;\n        margin: 4px;\n        outline: 1px dotted red; }\n        .debug .ResultSet .DataFilter > .content .filterbox::before {\n          content: ".content > .filterbox";\n          font-size: 9px;\n          color: white;\n          background-color: rgba(255, 0, 0, 0.6);\n          position: absolute;\n          display: block;\n          z-index: 200;\n          right: 0;\n          top: 0; }\n        .debug .ResultSet .DataFilter > .content .filterbox header {\n          padding-top: 10px;\n          margin: 4px;\n          outline: 1px dotted blue; }\n          .debug .ResultSet .DataFilter > .content .filterbox header::before {\n            content: ".filterbox > header";\n            font-size: 9px;\n            color: white;\n            background-color: rgba(0, 0, 255, 0.6);\n            position: absolute;\n            display: block;\n            z-index: 200;\n            right: 0;\n            top: 0; }\n        .debug .ResultSet .DataFilter > .content .filterbox .content {\n          padding-top: 10px;\n          margin: 4px;\n          outline: 1px dotted blue; }\n          .debug .ResultSet .DataFilter > .content .filterbox .content::before {\n            content: ".filterbox > .content";\n            font-size: 9px;\n            color: white;\n            background-color: rgba(0, 0, 255, 0.6);\n            position: absolute;\n            display: block;\n            z-index: 200;\n            right: 0;\n            top: 0; }\n  .debug .ResultSet .Data,\n  .debug .ResultSet .PagerWidget {\n    float: left;\n    width: -webkit-calc(100% - 180px - 16px);\n    width: calc(100% - 180px - 16px); }\n  .debug .ResultSet .Data {\n    padding-top: 10px;\n    margin: 4px;\n    outline: 1px dotted blue; }\n    .debug .ResultSet .Data::before {\n      content: ". ResultSet > . Data";\n      font-size: 9px;\n      color: white;\n      background-color: rgba(0, 0, 255, 0.6);\n      position: absolute;\n      display: block;\n      z-index: 200;\n      right: 0;\n      top: 0; }\n  .debug .ResultSet .PagerWidget {\n    padding-top: 10px;\n    margin: 4px;\n    outline: 1px dotted blue; }\n    .debug .ResultSet .PagerWidget::before {\n      content: ".ResultSet > .PagerWidget";\n      font-size: 9px;\n      color: white;\n      background-color: rgba(0, 0, 255, 0.6);\n      position: absolute;\n      display: block;\n      z-index: 200;\n      right: 0;\n      top: 0; }\n\n.dktree {\n  position: relative; }\n  .dktree li {\n    position: relative;\n    list-style-type: none;\n    margin: 0;\n    padding-top: 4px;\n    font-size: 14px;\n    line-height: 20px; }\n    .dktree li .subtree {\n      margin-left: -34px; }\n      .dktree li .subtree > li {\n        padding-left: 20px; }\n  .dktree .tree > span,\n  .dktree .tree > dk-icon {\n    cursor: pointer; }\n  .dktree .tree > dk-icon {\n    font-size: 80%;\n    margin-right: 0.5ex; }\n  .dktree .leaf {\n    height: 28px; }\n    .dktree .leaf:after {\n      content: "";\n      border-left: 1px solid #999;\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      width: 1px; }\n    .dktree .leaf:before {\n      border-bottom: 1px solid #999;\n      content: "";\n      display: block;\n      position: absolute;\n      bottom: 13px;\n      left: 0;\n      width: 15px;\n      height: 1px; }\n    .dktree .leaf:last-child:after {\n      bottom: 13px; }\n    .dktree .leaf:first-child:after {\n      top: -5px; }\n\n.table-tree {\n  overflow-y: hidden;\n  border: 1px solid #e0e0e0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box; }\n  .table-tree .dk-tree-generation {\n    direction: rtl; }\n    .table-tree .dk-tree-generation::-webkit-scrollbar {\n      width: 6px; }\n    .table-tree .dk-tree-generation::-webkit-scrollbar-track {\n      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3); }\n    .table-tree .dk-tree-generation::-webkit-scrollbar-thumb {\n      background-color: darkgrey;\n      outline: 1px solid slategrey; }\n    .table-tree .dk-tree-generation .treeselect-nodelist {\n      direction: ltr; }\n      .table-tree .dk-tree-generation .treeselect-nodelist tr.tree-node td.treeselect-input {\n        width: 1em;\n        text-align: center; }\n      .table-tree .dk-tree-generation .treeselect-nodelist tr.tree-node td.treeselect-icon {\n        width: 1em;\n        text-align: right; }\n      .table-tree .dk-tree-generation .treeselect-nodelist tr.nav-selected {\n        background-color: #dddddd; }\n\n.help {\n  position: relative; }\n  .help dk-icon {\n    color: blue; }\n  .help > .help-trigger {\n    position: absolute;\n    width: 20px;\n    left: -20px;\n    text-align: right;\n    top: 0; }\n'},function(t,e,n){t.exports=!n(29)&&!n(32)(function(){return 7!=Object.defineProperty(n(74)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(30),i=n(28),a=n(43)
t.exports=n(29)?Object.defineProperties:function defineProperties(t,e){i(t)
for(var n,o=a(e),s=o.length,l=0;s>l;)r.f(t,n=o[l++],e[n])
return t}},function(t,e,n){var r=n(37),i=n(33),a=n(135)(!1),o=n(78)("IE_PROTO")
t.exports=function(t,e){var n,s=i(t),l=0,c=[]
for(n in s)n!=o&&r(s,n)&&c.push(n)
for(;e.length>l;)r(s,n=e[l++])&&(~a(c,n)||c.push(n))
return c}},function(t,e,n){"use strict"
var r=n(30),i=n(51)
t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict"
var r=n(21),i=n(37),a=n(29),o=n(12),s=n(102),l=n(69).KEY,c=n(32),u=n(79),d=n(57),h=n(67),f=n(26),p=n(58),g=n(82),_=n(143),v=n(83),y=n(28),b=n(25),m=n(40),k=n(33),w=n(75),x=n(51),S=n(59),j=n(104),E=n(54),D=n(68),T=n(30),O=n(43),A=E.f,L=T.f,P=j.f,C=r.Symbol,R=r.JSON,F=R&&R.stringify,W=f("_hidden"),I=f("toPrimitive"),z={}.propertyIsEnumerable,q=u("symbol-registry"),$=u("symbols"),N=u("op-symbols"),G=Object.prototype,M="function"==typeof C&&!!D.f,H=r.QObject,B=!H||!H.prototype||!H.prototype.findChild,U=a&&c(function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(G,e)
r&&delete G[e],L(t,e,n),r&&t!==G&&L(G,e,r)}:L,V=function(t){var e=$[t]=S(C.prototype)
return e._k=t,e},J=M&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},K=function defineProperty(t,e,n){return t===G&&K(N,e,n),y(t),e=w(e,!0),y(n),i($,e)?(n.enumerable?(i(t,W)&&t[W][e]&&(t[W][e]=!1),n=S(n,{enumerable:x(0,!1)})):(i(t,W)||L(t,W,x(1,{})),t[W][e]=!0),U(t,e,n)):L(t,e,n)},Y=function defineProperties(t,e){y(t)
for(var n,r=_(e=k(e)),i=0,a=r.length;a>i;)K(t,n=r[i++],e[n])
return t},Q=function propertyIsEnumerable(t){var e=z.call(this,t=w(t,!0))
return!(this===G&&i($,t)&&!i(N,t))&&(!(e||!i(this,t)||!i($,t)||i(this,W)&&this[W][t])||e)},X=function getOwnPropertyDescriptor(t,e){if(t=k(t),e=w(e,!0),t!==G||!i($,e)||i(N,e)){var n=A(t,e)
return!n||!i($,e)||i(t,W)&&t[W][e]||(n.enumerable=!0),n}},Z=function getOwnPropertyNames(t){for(var e,n=P(k(t)),r=[],a=0;n.length>a;)i($,e=n[a++])||e==W||e==l||r.push(e)
return r},tt=function getOwnPropertySymbols(t){for(var e,n=t===G,r=P(n?N:k(t)),a=[],o=0;r.length>o;)!i($,e=r[o++])||n&&!i(G,e)||a.push($[e])
return a}
M||(s((C=function Symbol(){if(this instanceof C)throw TypeError("Symbol is not a constructor!")
var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(N,n),i(this,W)&&i(this[W],t)&&(this[W][t]=!1),U(this,t,x(1,n))}
return a&&B&&U(G,t,{configurable:!0,set:e}),V(t)}).prototype,"toString",function toString(){return this._k}),E.f=X,T.f=K,n(81).f=j.f=Z,n(55).f=Q,D.f=tt,a&&!n(53)&&s(G,"propertyIsEnumerable",Q,!0),p.f=function(t){return V(f(t))}),o(o.G+o.W+o.F*!M,{Symbol:C})
for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++])
for(var rt=O(f.store),it=0;rt.length>it;)g(rt[it++])
o(o.S+o.F*!M,"Symbol",{for:function(t){return i(q,t+="")?q[t]:q[t]=C(t)},keyFor:function keyFor(t){if(!J(t))throw TypeError(t+" is not a symbol!")
for(var e in q)if(q[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),o(o.S+o.F*!M,"Object",{create:function create(t,e){return void 0===e?S(t):Y(S(t),e)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt})
var at=c(function(){D.f(1)})
o(o.S+o.F*at,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(t){return D.f(m(t))}}),R&&o(o.S+o.F*(!M||c(function(){var t=C()
return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function stringify(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++])
if(n=e=r[1],(b(e)||void 0!==t)&&!J(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,F.apply(R,r)}}),C.prototype[I]||n(36)(C.prototype,I,C.prototype.valueOf),d(C,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(36)},function(t,e,n){var r=n(21).document
t.exports=r&&r.documentElement},function(t,e,n){var r=n(33),i=n(81).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[]
t.exports.f=function getOwnPropertyNames(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(13)
t.exports=function _arrayWithHoles(t){if(r(t))return t}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){var r=n(12),i=n(65),a=n(32),o=n(87),s="["+o+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,n){var i={},s=a(function(){return!!o[t]()||"​"!="​"[t]()}),l=i[t]=s?e(d):o[t]
n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t}
t.exports=u},function(t,e,n){var r=n(28)
t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return
throw void 0!==a&&r(a.call(t)),e}}},function(t,e,n){var r=n(45),i=n(26)("iterator"),a=Array.prototype
t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){var r=n(26)("iterator"),i=!1
try{var a=[7][r]()
a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1
var n=!1
try{var a=[7],o=a[r]()
o.next=function(){return{done:n=!0}},a[r]=function(){return o},t(a)}catch(t){}return n}},function(t,e,n){var r=n(29),i=n(43),a=n(33),o=n(55).f
t.exports=function(t){return function(e){for(var n,s=a(e),l=i(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!o.call(s,n)||d.push(t?[n,s[n]]:s[n])
return d}}},function(t,e,n){t.exports=n(175)},function(t,e){t.exports=function(t,e,n){var r=void 0===n
switch(e.length){case 0:return r?t():t.call(n)
case 1:return r?t(e[0]):t.call(n,e[0])
case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1])
case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2])
case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(14),i=n(186)
t.exports=function _iterableToArray(t){if(i(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}},function(t,e,n){"use strict"
var r=n(30).f,i=n(59),a=n(89),o=n(31),s=n(90),l=n(61),c=n(84),u=n(106),d=n(117),h=n(29),f=n(69).fastKey,p=n(91),g=h?"_s":"size",_=function(t,e){var n,r=f(e)
if("F"!==r)return t._i[r]
for(n=t._f;n;n=n.n)if(n.k==e)return n}
t.exports={getConstructor:function(t,e,n,c){var u=t(function(t,r){s(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&l(r,n,t[c],t)})
return a(u.prototype,{clear:function clear(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i]
t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=_(n,t)
if(r){var i=r.n,a=r.p
delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[g]--}return!!r},forEach:function forEach(t){p(this,e)
for(var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function has(t){return!!_(p(this,e),t)}}),h&&r(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,n){var r,i,a=_(t,e)
return a?a.v=n:(t._l=a={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[g]++,"F"!==i&&(t._i[i]=a)),t},getEntry:_,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p
return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){"use strict"
var r=n(21),i=n(10),a=n(30),o=n(29),s=n(26)("species")
t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t]
o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict"
var r=n(21),i=n(12),a=n(69),o=n(32),s=n(36),l=n(89),c=n(61),u=n(90),d=n(25),h=n(57),f=n(30).f,p=n(192)(0),g=n(29)
t.exports=function(t,e,n,_,v,y){var b=r[t],m=b,k=v?"set":"add",w=m&&m.prototype,x={}
return g&&"function"==typeof m&&(y||w.forEach&&!o(function(){(new m).entries().next()}))?(m=e(function(e,n){u(e,m,t,"_c"),e._c=new b,null!=n&&c(n,v,e[k],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t
t in w&&(!y||"clear"!=t)&&s(m.prototype,t,function(n,r){if(u(this,m,t),!e&&y&&!d(n))return"get"==t&&void 0
var i=this._c[t](0===n?0:n,r)
return e?this:i})}),y||f(m.prototype,"size",{get:function(){return this._c.size}})):(m=_.getConstructor(e,t,v,k),l(m.prototype,n),a.NEED=!0),h(m,t),x[t]=m,i(i.G+i.W+i.F,x),y||_.setStrong(m,t,v),m}},function(t,e,n){var r=n(70),i=n(196)
t.exports=function(t){return function toJSON(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic")
return i(this)}}},function(t,e,n){"use strict"
var r=n(12)
t.exports=function(t){r(r.S,t,{of:function of(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t]
return new this(e)}})}},function(t,e,n){"use strict"
var r=n(12),i=n(39),a=n(31),o=n(61)
t.exports=function(t){r(r.S,t,{from:function from(t){var e,n,r,s,l=arguments[1]
return i(this),(e=void 0!==l)&&i(l),null==t?new this:(n=[],e?(r=0,s=a(l,arguments[2],2),o(t,!1,function(t){n.push(s(t,r++))})):o(t,!1,n.push,n),new this(n))}})}},function(t,e){t.exports=/<%=([\s\S]+?)%>/g},function(t,e,n){var r=n(28),i=n(39),a=n(26)("species")
t.exports=function(t,e){var n,o=r(t).constructor
return void 0===o||null==(n=r(o)[a])?e:i(n)}},function(t,e,n){var r,i,a,o=n(31),s=n(114),l=n(103),c=n(74),u=n(21),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,_=0,v={},y=function(){var t=+this
if(v.hasOwnProperty(t)){var e=v[t]
delete v[t],e()}},b=function(t){y.call(t.data)}
h&&f||(h=function setImmediate(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++])
return v[++_]=function(){s("function"==typeof t?t:Function(t),e)},r(_),_},f=function clearImmediate(t){delete v[t]},"process"==n(52)(d)?r=function(t){d.nextTick(o(y,t,1))}:g&&g.now?r=function(t){g.now(o(y,t,1))}:p?(a=(i=new p).port2,i.port1.onmessage=b,r=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:h,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(28),i=n(25),a=n(92)
t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e
var n=a.f(t)
return(0,n.resolve)(e),n.promise}},function(t,e,n){t.exports=n(166)},function(t,e,n){t.exports=n(205)},function(t,e,n){(function(e){var n="Expected a function",r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,g=Math.min,_=function(){return h.Date.now()}
function debounce(t,e,r){var i,a,o,s,l,c,u=0,d=!1,h=!1,f=!0
if("function"!=typeof t)throw new TypeError(n)
function invokeFunc(e){var n=i,r=a
return i=a=void 0,u=e,s=t.apply(r,n)}function shouldInvoke(t){var n=t-c
return void 0===c||n>=e||n<0||h&&t-u>=o}function timerExpired(){var t=_()
if(shouldInvoke(t))return trailingEdge(t)
l=setTimeout(timerExpired,function remainingWait(t){var n=e-(t-c)
return h?g(n,o-(t-u)):n}(t))}function trailingEdge(t){return l=void 0,f&&i?invokeFunc(t):(i=a=void 0,s)}function debounced(){var t=_(),n=shouldInvoke(t)
if(i=arguments,a=this,c=t,n){if(void 0===l)return function leadingEdge(t){return u=t,l=setTimeout(timerExpired,e),d?invokeFunc(t):s}(c)
if(h)return l=setTimeout(timerExpired,e),invokeFunc(c)}return void 0===l&&(l=setTimeout(timerExpired,e)),s}return e=toNumber(e)||0,isObject(r)&&(d=!!r.leading,o=(h="maxWait"in r)?p(toNumber(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f),debounced.cancel=function cancel(){void 0!==l&&clearTimeout(l),u=0,i=c=a=l=void 0},debounced.flush=function flush(){return void 0===l?s:trailingEdge(_())},debounced}function isObject(t){var e=typeof t
return!!t&&("object"==e||"function"==e)}function toNumber(t){if("number"==typeof t)return t
if(function isSymbol(t){return"symbol"==typeof t||function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==i}(t))return r
if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t
t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t
t=t.replace(a,"")
var n=s.test(t)
return n||l.test(t)?c(t.slice(2),n?2:8):o.test(t)?r:+t}t.exports=function throttle(t,e,r){var i=!0,a=!0
if("function"!=typeof t)throw new TypeError(n)
return isObject(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),debounce(t,e,{leading:i,maxWait:e,trailing:a})}}).call(this,n(71))},function(t,e,n){(function(e){var r=n(122),i=n(212),a=1/0,o=9007199254740991,s="[object Arguments]",l="[object Error]",c="[object Function]",u="[object GeneratorFunction]",d="[object Symbol]",h=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_=/^(?:0|[1-9]\d*)$/,v=/($^)/,y=/['\n\r\u2028\u2029\\]/g,b={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},m="object"==typeof e&&e&&e.Object===Object&&e,k="object"==typeof self&&self&&self.Object===Object&&self,w=m||k||Function("return this")()
function apply(t,e,n){switch(n.length){case 0:return t.call(e)
case 1:return t.call(e,n[0])
case 2:return t.call(e,n[0],n[1])
case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function baseValues(t,e){return function arrayMap(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t)
return i}(e,function(e){return t[e]})}function escapeStringChar(t){return"\\"+b[t]}var x=Object.prototype,S=x.hasOwnProperty,j=x.toString,E=w.Symbol,D=x.propertyIsEnumerable,T=function overArg(t,e){return function(n){return t(e(n))}}(Object.keys,Object),O=Math.max,A=E?E.prototype:void 0,L=A?A.toString:void 0
function arrayLikeKeys(t,e){var n=P(t)||function isArguments(t){return function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}(t)&&S.call(t,"callee")&&(!D.call(t,"callee")||j.call(t)==s)}(t)?function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n)
return r}(t.length,String):[],r=n.length,i=!!r
for(var a in t)!e&&!S.call(t,a)||i&&("length"==a||isIndex(a,r))||n.push(a)
return n}function assignInDefaults(t,e,n,r){return void 0===t||eq(t,x[n])&&!S.call(r,n)?e:t}function assignValue(t,e,n){var r=t[e]
S.call(t,e)&&eq(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function baseKeysIn(t){if(!isObject(t))return function nativeKeysIn(t){var e=[]
if(null!=t)for(var n in Object(t))e.push(n)
return e}(t)
var e=isPrototype(t),n=[]
for(var r in t)("constructor"!=r||!e&&S.call(t,r))&&n.push(r)
return n}function baseRest(t,e){return e=O(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=O(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r]
r=-1
for(var o=Array(e+1);++r<e;)o[r]=n[r]
return o[e]=a,apply(t,this,o)}}function baseToString(t){if("string"==typeof t)return t
if(function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&j.call(t)==d}(t))return L?L.call(t):""
var e=t+""
return"0"==e&&1/t==-a?"-0":e}function isIndex(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||_.test(t))&&t>-1&&t%1==0&&t<e}function isIterateeCall(t,e,n){if(!isObject(n))return!1
var r=typeof e
return!!("number"==r?isArrayLike(n)&&isIndex(e,n.length):"string"==r&&e in n)&&eq(n[e],t)}function isPrototype(t){var e=t&&t.constructor
return t===("function"==typeof e&&e.prototype||x)}function eq(t,e){return t===e||t!=t&&e!=e}var P=Array.isArray
function isArrayLike(t){return null!=t&&function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function isFunction(t){var e=isObject(t)?j.call(t):""
return e==c||e==u}(t)}function isError(t){return!!isObjectLike(t)&&(j.call(t)==l||"string"==typeof t.message&&"string"==typeof t.name)}function isObject(t){var e=typeof t
return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}var C=function createAssigner(t){return baseRest(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0
for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,o&&isIterateeCall(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r]
s&&t(e,s,r,a)}return e})}(function(t,e,n,r){!function copyObject(t,e,n,r){n||(n={})
for(var i=-1,a=e.length;++i<a;){var o=e[i],s=r?r(n[o],t[o],o,n,t):void 0
assignValue(n,o,void 0===s?t[o]:s)}return n}(e,function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}(e),t,r)})
function keys(t){return isArrayLike(t)?arrayLikeKeys(t):function baseKeys(t){if(!isPrototype(t))return T(t)
var e=[]
for(var n in Object(t))S.call(t,n)&&"constructor"!=n&&e.push(n)
return e}(t)}var R=baseRest(function(t,e){try{return apply(t,void 0,e)}catch(t){return isError(t)?t:new Error(t)}})
t.exports=function template(t,e,n){var a=i.imports._.templateSettings||i
n&&isIterateeCall(t,e,n)&&(e=void 0),t=function toString(t){return null==t?"":baseToString(t)}(t),e=C({},e,a,assignInDefaults)
var o,s,l=C({},e.imports,a.imports,assignInDefaults),c=keys(l),u=baseValues(l,c),d=0,_=e.interpolate||v,b="__p += '",m=RegExp((e.escape||v).source+"|"+_.source+"|"+(_===r?g:v).source+"|"+(e.evaluate||v).source+"|$","g"),k="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":""
t.replace(m,function(e,n,r,i,a,l){return r||(r=i),b+=t.slice(d,l).replace(y,escapeStringChar),n&&(o=!0,b+="' +\n__e("+n+") +\n'"),a&&(s=!0,b+="';\n"+a+";\n__p += '"),r&&(b+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+e.length,e}),b+="';\n"
var w=e.variable
w||(b="with (obj) {\n"+b+"\n}\n"),b=(s?b.replace(h,""):b).replace(f,"$1").replace(p,"$1;"),b="function("+(w||"obj")+") {\n"+(w?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+b+"return __p\n}"
var x=R(function(){return Function(c,k+"return "+b).apply(void 0,u)})
if(x.source=b,isError(x))throw x
return x}}).call(this,n(71))},function(t,e,n){n(132)
var r=n(10).Object
t.exports=function defineProperty(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(12)
r(r.S+r.F*!n(29),"Object",{defineProperty:n(30).f})},function(t,e,n){n(134)
var r=n(10).Object
t.exports=function defineProperties(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(12)
r(r.S+r.F*!n(29),"Object",{defineProperties:n(98)})},function(t,e,n){var r=n(33),i=n(66),a=n(136)
t.exports=function(t){return function(e,n,o){var s,l=r(e),c=i(l.length),u=a(o,c)
if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0
return!t&&-1}}},function(t,e,n){var r=n(77),i=Math.max,a=Math.min
t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):a(t,e)}},function(t,e,n){n(138),t.exports=n(10).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(12),i=n(139),a=n(33),o=n(54),s=n(100)
r(r.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var e,n,r=a(t),l=o.f,c=i(r),u={},d=0;c.length>d;)void 0!==(n=l(r,e=c[d++]))&&s(u,e,n)
return u}})},function(t,e,n){var r=n(81),i=n(68),a=n(28),o=n(21).Reflect
t.exports=o&&o.ownKeys||function ownKeys(t){var e=r.f(a(t)),n=i.f
return n?e.concat(n(t)):e}},function(t,e,n){n(141)
var r=n(10).Object
t.exports=function getOwnPropertyDescriptor(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(33),i=n(54).f
n(56)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(t,e){return i(r(t),e)}})},function(t,e,n){n(101),t.exports=n(10).Object.getOwnPropertySymbols},function(t,e,n){var r=n(43),i=n(68),a=n(55)
t.exports=function(t){var e=r(t),n=i.f
if(n)for(var o,s=n(t),l=a.f,c=0;s.length>c;)l.call(t,o=s[c++])&&e.push(o)
return e}},function(t,e,n){n(145),t.exports=n(10).Object.keys},function(t,e,n){var r=n(40),i=n(43)
n(56)("keys",function(){return function keys(t){return i(r(t))}})},function(t,e,n){n(147),t.exports=n(10).Object.assign},function(t,e,n){var r=n(12)
r(r.S+r.F,"Object",{assign:n(148)})},function(t,e,n){"use strict"
var r=n(29),i=n(43),a=n(68),o=n(55),s=n(40),l=n(76),c=Object.assign
t.exports=!c||n(32)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst"
return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function assign(t,e){for(var n=s(t),c=arguments.length,u=1,d=a.f,h=o.f;c>u;)for(var f,p=l(arguments[u++]),g=d?i(p).concat(d(p)):i(p),_=g.length,v=0;_>v;)f=g[v++],r&&!h.call(p,f)||(n[f]=p[f])
return n}:c},function(t,e,n){n(150),t.exports=n(10).Array.isArray},function(t,e,n){var r=n(12)
r(r.S,"Array",{isArray:n(83)})},function(t,e,n){var r=n(152)
t.exports=function _iterableToArrayLimit(t,e){var n=[],i=!0,a=!1,o=void 0
try{for(var s,l=r(t);!(i=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return n}},function(t,e,n){t.exports=n(153)},function(t,e,n){n(44),n(41),t.exports=n(158)},function(t,e,n){"use strict"
var r=n(155),i=n(106),a=n(45),o=n(33)
t.exports=n(84)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++
return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){"use strict"
var r=n(59),i=n(51),a=n(57),o={}
n(36)(o,n(26)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var r=n(77),i=n(65)
t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),l=r(n),c=s.length
return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(t,e,n){var r=n(28),i=n(86)
t.exports=n(10).getIterator=function(t){var e=i(t)
if("function"!=typeof e)throw TypeError(t+" is not iterable!")
return r(e.call(t))}},function(t,e,n){n(160),t.exports=n(10).parseInt},function(t,e,n){var r=n(12),i=n(161)
r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(21).parseInt,i=n(108).trim,a=n(87),o=/^[-+]?0[xX]/
t.exports=8!==r(a+"08")||22!==r(a+"0x16")?function parseInt(t,e){var n=i(String(t),3)
return r(n,e>>>0||(o.test(n)?16:10))}:r},function(t,e,n){n(41),n(163),t.exports=n(10).Array.from},function(t,e,n){"use strict"
var r=n(31),i=n(12),a=n(40),o=n(109),s=n(110),l=n(66),c=n(100),u=n(86)
i(i.S+i.F*!n(111)(function(t){Array.from(t)}),"Array",{from:function from(t){var e,n,i,d,h=a(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,_=void 0!==g,v=0,y=u(h)
if(_&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(e=l(h.length));e>v;v++)c(n,v,_?g(h[v],v):h[v])
else for(d=y.call(h),n=new f;!(i=d.next()).done;v++)c(n,v,_?o(d,g,[i.value,v],!0):i.value)
return n.length=v,n}})},function(t,e,n){n(165),t.exports=n(10).Object.entries},function(t,e,n){var r=n(12),i=n(112)(!0)
r(r.S,"Object",{entries:function entries(t){return i(t)}})},function(t,e,n){n(167)
var r=n(10).Object
t.exports=function getOwnPropertyNames(t){return r.getOwnPropertyNames(t)}},function(t,e,n){n(56)("getOwnPropertyNames",function(){return n(104).f})},function(t,e,n){t.exports=n(169)},function(t,e,n){n(41),n(44),t.exports=n(58).f("iterator")},function(t,e,n){n(101),n(60),n(171),n(172),t.exports=n(10).Symbol},function(t,e,n){n(82)("asyncIterator")},function(t,e,n){n(82)("observable")},function(t,e,n){n(174),t.exports=n(10).Object.getPrototypeOf},function(t,e,n){var r=n(40),i=n(85)
n(56)("getPrototypeOf",function(){return function getPrototypeOf(t){return i(r(t))}})},function(t,e,n){n(176),t.exports=n(10).Object.setPrototypeOf},function(t,e,n){var r=n(12)
r(r.S,"Object",{setPrototypeOf:n(177).set})},function(t,e,n){var r=n(25),i=n(28),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}
t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(31)(Function.call,n(54).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function setPrototypeOf(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){n(179)
var r=n(10).Object
t.exports=function create(t,e){return r.create(t,e)}},function(t,e,n){var r=n(12)
r(r.S,"Object",{create:n(59)})},function(t,e,n){t.exports=n(181)},function(t,e,n){n(182),t.exports=n(10).Reflect.construct},function(t,e,n){var r=n(12),i=n(59),a=n(39),o=n(28),s=n(25),l=n(32),c=n(183),u=(n(21).Reflect||{}).construct,d=l(function(){function F(){}return!(u(function(){},[],F)instanceof F)}),h=!l(function(){u(function(){})})
r(r.S+r.F*(d||h),"Reflect",{construct:function construct(t,e){a(t),o(e)
var n=arguments.length<3?t:a(arguments[2])
if(h&&!d)return u(t,e,n)
if(t==n){switch(e.length){case 0:return new t
case 1:return new t(e[0])
case 2:return new t(e[0],e[1])
case 3:return new t(e[0],e[1],e[2])
case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null]
return r.push.apply(r,e),new(c.apply(t,r))}var l=n.prototype,f=i(s(l)?l:Object.prototype),p=Function.apply.call(t,f,e)
return s(p)?p:f}})},function(t,e,n){"use strict"
var r=n(39),i=n(25),a=n(114),o=[].slice,s={}
t.exports=Function.bind||function bind(t){var e=r(this),n=o.call(arguments,1),l=function(){var r=n.concat(o.call(arguments))
return this instanceof l?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]"
s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):a(e,r,t)}
return i(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e,n){var r=n(10),i=r.JSON||(r.JSON={stringify:JSON.stringify})
t.exports=function stringify(t){return i.stringify.apply(i,arguments)}},function(t,e,n){var r=n(13)
t.exports=function _arrayWithoutHoles(t){if(r(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e]
return n}}},function(t,e,n){t.exports=n(187)},function(t,e,n){n(44),n(41),t.exports=n(188)},function(t,e,n){var r=n(70),i=n(26)("iterator"),a=n(45)
t.exports=n(10).isIterable=function(t){var e=Object(t)
return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){n(60),n(41),n(44),n(191),n(195),n(197),n(198),t.exports=n(10).Set},function(t,e,n){"use strict"
var r=n(116),i=n(91)
t.exports=n(118)("Set",function(t){return function Set(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){var r=n(31),i=n(76),a=n(40),o=n(66),s=n(193)
t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d,f=e||s
return function(e,s,p){for(var g,_,v=a(e),y=i(v),b=r(s,p,3),m=o(y.length),k=0,w=n?f(e,m):l?f(e,0):void 0;m>k;k++)if((h||k in y)&&(_=b(g=y[k],k,v),t))if(n)w[k]=_
else if(_)switch(t){case 3:return!0
case 5:return g
case 6:return k
case 2:w.push(g)}else if(u)return!1
return d?-1:c||u?u:w}}},function(t,e,n){var r=n(194)
t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(25),i=n(83),a=n(26)("species")
t.exports=function(t){var e
return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(12)
r(r.P+r.R,"Set",{toJSON:n(119)("Set")})},function(t,e,n){var r=n(61)
t.exports=function(t,e){var n=[]
return r(t,!1,n.push,n,e),n}},function(t,e,n){n(120)("Set")},function(t,e,n){n(121)("Set")},function(t,e,n){n(200),t.exports=n(10).Object.values},function(t,e,n){var r=n(12),i=n(112)(!1)
r(r.S,"Object",{values:function values(t){return i(t)}})},function(t,e,n){n(202),t.exports=n(10).parseFloat},function(t,e,n){var r=n(12),i=n(203)
r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(21).parseFloat,i=n(108).trim
t.exports=1/r(n(87)+"-0")!=-1/0?function parseFloat(t){var e=i(String(t),3),n=r(e)
return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){n(60),t.exports=n(58).f("toStringTag")},function(t,e,n){t.exports=n(58).f("toPrimitive")},function(t,e,n){n(207),t.exports=n(10).Number.isNaN},function(t,e,n){var r=n(12)
r(r.S,"Number",{isNaN:function isNaN(t){return t!=t}})},function(t,e,n){t.exports=n(209)},function(t,e,n){n(210),t.exports=n(10).Reflect.get},function(t,e,n){var r=n(54),i=n(85),a=n(37),o=n(12),s=n(25),l=n(28)
o(o.S,"Reflect",{get:function get(t,e){var n,o,c=arguments.length<3?t:arguments[2]
return l(t)===c?t[e]:(n=r.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:s(o=i(t))?get(o,e,c):void 0}})},function(t,e,n){var r=n(0)
t.exports=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){(function(e){var r=n(122),i=1/0,a="[object Symbol]",o=/[&<>"'`]/g,s=RegExp(o.source),l="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")()
var d=function basePropertyOf(t){return function(e){return null==t?void 0:t[e]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),h=Object.prototype.toString,f=u.Symbol,p=f?f.prototype:void 0,g=p?p.toString:void 0,_={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:r,variable:"",imports:{_:{escape:function escape(t){return(t=function toString(t){return null==t?"":function baseToString(t){if("string"==typeof t)return t
if(function isSymbol(t){return"symbol"==typeof t||function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==a}(t))return g?g.call(t):""
var e=t+""
return"0"==e&&1/t==-i?"-0":e}(t)}(t))&&s.test(t)?t.replace(o,d):t}}}}
t.exports=_}).call(this,n(71))},function(t,e,n){t.exports=n(214)},function(t,e,n){n(60),n(41),n(44),n(215),n(216),n(217),n(218),t.exports=n(10).Map},function(t,e,n){"use strict"
var r=n(116),i=n(91)
t.exports=n(118)("Map",function(t){return function Map(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(t){var e=r.getEntry(i(this,"Map"),t)
return e&&e.v},set:function set(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(12)
r(r.P+r.R,"Map",{toJSON:n(119)("Map")})},function(t,e,n){n(120)("Map")},function(t,e,n){n(121)("Map")},function(t,e){t.exports=function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,n){t.exports=n(221)},function(t,e,n){n(222),t.exports=n(10).Object.freeze},function(t,e,n){var r=n(25),i=n(69).onFreeze
n(56)("freeze",function(t){return function freeze(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=function(t){"use strict"
var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag"
function wrap(t,e,n,r){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),o=new Context(r||[])
return a._invoke=function makeInvokeMethod(t,e,n){var r=l
return function invoke(i,a){if(r===u)throw new Error("Generator is already running")
if(r===d){if("throw"===i)throw a
return doneResult()}for(n.method=i,n.arg=a;;){var o=n.delegate
if(o){var s=maybeInvokeDelegate(o,n)
if(s){if(s===h)continue
return s}}if("next"===n.method)n.sent=n._sent=n.arg
else if("throw"===n.method){if(r===l)throw r=d,n.arg
n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg)
r=u
var f=tryCatch(t,e,n)
if("normal"===f.type){if(r=n.done?d:c,f.arg===h)continue
return{value:f.arg,done:n.done}}"throw"===f.type&&(r=d,n.method="throw",n.arg=f.arg)}}}(t,n,o),a}function tryCatch(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap
var l="suspendedStart",c="suspendedYield",u="executing",d="completed",h={}
function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var f={}
f[a]=function(){return this}
var p=Object.getPrototypeOf,g=p&&p(p(values([])))
g&&g!==n&&r.call(g,a)&&(f=g)
var _=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(f)
function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function AsyncIterator(t){var e
this._invoke=function enqueue(n,i){function callInvokeWithMethodAndArg(){return new Promise(function(e,a){!function invoke(e,n,i,a){var o=tryCatch(t[e],t,n)
if("throw"!==o.type){var s=o.arg,l=s.value
return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):Promise.resolve(l).then(function(t){s.value=t,i(s)},function(t){return invoke("throw",t,i,a)})}a(o.arg)}(n,i,e,a)})}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,n){var r=t.iterator[n.method]
if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,maybeInvokeDelegate(t,n),"throw"===n.method))return h
n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=tryCatch(r,t.iterator,n.arg)
if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h
var a=i.arg
return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function pushTryEntry(t){var e={tryLoc:t[0]}
1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{}
e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var n=t[a]
if(n)return n.call(t)
if("function"==typeof t.next)return t
if(!isNaN(t.length)){var i=-1,o=function next(){for(;++i<t.length;)if(r.call(t,i))return next.value=t[i],next.done=!1,next
return next.value=e,next.done=!0,next}
return o.next=o}}return{next:doneResult}}function doneResult(){return{value:e,done:!0}}return GeneratorFunction.prototype=_.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor
return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[o]=function(){return this},t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,i){var a=new AsyncIterator(wrap(e,n,r,i))
return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(_),_[s]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[]
for(var n in t)e.push(n)
return e.reverse(),function next(){for(;e.length;){var n=e.pop()
if(n in t)return next.value=n,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0
var t=this.tryEntries[0].completion
if("throw"===t.type)throw t.arg
return this.rval},dispatchException:function(t){if(this.done)throw t
var n=this
function handle(r,i){return o.type="throw",o.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion
if("root"===a.tryLoc)return handle("end")
if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc")
if(s&&l){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)
if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally")
if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n]
if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i
break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null)
var o=a?a.completion:{}
return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg
return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e]
if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e]
if(n.tryLoc===t){var r=n.completion
if("throw"===r.type){var i=r.arg
resetTryEntry(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports)
try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){n(60),n(41),n(44),n(225),n(228),n(229),t.exports=n(10).Promise},function(t,e,n){"use strict"
var r,i,a,o,s=n(53),l=n(21),c=n(31),u=n(70),d=n(12),h=n(25),f=n(39),p=n(90),g=n(61),_=n(123),v=n(124).set,y=n(226)(),b=n(92),m=n(125),k=n(227),w=n(126),x=l.TypeError,S=l.process,j=S&&S.versions,E=j&&j.v8||"",D=l.Promise,T="process"==u(S),O=function(){},A=i=b.f,L=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[n(26)("species")]=function(t){t(O,O)}
return(T||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==E.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e
return!(!h(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0
var n=t._c
y(function(){for(var r=t._v,i=1==t._s,a=0,o=function(e){var n,a,o,s=i?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain
try{s?(i||(2==t._h&&W(t),t._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),o=!0)),n===e.promise?c(x("Promise-chain cycle")):(a=P(n))?a.call(n,l,c):l(n)):c(r)}catch(t){u&&!o&&u.exit(),c(t)}};n.length>a;)o(n[a++])
t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(l,function(){var e,n,r,i=t._v,a=F(t)
if(a&&(e=m(function(){T?S.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=T||F(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},W=function(t){v.call(l,function(){var e
T?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this
e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},z=function(t){var e,n=this
if(!n._d){n._d=!0,n=n._w||n
try{if(n===t)throw x("Promise can't be resolved itself");(e=P(t))?y(function(){var r={_w:n,_d:!1}
try{e.call(t,c(z,r,1),c(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,C(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}}
L||(D=function Promise(t){p(this,D,"Promise","_h"),f(t),r.call(this)
try{t(c(z,this,1),c(I,this,1))}catch(t){I.call(this,t)}},(r=function Promise(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(89)(D.prototype,{then:function then(t,e){var n=A(_(this,D))
return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r
this.promise=t,this.resolve=c(z,t,1),this.reject=c(I,t,1)},b.f=A=function(t){return t===D||t===o?new a(t):i(t)}),d(d.G+d.W+d.F*!L,{Promise:D}),n(57)(D,"Promise"),n(117)("Promise"),o=n(10).Promise,d(d.S+d.F*!L,"Promise",{reject:function reject(t){var e=A(this)
return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!L),"Promise",{resolve:function resolve(t){return w(s&&this===o?D:this,t)}}),d(d.S+d.F*!(L&&n(111)(function(t){D.all(t).catch(O)})),"Promise",{all:function all(t){var e=this,n=A(e),r=n.resolve,i=n.reject,a=m(function(){var n=[],a=0,o=1
g(t,!1,function(t){var s=a++,l=!1
n.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)})
return a.e&&i(a.v),n.promise},race:function race(t){var e=this,n=A(e),r=n.reject,i=m(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})})
return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(21),i=n(124).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,l="process"==n(52)(o)
t.exports=function(){var t,e,n,c=function(){var r,i
for(l&&(r=o.domain)&&r.exit();t;){i=t.fn,t=t.next
try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()}
if(l)n=function(){o.nextTick(c)}
else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0)
n=function(){u.then(c)}}else n=function(){i.call(r,c)}
else{var d=!0,h=document.createTextNode("")
new a(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0}
e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(21).navigator
t.exports=r&&r.userAgent||""},function(t,e,n){"use strict"
var r=n(12),i=n(10),a=n(21),o=n(123),s=n(126)
r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),n="function"==typeof t
return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict"
var r=n(12),i=n(92),a=n(125)
r(r.S,"Promise",{try:function(t){var e=i.f(this),n=a(t)
return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict"
n.r(e)
var r={}
n.r(r),n.d(r,"id2name",function(){return id2name}),n.d(r,"cls2id",function(){return cls2id}),n.d(r,"count_char",function(){return count_char}),n.d(r,"dedent",function(){return dedent})
var i=n(22),a=n.n(i),o=n(62),s=n.n(o),l=n(48),c=n.n(l),u=n(34),d=n.n(u),h=n(49),f=n.n(h),p=n(6),g=n.n(p),v=n(5),y=n.n(v),b=n(20),m=n.n(b),k=n(93),w=n.n(k),x=n(7),S=n.n(x),j=(performance.now(),function _performance(t){var e=performance.now(),n=e
_performance.events.length>=1&&(n=_performance.events[_performance.events.length-1][1]),_performance.events.push([t,e,e-n])})
j.events=[],j.toString=function(){j.events.forEach(function(t){var e=S()(t,3),n=e[0],r=(e[1],e[2])
return console.log("PERF-EVT:",Math.round(r,6),n)})},j("loaded-stats-timer")
var E=j,D=n(16),T=n.n(D),O=n(14),A=n.n(O),L=n(8),P=0,C=1,R=2,F=3,W=4,I={_loglevel:null,_debug:null,_attrs:null,_get_attrs:function _get_attrs(){var t=Object(L.b)(),e={crossorigin:null,main:null}
return null==t?e:(A()(t.attributes,function(t){var n
switch(t.name.toLowerCase()){case"debug":case"loglevel":break
case"crossorigin":e.crossorigin=t.value
break
case"data-main":".js"!==(n=t.value).slice(-n.length)&&(n+=".js"),e.main=n
break
default:e[t.name]=t.value}}),e)},_get_loglevel:function _get_loglevel(){if(void 0!==L.a.LOGLEVEL)return L.a.LOGLEVEL
if(void 0!==L.a.DEBUG)return this._debug=L.a.DEBUG,W
var t=Object(L.b)()
if(null===t)return W
var e=t.getAttribute("loglevel")
if(null!==e)return T()(e,10)
var n=t.getAttribute("debug")
return null!==n?(this._debug=!!n,W):P},_get_debug:function _get_debug(){if(void 0!==L.a.DEBUG)return L.a.DEBUG
var t=Object(L.b)()
if(null===t)return!0
var e=t.getAttribute("debug")
return null!==e&&!!e},get attrs(){return null===this._attrs&&(this._attrs=this._get_attrs()),this._attrs},get LOGLEVEL(){return null===this._loglevel&&(this._loglevel=this._get_loglevel()),this._loglevel},get DEBUG(){return null===this._debug&&(this._debug=this._get_debug()),this._debug}}
function id2name(t){return t.replace(/-/g,"_")}function cls2id(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function count_char(t,e){var n=t.match(new RegExp(e,"g"))
return n?n.length:0}function dedent(t){if(!t)return""
var e=t.split("\n"),n=0,r=e.length-1
e[0].match(/^\s*$/)&&(e[0]="",++n),e[e.length-1].match(/^\s*$/)&&(e[e.length-1]="",--r)
var i=e.slice(n,r).map(function(t){var e=t.match(/(^[ \t]*)[^ \t\n]/)
return e?e[1]:""}),a=null
return i.forEach(function(t){null===a?a=t:t.startsWith(a)||(a=a.startsWith(t)?t:"")}),a&&(t=e.join("\n").replace(new RegExp("^"+a,"mg"),"")),t}var z={_default:1}
var q=function counter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return t||e?(z[t]||(e||(e=1),z[t]=e),t+z[t]++):z._default++}
var N=function type_name(t){return{}.toString.call(t).split(" ")[1].slice(0,-1)},G=function is_nested(t){var e=N(t)
return"Object"===e||"Array"===e}
function deep_observer(){if(window.ActiveXObject||!("ActiveXObject"in window))return function _deep_observer(t,e,n,r){switch(void 0===r&&(r=""),void 0===n&&(n=t),N(t)){case"Object":g()(t).forEach(function(i){G(t[i])&&(t[i]=_deep_observer(t[i],e,n,r+"."+i))})
break
case"Array":t.forEach(function(i,a){G(i)&&(t[a]=_deep_observer(i,e,n,r+"[".concat(a,"]")))})}return new Proxy(t,{set:function set(t,i,a){return G(a)&&(a=_deep_observer(a,e,n,r+"."+i)),t[i]=a,e&&e(n,t,i,a,r+"."+i),!0}})}.apply(void 0,arguments)}var M=n(11),H=n.n(M),B={error:function error(){var t
I.LOGLEVEL>=P&&L.a.console&&L.a.console.error&&(t=L.a.console).error.apply(t,arguments)},warn:function warn(){var t
I.LOGLEVEL>=C&&L.a.console&&L.a.console.warn&&(t=L.a.console).warn.apply(t,arguments)},log:function log(){var t
I.LOGLEVEL>=R&&L.a.console&&L.a.console.log&&(t=L.a.console).log.apply(t,arguments)},info:function info(){var t
I.LOGLEVEL>=F&&L.a.console&&L.a.console.info&&(t=L.a.console).info.apply(t,arguments)},debug:function debug(){var t
I.LOGLEVEL>=W&&L.a.console&&L.a.console.debug&&(t=L.a.console).debug.apply(t,arguments)},dir:function dir(){if(I.LOGLEVEL>=W&&L.a.console&&L.a.console.dir){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n]
if(L.a.console.group&&0!==e.length){var r=e[0],i=e.slice(1)
L.a.console.group("string"==typeof r?r:"")
var a=1===e.length?r:i
L.a.console.dir(a),L.a.console.groupEnd()}else{var o;(o=L.a.console).dir.apply(o,e)}}}},U={_inline_elements:["a","abbr","acronym","b","basefont","bdo","big","br","cite","code","dfn","em","font","i","img","input","kbd","label","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var","applet","button","del","iframe","ins","map","object","script"],_block_elements:["address","blockquote","center","dir","div","dl","fieldset","form","h1","h2","h3","h4","h5","h6","hr","isindex","menu","noframes","noscript","ol","p","pre","table","ul","dd","dt","frameset","li","tbody","td","tfoot","th","thead","tr","applet","button","del","iframe","ins","map","object","script","main","section","article","nav","header","footer"],_self_closing_elements:["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],is_inline:function is_inline(t){return this._inline_elements.includes(t)},is_block:function is_block(t){return this._block_elements.includes(t)},is_tag:function is_tag(t){return this.is_inline(t)||this.is_block(t)},is_self_closing:function is_self_closing(t){return this._self_closing_elements.includes(t)},create_dom:function create_dom(t,e){var n=document.createElement(t)
return H()(e||{}).forEach(function(t){var e=S()(t,2),r=e[0],i=e[1]
return n.setAttribute(r,i)}),n},add_classes:function add_classes(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]
t||B.error("node is null (classes=".concat(n,")")),A()(n).filter(function(t){return!!t}).forEach(function(e){return t.classList.add(e)})},remove_classes:function remove_classes(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]
t||B.error("node is null (classes=".concat(n,")")),A()(n).filter(function(t){return!!t}).forEach(function(e){return t.classList.remove(e)})},equal:function equal(t,e){if(t.jquery&&e.jquery){for(var n=0;n<t.length;){if(!t[n].isEqualNode(e[n]))return B.debug("not equal:",t[n],e[n]),!1;++n}return!0}return t.isEqualNode?t.isEqualNode(e):(B.debug("cannot compare:",t,e),!1)},dkitem:function dkitem(t){if(!t.jquery)throw"item must be a jquery object"
return t.appendln=function(){t.append("\n\t\t")
var e=t.append.apply(t,arguments)
return t.append("\n\t\t"),e},t},find:function find(t,e){var n=e.find.call(e,t+":eq(0)")
return n.length>0?this.dkitem(n):null},id:function id(t){return document.getElementById(t)},one:function one(){var t,e=(t=document).querySelectorAll.apply(t,arguments)
return e.length>0?e[0]:null},here:function here(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=q(t||"dk-here-");(e=e||document).write('<div id="'.concat(n,'"></div>'))
var r=e.getElementById(n),i=r.parentNode
if(!i)throw"Couldn't attach to parent.."
return i.removeChild(r),i.id||(i.id=n),i}}
var V=n(127),J=n.n(V),K=n(2),Y=n.n(K),Q=n(0),X=n.n(Q),Z=n(3),tt=n.n(Z),et=n(64),nt=n.n(et),rt=n(63),it=n.n(rt),at=n(1),ot=n.n(at),st=n(4),lt=n.n(st),ct=n(13),ut=n.n(ct),dt=n(9),ht=n.n(dt),ft=n(17),pt=n.n(ft),gt=n(38),_t=n.n(gt),vt=9007199254740991,yt="[object AsyncFunction]",bt="[object Boolean]",mt="[object Function]",kt="[object GeneratorFunction]",wt="[object String]",xt="[object Proxy]",St=Object.prototype,jt=void 0!==_t.a?_t.a.prototype:null,Et=St.hasOwnProperty,Dt=St.propertyIsEnumerable,Tt=St.toString
var Ot=function overArg(t,e){return function(n){return t(e(n))}}(g.a,Object)
function baseGetTag(t){return function objectToString(t){return Tt.call(t)}(t)}function isObject(t){var e=pt()(t)
return null!=t&&("object"===e||"function"===e)}function isObjectLike(t){return null!=t&&"object"==pt()(t)}function isFunction(t){if(!isObject(t))return!1
var e=baseGetTag(t)
return e===mt||e===kt||e===yt||e===xt}function isString(t){return"string"==typeof t||!ut()(t)&&isObjectLike(t)&&baseGetTag(t)===wt}function isArrayLike(t){return null!=t&&function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=vt}(t.length)&&!isFunction(t)}var At=function noop(){},Lt=At(function(){return arguments}())?At:function(t){return isObjectLike(t)&&Et.call(t,"callee")&&!Dt.call(t,"callee")}
function eq(t,e,n,r){if(t===e)return 0!==t||1/t==1/e
if(null==t||null==e)return!1
if(t!=t)return e!=e
var i=pt()(t)
return("function"===i||"object"===i||"object"==pt()(e))&&(t.isEqual?t.isEqual(e):e.isEqual?e.isEqual(t):function deepEq(t,e,n,r){var i=toString.call(t)
if(i!==toString.call(e))return!1
switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e
case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e
case"[object Date]":case"[object Boolean]":return+t==+e
case"[object Symbol]":return jt.valueOf.call(t)===jt.valueOf.call(e)}var a="[object Array]"===i
if(!a){if("object"!=pt()(t)||"object"!=pt()(e))return!1
var o=t.constructor,s=e.constructor
if(o!==s&&!(isFunction(o)&&o instanceof o&&isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[]
var l=(n=n||[]).length
for(;l--;)if(n[l]===t)return r[l]===e
if(n.push(t),r.push(e),a){if((l=t.length)!==e.length)return!1
for(;l--;)if(!eq(t[l],e[l],n,r))return!1}else{var c,u=g()(t)
if(l=u.length,g()(e).length!==l)return!1
for(;l--;)if(c=u[l],h=c,null==(d=e)||!Et.call(d,h)||!eq(t[c],e[c],n,r))return!1}var d,h
return n.pop(),r.pop(),!0}(t,e,n,r))}var Pt,Ct,Rt,Ft,Wt,It,zt,qt={isFunction:isFunction,isObject:isObject,isBoolean:function isBoolean(t){return!0===t||!1===t||isObjectLike(t)&&baseGetTag(t)===bt},isString:isString,isUndefined:function isUndefined(t){return void 0===t},isNull:function isNull(t){return null===t},isEmpty:function isEmpty(t){return isArrayLike(t)&&(ut()(t)||isString(t)||isFunction(t.splice)||Lt(t))?!t.length:!Ot(t).length},isEqual:function is_isEqual(t,e){return eq(t,e)},isProps:function isProps(t){var e=null!=t&&"object"==pt()(t),n=Object.prototype.toString.call(t)
if(!e||"[object Object]"!==n)return!1
var r=it()(Object(t))
if(null===r)return!0
var i=Object.prototype.hasOwnProperty.call(r,"constructor")&&r.constructor
return"function"==typeof i&&i instanceof i&&Function.prototype.toString.call(i)===Function.prototype.toString.call(Object)}},$t={create_namespace:function create_namespace(t,e){var n=this,r=t.split(".")
return r.forEach(function(t,i){void 0===n[t]&&(i===r.length-1&&void 0!==e?n[t]=e:n[t]={}),n=n[t]}),n},traverse:function traverse(t,e){if(null!=e){var n=e.split("."),r=t
return n.forEach(function(e){r="this"===e?t:r[e]}),r}},update:function update(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]
return y.a.apply(Object,[t].concat(n))},combine:function combine(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n]
return y.a.apply(Object,[{}].concat(e))},merge:(Pt=/{#}/,Ct=/{_}/,Rt=function string(t,e){if(Ct.test(t)&&Pt.test(e))throw"You cannot specify both a hole ('".concat(t,"') and a substitution ('").concat(e,"').")
return Pt.test(e)?e.replace(Pt,t):Ct.test(t)?t.replace(Ct,e):e},Ft=function boolean(t,e){return e},Wt=function object(t,e){var n={}
for(var r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)?n[r]=zt(t[r],e[r]):n[r]=t[r])
for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(n[i]=e[i])
return n},It=function array(t,e){return t.concat(e)},zt=function _merge_ab(t,e){if(qt.isFunction(t)||qt.isUndefined(t)||qt.isNull(t))return e
if(pt()(t)!==pt()(e))throw"incompatible types '".concat(pt()(t),"' (").concat(ht()(t),") and '").concat(pt()(e),"' (").concat(ht()(e),").")
return qt.isString(t)&&qt.isString(e)?Rt(t,e):qt.isBoolean(t)&&qt.isBoolean(e)?Ft(t,e):ut()(t)&&ut()(e)?It(t,e):qt.isObject(t)&&qt.isObject(e)?Wt(t,e):e},function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n]
if(0!==e.length){for(var r=e[0],i=1;i<e.length;i++){var a=arguments[i]
a&&(r=zt(r,a))}return r}})}
function _set_name(t,e){a()(t,"name",{configurable:!0,enumerable:!1,writable:!1,value:e})}var Nt=function(){function Class(){ot()(this,Class),this.__class__=this.constructor
for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
if(t=1===n.length?n[0]:A()(n).every(function(t){return qt.isProps(t)})?y.a.apply(Object,[t].concat(n)):n,qt.isProps(t))for(var i in t)if(t.hasOwnProperty(i)){var a=t[i]
this[i]=a}void 0!==this.init&&this.init(t)}return lt()(Class,[{key:"DEFINES",value:function DEFINES(t){return t in this&&"function"==typeof this[t]}},{key:"FN",value:function FN(t){var e=this[t]
if(e){var n=e.bind(this)
return _set_name(n,it()(this).constructor.name+"."+t),n}return function(){}}},{key:"toString",value:function toString(){return"".concat(this.__class__.name,"(...)")}}],[{key:"create",value:function create(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n]
return 1===e.length&&e[0]instanceof this?e[0]:nt()(this,e)}},{key:"extend",value:function extend(t){var e=t.classattrs
delete t.classattrs
var n=t.__name__
delete t.__name__
var r=n||"(missing __name__ attribute) SubclassOf"+this.name,i=function(t){function SubClass(){return ot()(this,SubClass),Y()(this,X()(SubClass).apply(this,arguments))}return tt()(SubClass,t),SubClass}(this)
for(var o in _set_name(i,r),J()(t).forEach(function(e){var n=d()(t,e)
a()(i.prototype,e,n)}),e)i[o]=e[o]
return i.toString=function(){return i.name},i}}]),Class}()
E("dk-class")
var Gt=n(15),Mt=n.n(Gt),Ht=n(19),Bt=n.n(Ht),Ut=function set_empty(t){return 0===t.size},Vt=function set_intersection(t,e){return new Bt.a(Mt()(t).filter(function(t){return e.has(t)}))},Jt=function set_difference(t,e){return new Bt.a(Mt()(t).filter(function(t){return!e.has(t)}))},Kt=function set_issubset(t,e){return Ut(Jt(t,e))},Yt=function set_equal(t,e){return t.size===e.size&&Kt(t,e)},Qt=function array_intersection(t,e){return Vt(new Bt.a(t),new Bt.a(e))},Xt=function array_difference(t,e){return Jt(new Bt.a(t),new Bt.a(e))}
var Zt={}
var te={}
function dkwarning(t){if(te[t])return""
te[t]=!0
var e=(new Error).stack
return console.warn(t,e),t}var ee=n(46),ne=n.n(ee)
function pick(t,e){if(null==t)return{}
ut()(e)||(e=[e])
var n={}
return e.forEach(function(e){n[e]=t[e]}),n}function zip_object(t,e){return t.reduce(function(t,n,r){return y()(t,m()({},n,e[r]))},{})}function matches(t,e){function _matches(t,e){return ut()(e)?function matches_array(t,e){return Yt(Qt(t,e),new Bt.a(e))}(t,e):qt.isProps(e)?function matches_object(t,e){if(!qt.isProps(e))throw"target must be a plain object, not ".concat(e)
return H()(e).map(function(e){var n=S()(e,2),r=n[0],i=n[1]
return _matches(t[r],i)}).every(function(t){return!!t})}(t,e):t===e}return _matches(t,e)}var re=I.DEBUG?P:F
function debugstr(t){try{var e=""
return t.tagName?(e+=t.tagName,t.id&&(e+="#"+t.id),e):t.toString()}catch(t){return"[error converting obj to string]"}}var ie=_t()("listeners")
function _attach_listener(t,e,n){void 0===t[ie]&&(t[ie]={}),void 0===t[ie][e]&&(t[ie][e]=[]),t[ie][e].push(n)}function dk_signals_on(t,e,n){if(null===t)return{run:function run(){}}
if(I.DEBUG&&I.LOGLEVEL>=re)if(t&&e&&n)B.debug("dk.on(".concat(debugstr(t),', "').concat(e,'", run: ').concat(n.toString(),")"))
else if(B.error("dk.on argument error:",t,e,n),!t)throw new Error("Can't listen on undefined object: "+t)
if(void 0===t)throw new Error("Cannot listen on undefined object: "+t)
if(void 0===n)return{run:function run(n){_attach_listener(t,e,n)}}
_attach_listener(t,e,n)}function dk_signals_trigger(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]
if(I.DEBUG&&I.LOGLEVEL>=re+1)debugstr(t).length,1===r.length&&r[0]
t[ie]&&t[ie][e]&&t[ie][e].forEach(function(t){t.name&&B.debug("    run: ".concat(t.name,"(").concat(r,")")),t.apply(void 0,r)})}L.a.$trigger=dk_signals_trigger
var ae=function add(t,e){return t+e},oe=function mul(t,e){return t*e},se=function zip(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n]
return Mt()(e[0]).map(function(t,n){return e.map(function(t){return t[n]})})},le=function vec_mul(t){return t.reduce(oe,1)}
function multiply_reduce(){return se.apply(void 0,arguments).map(le).reduce(ae,0)}function encode_url_value(t){return btoa(unescape(encodeURIComponent(ht()(t))))}function decode_url_value(t){try{return JSON.parse(decodeURIComponent(escape(atob(t))))}catch(t){throw t}}ht.a,JSON.parse
var ce={encode:function encode(t){return console.log("encoding",t),encodeURIComponent(ht()(t))},decode:function decode(t){return console.log("decoding",t),JSON.parse(decodeURIComponent(t))}},ue=function(){function StorageBase(){ot()(this,StorageBase),this._encode=encode_url_value,this._decode=decode_url_value,this.capabilities={flat:!1,typed:!0,write_all:!1,max_keys:null,max_total_size:null,max_value_size:null}}return lt()(StorageBase,[{key:"encode",value:function encode(t){return this.capabilities.typed?t:this._encode(t)}},{key:"decode",value:function decode(t){return this.capabilities.typed?t:this._decode(t)}},{key:"get",value:function get(t,e){var n=this._get(t)
return void 0===n?(this.set(t,e),e):this.decode(n)}},{key:"set",value:function set(t,e){return this._set(t,this.encode(e)),this}},{key:"del",value:function del(t){return this._del(t),this}},{key:"all",value:function all(){var t=this,e={},n=this._all()
return H()(n).forEach(function(n){var r=S()(n,2),i=r[0],a=r[1]
return e[i]=t.decode(a)}),e}},{key:"keys",value:function keys(){return g()(this._all())}},{key:"values",value:function values(){var t=this
return ne()(this._all()).map(function(e){return t.decode(e)})}},{key:"entries",value:function entries(){var t=this
return H()(this._all()).map(function(e){var n=S()(e,2),r=n[0],i=n[1]
return[r,t.decode(i)]})}},{key:"clear",value:function clear(){var t=this
this.keys().forEach(function(e){return t.del(e)})}},{key:"_get",value:function _get(t){}},{key:"_set",value:function _set(t,e){}},{key:"_del",value:function _del(t){}},{key:"_all",value:function _all(){return{}}},{key:"save",value:function save(t){}},{key:"includes",value:function includes(t){return!1}}]),StorageBase}(),de=function(t){function HashStorage(){var t
return ot()(this,HashStorage),(t=Y()(this,X()(HashStorage).call(this))).name="HashStorage",t.capabilities={flat:!0,typed:!1,write_all:!0,max_keys:null,max_total_size:2050,max_value_size:null},t}return tt()(HashStorage,t),lt()(HashStorage,[{key:"_get",value:function _get(t){return this._all()[t]}},{key:"_set",value:function _set(t,e){var n=this._all()
n[t]=e,this.save(n)}},{key:"_del",value:function _del(t){var e=this._all()
delete e[t],this.save(e)}},{key:"_all",value:function _all(){var t=document.location.hash.substring(1)
return""===t?{}:decode_url_value(t)}},{key:"save",value:function save(t){document.location.hash=encode_url_value(t)}},{key:"includes",value:function includes(t){return t in this._all()}}]),HashStorage}(ue)
function ownKeys(t,e){var n=g()(t)
if(f.a){var r=f()(t)
e&&(r=r.filter(function(e){return d()(t,e).enumerable})),n.push.apply(n,r)}return n}var he=function dk(t){return document.querySelector(t)}
a()(he,"hash",{get:function get(){if(!he._hash_obj){he._hash_obj=new de
he._hash_obj_proxy=new Proxy(he._hash_obj,{get:function get(t,e){return e in t?t[e]:t.get(e)},set:function set(t,e,n){return t.set(e,n)}})}return he._hash_obj_proxy}}),y()(he,function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{}
e%2?ownKeys(n,!0).forEach(function(e){m()(t,e,n[e])}):c.a?s()(t,c()(n)):ownKeys(n).forEach(function(e){a()(t,e,d()(n,e))})}return t}({Class:Nt,counter:q,globals:L.a,env:I,namespace:$t.create_namespace,combine:$t.combine,merge:$t.merge,traverse:$t.traverse,on:dk_signals_on,trigger:dk_signals_trigger,after:function after(t,e,n){var r=t[e]
t[e]=function(){return t[e]=r,n(t[e].apply(t,arguments))}},publish:function publish(t,e){dkwarning("dk.publish is deprecated, use dk.trigger(obj, signal, ...args) instead.")
for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]
return dk_signals_trigger.apply(void 0,[t,e].concat(r))},subscribe:function subscribe(t,e,n){return dkwarning("dk.subscribe is deprecated, use dk.on(obj, signal, fn) instead."),dk_signals_on(t,e,n)},bind:function bind(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n]
dkwarning.apply(void 0,["dk.bind is deprecated, called with:"].concat(e))},math:{add:ae,mul:oe,vec_mul:le,multiply_reduce:multiply_reduce}},B,{shallow_observer:function shallow_observer(t,e){return new Proxy(t,{set:function set(t,n,r){return t[n]=r,e&&e(t,n,r),!0}})},deep_observer:deep_observer,performance:E,version:"3.0.0",text:r,id2name:id2name,cls2id:cls2id,count:count_char,dedent:dedent,$:w.a,_jquery_version:w.a.fn.jquery,is:qt,pick:pick,zip_object:zip_object,times:function times(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e(r)
return n},all:function all(t){return document.querySelectorAll(t)},app:{state:{}}})),he.DEBUG=I.DEBUG,he.LOGLEVEL=I.LOGLEVEL,he.dkjstag={get src(){return dkwarning("dk.dkjstag.src is deprecated, use dk.scripttag_attributes.src"),I.attrs.src},get loglevel(){return dkwarning("dk.dkjstag.loglevel is deprecated, use dk.LOGLEVEL"),I.LOGLEVEL},get debug(){return dkwarning("dk.dkjstag.debug is deprecated, use dk.DEBUG"),I.DEBUG},get main(){return dkwarning("dk.dkjstag.main is deprecated, use dk.scripttag['data-main']"),I.attrs["data-main"]},get tag(){return dkwarning("dk.dkjstag.tag is deprecated and shouldn't be used anymore."),Object(L.b)()}},function create_debug_environment(t){t.keys=function(){return g()(t).sort()},t.DEBUG?t.add=function(e){var n=Qt(t.keys(),g()(e))
if(!Ut(n))throw"ERROR: trying to add existing property: ".concat(Mt()(n))
y()(t,e)}:t.add=function(e){return y()(t,e)}}(he),function setup_loaders(t){t.performance("setup-loaders-start")
var e=function _url2name(t){return t.split("/").slice(-1)[0]}
t.$("head>script[src]").each(function(){var n=t.$(this).attr("src")
Zt[e(n)]={type:"js",url:n,loaded:!0,item:this}}),t.$("head>link[rel=stylesheet]").each(function(){var n=t.$(this).attr("href")
Zt[e(n)]={type:"css",url:n,loaded:!0,item:this}})
var n=function load_javascript(e,n,r){return t.$.ajax({dataType:"script",cache:!0,url:n,success:function success(){Zt[e].loaded=!0,t.publish(Zt[e],"loaded",n),r&&r()}})}
n.type="js"
var r=function load_css(e,n,r){t.$("<link>",{rel:"stylesheet",type:"text/css",href:n}).appendTo("head"),Zt[e].loaded=!0,t.publish(Zt[e],"loaded",n),r&&r()}
r.type="css"
var i=function load_url(n,r,i){var a=e(r),o=Zt[a]
o?i&&(o.loaded?i():t.on(o,"loaded").run(i)):(Zt[a]={type:n.type,url:r,loaded:!1},t.info("require:",r),n(a,r,i))},a=function load_all(t,e,n){return ut()(e)?1===e.length?i(t,e[0],n):i(t,e[0],function(){load_all(t,e.slice(1),n)}):i(t,e,n)}
t.add({import:{_loadstate:Zt,css:function css(t,e){return a(r,t,e)},js:function js(t,e){return a(n,t,e)}}}),t.performance("setup-loaders-end")}(he),E("created-dk-obj")
var fe=he
function mcall(t,e){for(var n={},r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]
for(var o in t){var s=t[o]
s[e]&&(n[o]=s[e].apply(s,i))}return n}function is_function(t){return!!(t&&t.constructor&&t.call&&t.apply)}function cls2pojo(t){var e={}
return H()(t).forEach(function(t){var n=S()(t,2),r=n[0],i=n[1]
is_function(i)||"type"===r||/^_.*$/.test(r)||(e[r]=i)}),e}var pe={ctor_apply:function ctor_apply_ctor_apply(t,e){return e=[null].concat(Mt()(e)),new(t.bind.apply(t,e))},cls2pojo:cls2pojo,mcall:mcall,throttle:function throttle(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a]
var o,s=0,l=this
return function debounce_function(){var r=+new Date-s
function exec(){s=+new Date,e.apply(l,i)}n&&!o&&exec(),o&&clearTimeout(o),void 0===n&&r>t&&exec(),o=setTimeout(n?function clear(){o=void 0}:exec,void 0===n?t-r:t)}},is_function:is_function},ge={get:function get(t,e){var n,r=(e=e||{}).raw?function(t){return t}:decodeURIComponent
return(n=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?r(n[1]):null},set:function set(t,e,n){var r=(n=n||{expires:"Tue, 19 Jan 2038 03:14:07 GMT",path:"/"}).raw?e:encodeURIComponent(e)
document.cookie="".concat(encodeURIComponent(t),"=").concat(r,"; expires=").concat(n.expires,"; path=").concat(n.path)},del:function del(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"},all:function all(){var t={}
return""===document.cookie?t:(document.cookie.split(";").forEach(function(e){var n=e.split("=").map(function(t){return t.trim()}),r=S()(n,2),i=r[0],a=r[1]
t[i]=a}),t)},includes:function includes(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function keys(){return g()(this.all())},entries:function entries(){return H()(this.all())}},_e=function(t){function CookieStorage(){var t
return ot()(this,CookieStorage),(t=Y()(this,X()(CookieStorage).call(this)))._encode=ce.encode,t._decode=ce.decode,t.name="CookieStorage",t.capabilities={flat:!0,typed:!1,write_all:!1,max_keys:150,max_total_size:10234,max_value_size:4093},t}return tt()(CookieStorage,t),lt()(CookieStorage,[{key:"_get",value:function _get(t){var e=ge.get(t,{raw:!0})
return null===e?void 0:e}},{key:"_set",value:function _set(t,e){ge.set(t,e,{expires:"Tue, 19 Jan 2038 03:14:07 GMT",path:"/",raw:!0})}},{key:"_del",value:function _del(t){ge.del(t)}},{key:"_all",value:function _all(){return ge.all()}},{key:"includes",value:function includes(t){return ge.includes(t)}},{key:"keys",value:function keys(){return ge.keys()}}]),CookieStorage}(ue),ve=function(t){function LocalStorage(t){var e
return ot()(this,LocalStorage),(e=Y()(this,X()(LocalStorage).call(this))).name="LocalStorage",e.engine=t||window.localStorage,e.capabilities={flat:!0,typed:!1,write_all:!1,max_keys:null,max_total_size:10485760,max_value_size:10485760},e}return tt()(LocalStorage,t),lt()(LocalStorage,[{key:"_get",value:function _get(t){var e=this.engine.getItem(t)
return null===e?void 0:e}},{key:"_set",value:function _set(t,e){this.engine.setItem(t,e)}},{key:"_del",value:function _del(t){this.engine.removeItem(t)}},{key:"_all",value:function _all(){var t=this,e={}
return this.keys().forEach(function(n){return e[n]=t.engine.getItem(n)}),e}},{key:"keys",value:function keys(){for(var t=[],e=0;e<this.engine.length;e++)t.push(this.engine.key(e))
return t}},{key:"clear",value:function clear(){this.engine.clear()}},{key:"includes",value:function includes(t){return this.keys().includes(t)}}]),LocalStorage}(ue),ye=function(t){function SessionStorage(t){var e
return ot()(this,SessionStorage),(e=Y()(this,X()(SessionStorage).call(this,t||window.sessionStorage))).name="SessionStorage",e}return tt()(SessionStorage,t),SessionStorage}(ve),be=function(){function State(t){var e=t.engine,n=t.name
ot()(this,State),this.name=n,this._values=null,this._engine_state="null",this.engine=e?new e:new ve,this.state={hello:"world"}}return lt()(State,[{key:"toString",value:function toString(){return"STATE[".concat(this.name,": ").concat(this._values,"]")}},{key:"get_name",value:function get_name(t){var e=this.values[t]
return void 0===e&&(e={},this._values[t]=e),e}},{key:"get_item",value:function get_item(t,e,n){var r=this.get_name(t)[e]
return void 0===r&&(r=this.set_item(t,e,n)),r}},{key:"set_item",value:function set_item(t,e,n){return this.get_name(t)[e]=n,this.save(),n}},{key:"save_widget",value:function save_widget(t){var e=this,n=t.name
H()(t.get_state()).forEach(function(t){var r=S()(t,2),i=r[0],a=r[1]
e.set_item(n,i,a)})}},{key:"restore_widget",value:function restore_widget(t){t.set_state(this.get_name(t.name))}},{key:"changed",value:function changed(){return this._engine_state!==ht()(this._values)}},{key:"save",value:function save(){this.changed()&&(this.engine.save_values(this.name,this._values),this._engine_state=ht()(this._values))}},{key:"values",get:function get(){return null===this._values&&(this._values=this.engine.values,this._engine_state=ht()(this._values)),this._values}}]),State}()
be.engines={CookieStorage:_e,HashStorage:de,LocalStorage:ve,SessionStorage:ye}
var me={storage:{cookie:_e,local:ve,session:ye,hash:de},State:be},ke=n(72),we=n.n(ke),xe=n(50),Se=n.n(xe),je={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[rj]/,not_json:/[^rj]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-girjostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)]/,sign:/^[+-]/}
function sprintf(t){return function sprintf_format(t,e){var n,r,i,a,o,s,l,c,u,d=1,h=t.length,f=""
for(r=0;r<h;r++)if("string"==typeof t[r])f+=t[r]
else if("object"===pt()(t[r])){if((a=t[r]).keys)for(n=e[d],i=0;i<a.keys.length;i++){if(void 0===n)throw new Error(sprintf('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[i],a.keys[i-1]))
n=n[a.keys[i]]}else n=a.param_no?e[a.param_no]:e[d++]
if(je.not_type.test(a.type)&&je.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),je.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(sprintf("[sprintf] expecting number but found %T",n))
switch(je.number.test(a.type)&&(c=n>=0),a.type){case"b":n=T()(n,10).toString(2)
break
case"c":n=String.fromCharCode(T()(n,10))
break
case"d":case"i":n=T()(n,10)
break
case"r":case"j":n=ht()(n,null,a.width?T()(a.width):0)
break
case"e":n=a.precision?Se()(n).toExponential(a.precision):Se()(n).toExponential()
break
case"f":n=a.precision?Se()(n).toFixed(a.precision):Se()(n)
break
case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):Se()(n)
break
case"o":n=(T()(n,10)>>>0).toString(8)
break
case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n
break
case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n
break
case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n
break
case"u":n=T()(n,10)>>>0
break
case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n
break
case"x":n=(T()(n,10)>>>0).toString(16)
break
case"X":n=(T()(n,10)>>>0).toString(16).toUpperCase()}je.json.test(a.type)?f+=n:(!je.number.test(a.type)||c&&!a.sign?u="":(u=c?"+":"-",n=n.toString().replace(je.sign,"")),s=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",l=a.width-(u+n).length,o=a.width&&l>0?s.repeat(l):"",f+=a.align?u+n+o:"0"===s?u+o+n:o+u+n)}return f}(function sprintf_parse(t){if(Ee[t])return Ee[t]
var e,n=t,r=[],i=0
for(;n;){if(null!=(e=je.text.exec(n)))r.push(e[0])
else if(null!=(e=je.modulo.exec(n)))r.push("%")
else{if(null==(e=je.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder")
if(e[2]){i|=1
var a=[],o=e[2],s=[]
if(null==(s=je.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key")
for(a.push(s[1]);""!==(o=o.substring(s[0].length));)if(null!=(s=je.key_access.exec(o)))a.push(s[1])
else{if(null==(s=je.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key")
a.push(s[1])}e[2]=a}else i|=2
if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported")
r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return Ee[t]=r}(t),arguments)}var Ee=we()(null)
function dk_format_value(t,e,n){return null==t?"":(void 0!==t.v?void 0!==t.f?t.f:t.v?t.v:"":t||"").toString()}var De={twodigits:function twodigits(t){return(t<10?"0":"")+t},value:dk_format_value,percent:function percent(t){return null==t?"":t+"%"},bool:function bool(t,e){return function(n){return n?t:e}},no_date:function no_date(t){return t?function _no_date(t){return sprintf("%02d.%02d.%04d",t.getDate(),t.getMonth()+1,t.getFullYear())}(t.value):""},no_datetime:function no_datetime(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
if(!t)return""
var n=function _no_datetime(t){return sprintf("%02d.%02d.%04d kl.%02d.%02d:%02d",t.getDate(),t.getMonth()+1,t.getFullYear(),t.getHours(),t.getMinutes(),t.getSeconds())}(t.value)
return e?n:n.slice(0,-3)},format_value:function format_value(t,e,n){return dk_format_value(t,e,n)}},Te=n(94),Oe=n.n(Te),Ae=n(128),Le=n.n(Ae),Pe=n(95),Ce=n.n(Pe),Re=n(23),Fe=n.n(Re),We=n(47),Ie=n.n(We),ze=n(24),qe=n.n(ze)
function _decorate(t,e,n,r){var i=function _getDecoratorsApi(){(function _getDecoratorsApi(){return t})
var t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function initializeInstanceElements(t,e){["method","field"].forEach(function(n){e.forEach(function(e){e.kind===n&&"own"===e.placement&&this.defineClassElement(t,e)},this)},this)},initializeClassElements:function initializeClassElements(t,e){var n=t.prototype;["method","field"].forEach(function(r){e.forEach(function(e){var i=e.placement
if(e.kind===r&&("static"===i||"prototype"===i)){var a="static"===i?t:n
this.defineClassElement(a,e)}},this)},this)},defineClassElement:function defineClassElement(t,e){var n=e.descriptor
if("field"===e.kind){var r=e.initializer
n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(t)}}a()(t,e.key,n)},decorateClass:function decorateClass(t,e){var n=[],r=[],i={static:[],prototype:[],own:[]}
if(t.forEach(function(t){this.addElementPlacement(t,i)},this),t.forEach(function(t){if(!_hasDecorators(t))return n.push(t)
var e=this.decorateElement(t,i)
n.push(e.element),n.push.apply(n,e.extras),r.push.apply(r,e.finishers)},this),!e)return{elements:n,finishers:r}
var a=this.decorateConstructor(n,e)
return r.push.apply(r,a.finishers),a.finishers=r,a},addElementPlacement:function addElementPlacement(t,e,n){var r=e[t.placement]
if(!n&&-1!==r.indexOf(t.key))throw new TypeError("Duplicated element ("+t.key+")")
r.push(t.key)},decorateElement:function decorateElement(t,e){for(var n=[],r=[],i=t.decorators,a=i.length-1;a>=0;a--){var o=e[t.placement]
o.splice(o.indexOf(t.key),1)
var s=this.fromElementDescriptor(t),l=this.toElementFinisherExtras((0,i[a])(s)||s)
t=l.element,this.addElementPlacement(t,e),l.finisher&&r.push(l.finisher)
var c=l.extras
if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],e)
n.push.apply(n,c)}}return{element:t,finishers:r,extras:n}},decorateConstructor:function decorateConstructor(t,e){for(var n=[],r=e.length-1;r>=0;r--){var i=this.fromClassDescriptor(t),a=this.toClassDescriptor((0,e[r])(i)||i)
if(void 0!==a.finisher&&n.push(a.finisher),void 0!==a.elements){t=a.elements
for(var o=0;o<t.length-1;o++)for(var s=o+1;s<t.length;s++)if(t[o].key===t[s].key&&t[o].placement===t[s].placement)throw new TypeError("Duplicated element ("+t[o].key+")")}}return{elements:t,finishers:n}},fromElementDescriptor:function fromElementDescriptor(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor}
return a()(e,Oe.a,{value:"Descriptor",configurable:!0}),"field"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function toElementDescriptors(t){if(void 0!==t)return Ie()(t).map(function(t){var e=this.toElementDescriptor(t)
return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),e},this)},toElementDescriptor:function toElementDescriptor(t){var e=String(t.kind)
if("method"!==e&&"field"!==e)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+e+'"')
var n=_toPropertyKey(t.key),r=String(t.placement)
if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"')
var i=t.descriptor
this.disallowProperty(t,"elements","An element descriptor")
var a={kind:e,key:n,placement:r,descriptor:y()({},i)}
return"field"!==e?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),a.initializer=t.initializer),a},toElementFinisherExtras:function toElementFinisherExtras(t){var e=this.toElementDescriptor(t),n=_optionalCallableProperty(t,"finisher"),r=this.toElementDescriptors(t.extras)
return{element:e,finisher:n,extras:r}},fromClassDescriptor:function fromClassDescriptor(t){var e={kind:"class",elements:t.map(this.fromElementDescriptor,this)}
return a()(e,Oe.a,{value:"Descriptor",configurable:!0}),e},toClassDescriptor:function toClassDescriptor(t){var e=String(t.kind)
if("class"!==e)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+e+'"')
this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor")
var n=_optionalCallableProperty(t,"finisher"),r=this.toElementDescriptors(t.elements)
return{elements:r,finisher:n}},runClassFinishers:function runClassFinishers(t,e){for(var n=0;n<e.length;n++){var r=(0,e[n])(t)
if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.")
t=r}}return t},disallowProperty:function disallowProperty(t,e,n){if(void 0!==t[e])throw new TypeError(n+" can't have a ."+e+" property.")}}
return t}()
if(r)for(var o=0;o<r.length;o++)i=r[o](i)
var s=e(function initialize(t){i.initializeInstanceElements(t,l.elements)},n),l=i.decorateClass(function _coalesceClassElements(t){for(var e=[],n=function isSameElement(t){return"method"===t.kind&&t.key===a.key&&t.placement===a.placement},r=0;r<t.length;r++){var i,a=t[r]
if("method"===a.kind&&(i=e.find(n)))if(_isDataDescriptor(a.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(a)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.")
i.descriptor=a.descriptor}else{if(_hasDecorators(a)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").")
i.decorators=a.decorators}_coalesceGetterSetter(a,i)}else e.push(a)}return e}(s.d.map(_createElementDescriptor)),t)
return i.initializeClassElements(s.F,l.elements),i.runClassFinishers(s.F,l.finishers)}function _createElementDescriptor(t){var e,n=_toPropertyKey(t.key)
"method"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:"get"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:"set"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:"field"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0})
var r={kind:"field"===t.kind?"field":"method",key:n,placement:t.static?"static":"field"===t.kind?"own":"prototype",descriptor:e}
return t.decorators&&(r.decorators=t.decorators),"field"===t.kind&&(r.initializer=t.value),r}function _coalesceGetterSetter(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function _hasDecorators(t){return t.decorators&&t.decorators.length}function _isDataDescriptor(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function _optionalCallableProperty(t,e){var n=t[e]
if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+e+"' to be a function")
return n}function _toPropertyKey(t){var e=function _toPrimitive(t,e){if("object"!==pt()(t)||null===t)return t
var n=t[Le.a]
if(void 0!==n){var r=n.call(t,e||"default")
if("object"!==pt()(r))return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string")
return"symbol"===pt()(e)?e:String(e)}var $e={},Ne=function(t){function datatype(){var t
return ot()(this,datatype),(t=Y()(this,X()(datatype).call(this)))._value=void 0,t}return tt()(datatype,t),lt()(datatype,[{key:"_has_my_tag",value:function _has_my_tag(t){return t.length>0&&"string"==typeof t[0]&&t[0].startsWith(this.tag)}},{key:"tag",get:function get(){return this.constructor.tag}},{key:"value",get:function get(){return this._value},set:function set(t){return this._value=t,t}}],[{key:"get_datatypes",value:function get_datatypes(){return $e}},{key:"extend",value:function extend(t){var e=qe()(X()(datatype),"extend",this).call(this,t)
return $e[e.tag]=e,e}}]),datatype}(Nt)
function dkdatatype(t){var e=t.tag
return function decorator(t){if("class"!==t.kind)throw"not class ".concat(t.kind)
return H()({tag:e}).forEach(function(e){var n=S()(e,2),r=n[0],i=n[1]
t.elements.push({kind:"field",key:r,placement:"static",descriptor:{configurable:!1,enumerable:!0,writable:!1},initializer:function initializer(){return i}})}),{kind:"class",elements:t.elements,finisher:function finisher(t){$e[e]=t}}}}var Ge=_decorate([dkdatatype({tag:"@date:"})],function(t,e){return{F:function(e){function DkDate(){var e
ot()(this,DkDate),e=Y()(this,X()(DkDate).call(this)),t(Fe()(e))
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
if(e._has_my_tag(r))e.value=new Date(r[0].substr(e.tag.length))
else if(1===r.length&&r[0]instanceof Date){var a=r[0]
e.value=new Date(a.getFullYear(),a.getMonth(),a.getDate())}else{var o=[].concat(r),s=o[0],l=o[1],c=o[2]
e.value=new Date(s,l,c)}return e}return tt()(DkDate,e),DkDate}(e),d:[{kind:"field",key:"days",value:function value(){return["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]}},{kind:"get",key:"weeknum",value:function weeknum(){var t=new Date(Date.UTC(this.value.getFullYear(),this.value.getMonth(),this.value.getDate())),e=t.getUTCDay()||7
t.setUTCDate(t.getUTCDate()+4-e)
var n=new Date(Date.UTC(t.getUTCFullYear(),0,1))
return Math.ceil(((t-n)/864e5+1)/7)}},{kind:"method",key:"toString",value:function toString(t){var e=this
t||(t="Y-m-d")
var n=""
return A()(t).forEach(function(t){switch(t){case"Y":n+=e.value.getFullYear()
break
case"y":n+=e.value.getFullYear()%100
break
case"W":n+=e.weeknum
break
case"w":n+=e.days[e.value.getDay()]
break
case"n":n+=e.value.getMonth()+1
break
case"m":n+=De.twodigits(e.value.getMonth()+1)
break
case"j":n+=e.value.getDate()
break
case"d":n+=De.twodigits(e.value.getDate())
break
default:n+=t}}),n}},{kind:"method",key:"ttformat",value:function ttformat(){return"d"+this.toString("Ymd")}},{kind:"method",key:"toISOString",value:function toISOString(){return this.value.toISOString()}},{kind:"method",key:"toJSON",value:function toJSON(){return this.tag+this.value.toISOString().slice(0,10)}}]}},Ne),Me=_decorate([dkdatatype({tag:"@datetime:"})],function(t,e){return{F:function(e){function DateTime(){var e
ot()(this,DateTime),e=Y()(this,X()(DateTime).call(this)),t(Fe()(e))
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return e._has_my_tag(r)?e.value=e.parseISOstring(r[0]):e.value=nt()(Date,r),e}return tt()(DateTime,e),DateTime}(e),d:[{kind:"method",key:"parseISOstring",value:function parseISOstring(t){try{return new Date(t.slice(this.tag.length))}catch(e){throw B.error("Cannot parse: "+t),e}}},{kind:"method",key:"toString",value:function toString(t){var e=this
t||(t="Y-m-d H:i:s")
var n=""
return A()(t).forEach(function(t){switch(t){case"Y":n+=e.value.getFullYear()
break
case"y":n+=e.value.getFullYear()%100
break
case"W":n+=e.weeknum
break
case"w":n+=e.days[e.value.getDay()]
break
case"n":n+=e.value.getMonth()+1
break
case"m":n+=De.twodigits(e.value.getMonth()+1)
break
case"j":n+=e.value.getDate()
break
case"d":n+=De.twodigits(e.value.getDate())
break
case"s":n+=De.twodigits(e.value.getSeconds())
break
case"i":n+=De.twodigits(e.value.getMinutes())
break
case"G":n+=e.value.getHours()
break
case"H":n+=De.twodigits(e.value.getHours())
break
case"g":n+=e.value.getHours()%12
break
case"h":n+=De.twodigits(e.value.getHours()%12)
break
case"a":n+=e.value.getHours()<12?"a.m.":"p.m."
break
case"A":n+=e.value.getHours()<12?"A.M.":"P.M."
break
default:n+=t}}),n}},{kind:"method",key:"toISOString",value:function toISOString(){return this.toString("Y-m-dTH:i:s")}},{kind:"method",key:"toJSON",value:function toJSON(){return this.tag+this.toString("Y-m-dTH:i:s")+"."+this.value.getMilliseconds()}}]}},Ge),He=_decorate([dkdatatype({tag:"@duration:"})],function(t,e){return{F:function(e){function Duration(e){var n
return ot()(this,Duration),n=Y()(this,X()(Duration).call(this)),t(Fe()(n)),e instanceof Duration?(n.value=e.value,Y()(n)):"number"==typeof e?(n.value=e,Y()(n)):n._has_my_tag([e])?(n.value=T()(e.substr(n.tag.length),10),Y()(n)):(n.parse(e),n)}return tt()(Duration,e),Duration}(e),d:[{kind:"method",key:"toString",value:function toString(){var t=this.value,e=t<0?-1:1,n=(t*=e)%60,r=Math.floor((t-n)/60),i=r%60
return(e<0?"-":"")+Math.floor((r-i)/60)+":"+De.twodigits(i)+":"+De.twodigits(n)}},{kind:"method",key:"parse",value:function parse(t){if(this.value=0,t){var e,n,r,i=1
"-"===t[0]&&(i=-1,t=t.slice(1))
var a=t.split(":")
e=T()(a.slice(-1),10),n=T()(a.slice(-2,-1),10),r=T()(a.slice(-3,-2),10),this.value+=e,Ce()(n)||(this.value+=60*n),Ce()(r)||(this.value+=3600*r),this.value*=i}}},{kind:"method",key:"toJSON",value:function toJSON(){return this.tag+this.value}}]}},Ne),Be={_datatypes:$e,Date:Ge,DateTime:Me,Duration:He},Ue={parse:function parse(t){return JSON.parse(t,function(t,e){if("string"==typeof e&&"@"===e[0]){var n=e.indexOf(":")
if(n>1){var r=e.slice(0,n+1)
return Be._datatypes[r]?Be._datatypes[r].create(e):(dk.warn("Uknown tag:",r,"in value",e),e)}}return e})},stringify:function stringify(t){return ht()(t)},postparse:function postparse(t){return this.parse(ht()(t))}}
function parse_uri(t,e){for(var n=y()({},{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],query:{name:"query_key",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e),r=n.parser[n.strictMode?"strict":"loose"].exec(t),i=n.key.length,a={};i--;)a[n.key[i]]=r[i]||""
return a[n.query.name]={},a[n.key[12]].replace(n.query.parser,function(t,e,r){e&&(a[n.query.name][e]=r)}),a.file&&(a.name=a.file.replace(/\.\w*$/,"")),a}function parse_src(t){var e=parse_uri(t)
return e.version=function find_version(t){var e=/[-.@\/](\d+\.\d+\.\d+)[.\/]/.exec(t.name)
return e?e[1]:(e=/[-.@\/](\d+\.\d+\.\d+[b-z]?)[.\/]/.exec(t.path))?e[1]:(e=/\/v(\d)\//.exec(t.name))?e[1]:(e=/fa(\d+)/.exec(t.source))?e[1]:null}(e),e.libname=function plain_name(t){if(!t.name)return t.source
var e=t.name.replace(/[-.]min[-.]?/,".")
return e=(e=(e=e.replace(/[-.@\/](\d+\.\d+\.\d+[b-z]?)[.\/]?/,"")).replace(/^[.]+/,"")).replace(/[.]+$/,"")}(e),e.minified=function is_minified(t){return/[-.]min[-.]/.test(t.name)}(e),e.filetype="."+e.file.split(".").slice(-1),e}var Ve=function(){function Template(t,e,n,r){var i=this
if(ot()(this,Template),t.name&&"string"!=typeof t.name)throw"Syntax Error: structure.name must be a string (the tag-type of the dom-object)."
this.name=t.name||n||this.name,this.position=r||0,this.css=t.css||this.css,this.classes=t.classes||[],this.text=t.text||this.text,this.create=t.create||this.create,this.query=t.query||this.query,this.query+=":eq(0)",this.location=t.location||this.location,this.template="<div/>"
var a=t.template
!a&&e&&(a=e[this.name]),!a&&U.is_tag(this.name)&&(a="<".concat(this.name,"/>")),a&&(this.template=a),this.structure=t.structure||{}
var o=Xt(g()(t),g()(this))
Mt()(o).forEach(function(n,r){i.structure[n]=new Template(t[n],e,n.replace("-","_"),r)}),qt.isEmpty(this.structure)&&delete this.structure}return lt()(Template,[{key:"construct_on",value:function construct_on(t,e,n){return new Je(this).construct_on(t,e,n)}},{key:"append_to",value:function append_to(t,e,n){var r=this
return void 0===n&&(n={}),g()(this.structure).forEach(function(i){var a=new Je(r.structure[i])
n[i]=a.append_to(t,e,n)}),n}},{key:"toString",value:function toString(){return ht()(pick(this,"name"),null,"    ")}},{key:"toStringNonRecursive",value:function toStringNonRecursive(){return ht()(pick(this,"name"),null,"    ")}}]),Template}(),Je=function(t){function DomItem(t,e){var n
if(ot()(this,DomItem),(n=Y()(this,X()(DomItem).call(this))).query=void 0,n.subitems=void 0,n.item=void 0,n.is_root=void 0===t.name,n.parent=e,n.template=t,n.classes=n.template.classes.filter(function(t){return!!t}).map(function(t){return t.replace("_","-")}),n.keys=[],n.is_root||(U.is_tag(t.name)?n.query=t.name:(n.query="."+t.name.replace("_","-"),n.classes.push(t.name.replace("_","-")))),n.template.structure){n.keys=g()(t.structure||{})
var r=n.keys.map(function(e){return new DomItem(t.structure[e],Fe()(n))})
n.subitems=fe.zip_object(n.keys,r),n._subitems=n.keys.map(function(t){return n.subitems[t].item})}return n}return tt()(DomItem,t),lt()(DomItem,[{key:"_insert_item",value:function _insert_item(t,e){0===e?this.location.prepend(t):this._subitems&&this._subitems[e-1]?this._subitems[e-1].after(t):this.location.append(t),this._subitems&&(this._subitems[e]=t)}},{key:"_make_item",value:function _make_item(t){var e=(t&&t.layout?t.layout:{make:function make(t){return fe.$(t)}}).make(this.template.template)
return this._construct_item(e)}},{key:"_construct_item",value:function _construct_item(t){return this.classes&&t.addClass(this.classes.join(" ")),this.template.css&&t.css(this.template.css),this.template.text&&!t.text()&&t.html(this.template.text),t}},{key:"get_location",value:function get_location(){return this.parent?this.parent.get_location().find(this.query):this.location.find(this.query)}},{key:"append_to",value:function append_to(t,e,n){return this.accessor=n,this.append(t,e)}},{key:"construct_on",value:function construct_on(t,e,n){return this.accessor=n,this.construct(t,e)}},{key:"append",value:function append(t,e){this.location=t&&t.jquery?t:fe.$(t)
var n=this._make_item(e),r=this.accessor||{}
this.forEachSubitem(function(t){var i=S()(t,2),a=i[0],o=i[1]
n[a]=o.construct(n,e),r[a]=n[a]})
var i="construct_"+this.template.name
return e&&e[i]&&(n=e[i](n)||n),t.append(n),n}},{key:"forEachSubitem",value:function forEachSubitem(t){qt.isEmpty(this.subitems)||H()(this.subitems).forEach(t)}},{key:"construct",value:function construct(t,e,n){void 0===n&&(n=0),this.location=t&&t.jquery?t:fe.$(t)
var r=this.location
this.is_root?this._construct_item(r):null===(r=U.find(this.query,this.location))&&!1!==this.template.create?(r=this._make_item(e),this._insert_item(r,this.template.position)):null!==r&&this._construct_item(r)
var i=this.accessor||{}
this.forEachSubitem(function(t){var a=S()(t,2),o=a[0],s=a[1]
r[o]=s.construct(r,e,n+1),i[o]=r[o]})
var a="construct_"+this.template.name
return!this.is_root&&e&&e[a]&&(r=e[a](r)||r),r}},{key:"toString",value:function toString(){return"]","DomItem(%s, [%s])".format(this.template.template,this.keys)}}]),DomItem}(Nt),Ke=function(t){function HtmlTag(t,e){var n
ot()(this,HtmlTag),(n=Y()(this,X()(HtmlTag).call(this))).options=e,n.orig=t,n.text=t.replace(/\s+/g," ")
var r=n.text.match(/<\s*(\/)?\s*([-\w]+)(\s.*)?>/i)
if(null===r)throw"not a tag: ".concat(t)
return n.closing=void 0!==r[1],n.name=r[2],"dk-icon"===n.name&&(n.name="dkicon"),n.attrtxt=(r[3]||"").trim(),n.selfclosing=U.is_self_closing(n.name),!n.closing&&n.attrtxt?n.attrs=n.normalize_attrs(n.attrtxt.match(/([-\w]+)((=['"](.*?)['"])|(=([^\s]+)))?/g)):n.attrs=[],n.kind="tag",n.closing&&(n.kind+="-end"),n.closing||n.selfclosing||(n.kind+="-start"),n}return tt()(HtmlTag,t),lt()(HtmlTag,[{key:"normalize_class",value:function normalize_class(t){var e=t.split(/ /)
return e.sort(),e.join(" ")}},{key:"normalize_style",value:function normalize_style(t){var e=t.replace(/&quot;/g,"").split(/;/).map(function(t){return t.replace(/\s+/g,"").replace("rgb(255,192,203)","pink").replace(/border-.*radius:.*/,"").replace(/calc\(.*?\)/,"calc()")}).filter(function(t){return t.length>0})
return e.sort(),e.join(";")+";"}},{key:"normalize_attrs",value:function normalize_attrs(t){var e=this
if(null===t)return[]
t.sort()
var n=t.map(function(t){var n=t.match(/([-\w]+)((=['"](.*?)['"])|(=([^\s]+)))?/),r=n[1],i=n[4]||n[6]||r
switch(r){case"class":return!1===e.options.classes?null:["class",e.normalize_class(i)]
case"dkwidget":return["dk-widget-attr",i]
case"style":return!1===e.options.style?null:["style",e.normalize_style(i)]
case"id":return["id",i.replace(/(.*?)-\d+/,"$1")]
case"for":return["for",i.replace(/(.*?)-\d+/,"$1")]
default:return[r,i]}}).filter(function(t){return null!=t})
switch(this.name){case"dkicon":n=n.filter(function(t){return"value"===t[0]})}return n}},{key:"toString",value:function toString(){if(this.closing)return"</".concat(this.name,">")
var t="<".concat(this.name)
return this.attrtxt&&(t+=" ",t+=this.attrs.map(function(t){var e=S()(t,2),n=e[0],r=e[1]
return"".concat(n,'="').concat(r,'"')}).join(" ")),t+=">"}}]),HtmlTag}(Nt)
function utidy(t,e){var n,r
null==e&&(e={}),null==e.level&&(n=0),null==e.indent&&(r="    ")
var i=function _indent(t){for(var e="",n=0;n<Math.max(0,t);n++)e+=r
return e},a=function tokenize_html(t,e){for(var n,r,i,a=[],o=0,s=/(<[\s\S]*?>)/gim;null!==(n=s.exec(t));)(r=t.slice(o,n.index).trim())&&a.push({kind:"text",token:r}),i=Ke.create(t.slice(n.index,s.lastIndex),e),a.push({kind:i.kind,token:i}),o=s.lastIndex
return o<t.length&&a.push({kind:"text",token:t.slice(o).trim()}),a}(t.trim(),e),o=[],s=n
return a.forEach(function(t){switch(t.kind){case"text":o.push(i(s)+t.token)
break
case"tag-start":o.push(i(s++)+t.token)
break
case"tag-end":o.push(i(--s)+t.token)
break
case"tag":o.push(i(s)+t.token)}}),o.join("\n")}var Ye=function _$(t){return t.jquery?t:fe.$(t)},Qe={getattr:function getattr(t,e){return Ye(t).css(e)},setattr:function setattr(t,e,n){var r=(t=Ye(t)).css(e)
return t.css(e,n),r},maxheight:function maxheight(t,e){var n=(t=Ye(t)).outerHeight(),r=this.setattr(t,"max-height",n),i=e.duration||0
return i>0&&(this.setattr(t,"transition-duration",i+"s"),this.setattr(t,"transition-timing-function","linear"),this.setattr(t,"transition-property","max-height")),t.css("max-height",e.height),e.done&&setTimeout(e.done,1e3*i+150),r},rotate:function rotate(t,e){t=Ye(t)
var n=(e=e||{}).duration||0,r=e.degrees||0
n&&(this.setattr(t,"transition-duration",n+"s"),this.setattr(t,"transition-timing-function","linear"),t.css("transition-property","transform"))
var i=void 0===e.xorig?t.outerWidth()/2:e.xorig,a=void 0===e.yorig?t.outerHeight()/2:e.yorig
t.css("transform","rotate("+r+"deg)"),t.css("transform-origin","".concat(i,"px ").concat(a,"px")),e.done&&setTimeout(e.done,1e3*n+150)
var o=y()({},e)
return delete o.done,y()(o,{xorig:i,yorig:a,duration:n,degrees:r,item:t})},tilt:function tilt(t,e){var n,r=y()({},e),i=(t=Ye(t)).outerHeight(),a=t.outerWidth(),o=r.direction.match(/top|bottom/)[0],s=r.direction.match(/left|right/)[0],l=i/2,c="left"===s?l:a-l
return"top"===o&&"right"===s&&(n=90),"top"===o&&"left"===s&&(n=-90),"bottom"===o&&"right"===s&&(n=-90),"bottom"===o&&"left"===s&&(n=90),this.rotate(t,y()(r,{degrees:n,xorig:c,yorig:l}))},unrotate:function unrotate(t){t.item&&this.rotate(t.item,y()(t,{degrees:0}))}}
function help(t){fe.$(t).find(".help > .help-text").each(function(){var t=fe.$(this).parent(),e=fe.$(this),n=fe.$('<div class="help-trigger"><a><dk-icon value="question-circle"/></a></div>')
t.prepend(n),t.find(".help-trigger > a").addClass("xbtn").attr("tabindex",10).popover({html:!0,title:e.attr("title")||"Hjelp..",container:"body",trigger:"focus",toggle:"popover",placement:e.attr("placement")||"auto left",content:e.html()})})}var Xe=n(129),Ze=n.n(Xe),tn=[],en={name:"page",triggers:["load_js"],_sockets:["load_css","load_js"],_bindings:{},widgets:{},widget_list:[],widget_refresh_q:[],state:{css:[],js:[],path:[],__uuid__:""},create_widget:function create_widget(t,e){if(!this._initialized)return this._cache_widget_init(t,e)
t.construct_widget(e)},storagekey:function storagekey(t){return window.location.hostname+window.location.pathname+":"+t},localstorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),hash:new be({engine:be.HashStorage,name:"page"}),bind:function bind(t){var e=t.when
this._bindings[e]||(this._bindings[e]={}),this._bindings[e][t.triggers]||(this._bindings[e][t.triggers]=[]),this._bindings[e][t.triggers].push(t)},ready:function ready(t){this._initialized?t.apply(this,arguments):tn.push({fn:t,args:arguments})},initialize:function initialize(t){var e=this
this._initialized=!0
for(var n=0;n<this._widget_q.length;n++){var r=this._widget_q[n]
r.widget.construct_widget(r.location),this.widget_list.push(r.widget)}this._widget_q=[]
for(var i=0;i<this._bind_q.length;i++)this.bind(this._bind_q[i])
this._bind_q=[]
for(var a=t.location.pathname.split("/"),o=0;o<a.length;o++)a[o]>""&&this.state.path.push(a[o])
tn.forEach(function(t){t.fn.apply(e,t.args)}),tn=[],fe.$(window).on("resize",Ze()(function(){mcall(self.widgets,"flow")},25)),fe.$(window).on("unload",this.unload.bind(this))},reflow:function reflow(){mcall(this.widgets,"flow")},refresh:function refresh(){return mcall(this.widgets,"refresh",this),this},refresh_widget:function refresh_widget(t,e){var n=window.setInterval(function(){t.refresh()},1e3*e)
this.widget_refresh_q.push(n)},_cache_widget_init:function _cache_widget_init(t,e){this._widget_q.push({widget:t,location:e})},unload:function unload(){for(var t=0;t<this.widget_refresh_q.length;t++)window.clearInterval(this.widget_refresh_q[t])},trigger:function trigger(t,e,n){dkwarning("$notify is deprecated.."),B.debug("page._bindings",this._bindings),B.debug("$notify: ",t.id,".",e,"(",n,")")
var r=this._bindings[t.id]
r&&r[e]&&r[e].forEach(function(e){var r="page"===e.to?this:this.widgets[e.to]
r&&r[e.send]?(e.convert&&(n=e.convert.apply(t,n)),B.debug("....handled:",e.to,".",e.send),r[e.send].call(r,n)):B.warn("Missing method:",e.to,".",e.send)}),fe.$(t).trigger(e,n)},_initialized:!1,_widget_q:[],_bind_q:[]}
fe.$(document).ready(function(){B.debug("initializing page"),en.initialize(document),fe.$("html").addClass("dk-initialized"),fe.trigger(document,"dk-initialized"),B.debug("document.ready: dk-initialized")}),fe.$(window).on("load",function(){fe.$("html").addClass("dk-fully-loaded"),fe.trigger(window,"dk-fully-loaded"),B.debug("window.load: dk-fully-loaded")}),L.a.$$=en.widgets
var nn=en,rn={},an={wmap:rn,add:function _add_widget_to_map(t){var e=t.type?t.type:t.name
rn[e]&&alert("There is allready a widget with id: "+e),rn[e]=t},get:function _get_widget_from_map(t){return rn[t]}},sn=function(t){function Layout(t,e,n,r){var i
ot()(this,Layout),(i=Y()(this,X()(Layout).call(this))).class_name="dk-bx"
var a=Fe()(i)
return i.widget=t,t.layout=Fe()(i),i.location=e,i.template=n,i.location.addClass(t.type),t.kind&&i.location.addClass(t.kind),t.classes&&i.location.addClass(t.classes.join(" ")),t.css&&i.location.css(t.css),r&&(i.structure=new Ve(r,i.template),i.structure.construct_on(i.location,i.widget,i.widget)),a!==Fe()(i)&&B.info("layout self = this",a===Fe()(i)),i.construct(),i}return tt()(Layout,t),lt()(Layout,[{key:"delete_layout",value:function delete_layout(){delete this.template,delete this.widget.layout,delete this.widget,delete this.structure}},{key:"construct",value:function construct(){}},{key:"_dkobj",value:function _dkobj(t){return t.appendln=function(){t.append("\n")
var e=t.append.apply(t,arguments)
return t.append("\n"),e},t}},{key:"$",value:function $(){var t=fe.$.apply(fe.$,arguments)
return t.prop("id")||t.prop("id",q(this.class_name+"-")),t}},{key:"find",value:function find(t,e){var n=(e=e||this.location).find.call(e,t)
return n.length>0?this._dkobj(n):null}},{key:"find_or_create",value:function find_or_create(t,e){var n=(e=e||this.location).find.call(e,t)
if(n.length>0)return this._dkobj(n)
var r=this.make(t)
return e.append(r),r}},{key:"findsert",value:function findsert(t,e){var n=this.location.find(t)
return n.length>1?n[0]:1===n.length?n:e.call(this,t)}},{key:"make",value:function make(t,e){var n
return n="<"===t[0]?this.$(t):this.$(this.template[t]||"<"+t+"/>",e),this._dkobj(n)}},{key:"appendln",value:function appendln(){return this.location.append("\n"),this.location.append.apply(this.location,arguments),this.location.append("\n"),this.location}}]),Layout}(Nt),ln=n(130),cn=n.n(ln),un=function(t){function BaseWidget(){var t,e
ot()(this,BaseWidget)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return void 0===(e=Y()(this,(t=X()(BaseWidget)).call.apply(t,[this].concat(r)))).type&&(e.type=e.constructor.name),e}return tt()(BaseWidget,t),lt()(BaseWidget,[{key:"isEqual",value:function isEqual(t){return this===t}},{key:"on",value:function on(t,e){fe.on(this,t,e)}},{key:"trigger",value:function trigger(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]
fe.trigger.apply(fe,[this,t].concat(n))}},{key:"notify",value:function notify(t){dkwarning("Widget.notify is deprecated, use Widget.trigger ".concat(this))
for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]
fe.trigger.apply(fe,[this,t].concat(n))}},{key:"state",get:function get(){return{}},set:function set(t){}}],[{key:"next_widget_id",value:function next_widget_id(){return q(cls2id(this.name)+"-")}}]),BaseWidget}(Nt),dn=function(t){function UIWidget(){var t
ot()(this,UIWidget)
for(var e={id:null,dklayout:"Layout",template:{root:"div"}},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return A()(r).forEach(function(t){null!=t&&(null!=e.template&&null!=t.template&&(e.template=fe.merge(e.template,t.template)),null!=e.structure&&null!=t.structure&&(e.structure=fe.merge(e.structure,t.structure)),null!=e.defaults&&null!=t.defaults&&(e.defaults=fe.merge(e.defaults,t.defaults)),y()(e,t))}),(t=Y()(this,X()(UIWidget).call(this,e)))._widget_props={visible:!1,ready:!1,busy:!1,mode:null},void 0===t.type&&(t.type=t.constructor.name),t._node=null,t}return tt()(UIWidget,t),lt()(UIWidget,[{key:"set",value:function set(t,e){this[t]=e,this.trigger("set-field",this,t,e),this.draw(null)}},{key:"notify_on",value:function notify_on(t){dkwarning("Widget.notify_on is deprecated, use Widget.retrigger instead")
var e=this
this.widget().on(t,function(){e.trigger(t,e)})}},{key:"retrigger",value:function retrigger(t){var e=this
this.widget().on(t,function(n){e.trigger(t,e,n)})}},{key:"start_busy",value:function start_busy(){if(!this._widget_props.busy){var t=q("busy-shim-")
this._widget_props.busy=t
var e=this
this.widget().addClass("busy")
var n=0,r=function adjust_size(){var r=fe.$("#"+t),i=e.widget().offset()
r.css({width:e.widget().outerWidth(),height:e.widget().outerHeight(),left:i.left,top:i.top}),++n>500&&window.clearInterval(e.busyID)}
if(this.widget().offset){var i=fe.$("<div/>",{busy:e.id}).prop("id",t).css({position:"absolute",zIndex:999,backgroundColor:"rgba(222,222,222,.5)"}).addClass("busy")
r(),this.busyID=window.setInterval(r,100),fe.$("body").append(i)}}}},{key:"end_busy",value:function end_busy(){if(this._widget_props.busy){window.clearInterval(this.busyID)
var t=this._widget_props.busy
this._widget_props.busy=!1,this.widget().removeClass("busy"),fe.$("#"+t).remove()}}},{key:"toggle_busy",value:function toggle_busy(){this._widget_props.busy?this.end_busy():this.start_busy()}},{key:"hide",value:function hide(){this.widget().hide("fast"),this._widget_props.visible=!1}},{key:"show",value:function show(){this.widget().show("fast"),this._widget_props.visible=!0}},{key:"toggle",value:function toggle(){this.widget().toggle("fast"),this._visible=!this._visible}},{key:"widget",value:function widget(t){var e=fe.$("#"+this.id)
return t?e.find(t):e}},{key:"ready",value:function ready(t){this._widget_props.ready&&t.call(this),fe.after(this,"render_data",t)}},{key:"delete_widget",value:function delete_widget(){this.id&&nn.widgets[this.id]&&(this.trigger("deleting-widget",this),this.layout.delete_layout(),delete nn.widgets[this.id],this.trigger("deleted-widget",this))}},{key:"construct_widget",value:function construct_widget(t){if(t.inside)this.prepare_layout(t.inside,t.append)
else if(!this.id&&t.on){var e=t.on.prop("id")
if(e)this.set_widget_id(e)
else{var n=this.constructor.next_widget_id()
t.on.prop("id",n),this.set_widget_id(n)}}else this.set_widget_id(this.id)
return nn.widgets[this.id]=this,this.create_layout(this.widget(),this.template,this.structure),this.construct(),this.initialize(),this._widget_props.visible=!0,this.handlers&&this.handlers(),this.render_data(),this._widget_props.ready=!0,this.trigger("ready",this),this}},{key:"prepare_layout",value:function prepare_layout(t,e){var n,r,i=(t=fe.$(t)).find(this.template.root)
e?(n=fe.$("<"+this.template.root+"/>"),t.append(n)):i.length>=1?n=fe.$(i[0]):(n=fe.$("<"+this.template.root+"/>"),t.append(n)),(r=n.prop("id"))||(r=this.constructor.next_widget_id(),n.prop("id",r)),this.set_widget_id(r)}},{key:"set_widget_id",value:function set_widget_id(t){this.id=t}},{key:"create_layout",value:function create_layout(t,e,n){if("Layout"===this.dklayout)try{this.layout=sn.create(this,t,e,n)}catch(t){throw t}else this.dklayout.create||fe.error("this.dklayout:",this.dklayout),this.layout=new this.dklayout(this,t,e,n)
return this}},{key:"construct",value:function construct(){}},{key:"initialize",value:function initialize(){}},{key:"render_data",value:function render_data(){this.url?this.refresh():this.DEFINES("refresh")?this.draw(this.refresh()):this.draw(null)}},{key:"draw",value:function draw(t){}},{key:"reflow",value:function reflow(){this.render_data()}},{key:"node",get:function get(){return this._node||(this._node=document.getElementById(this.id)),this._node}}],[{key:"extend",value:function extend(t){t.template&&(t.template=fe.merge(this.template,t.template)),t.structure&&(t.structure=fe.merge(this.structure,t.structure)),t.defaults&&(t.defaults=fe.merge(this.defaults,t.defaults))
var e=Nt.extend.call(this,t)
return e.type=t.type||this.name,e.type?(an.add(e),e.toString=function(){return this.type+" (ctor)"}):fe.debug("SubClass without type",e),e}},{key:"create",value:function create(){var t,e
return arguments.length>=2?(t=arguments[0],Array.prototype.shift.call(arguments)):t=fe.$("body"),e=arguments[0],this.create_on(t,e)}},{key:"create_on",value:function create_on(t,e){try{var n=new this(e),r="string"==typeof t?fe.$(t):t
if(0===r.length)throw"Location ".concat(t," not found in document.")
return nn.create_widget(n,{on:r}),n}catch(t){fe.error(t)}}},{key:"create_inside",value:function create_inside(t,e){try{var n=new this(e),r="string"==typeof t?fe.$(t):t
if(0===r.length)throw"Location ".concat(t," not found in document.")
return nn.create_widget(n,{inside:r}),n}catch(t){fe.error(t)}}},{key:"append_to",value:function append_to(t,e){try{var n=new this(e),r="string"==typeof t?fe.$(t):t
if(0===r.length)throw"Location ".concat(t," not found in document.")
return nn.create_widget(n,{inside:r,append:!0}),n}catch(t){fe.error(t)}}}]),UIWidget}(un),hn=function(t){function DataWidget(){var t
ot()(this,DataWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
var i=[].concat(n).filter(function(t){return t&&t.data}).map(function(t){return t.data}),a=y.a.apply(Object,n)
delete a.data
var o=i.length>0?$t.merge.apply($t,Mt()(i)):null
return t=Y()(this,X()(DataWidget).call(this,a)),null!=o&&(t.data=o),t}return tt()(DataWidget,t),lt()(DataWidget,[{key:"data_changed",value:function data_changed(t,e,n,r,i){this.draw(t),this.trigger("change",t)}},{key:"isEqual",value:function isEqual(t){return this.constructor===t.constructor&&void 0!==this._data&&void 0!==t._data&&qt.isEqual(this._data,t._data)}},{key:"toString",value:function toString(){return"".concat(this.__class__.name,"(data=").concat(ht()(this.data),")")}},{key:"data",get:function get(){return this._data},set:function set(t){var e=this
if(!qt.isObject(t))throw"widget.data must be a properties object, not ".concat(pt()(t))
this._data=deep_observer(t,function(t,n,r,i,a){e.data_changed(e._data,"this.data"+a,i,r,n)})}}]),DataWidget}(dn),fn=function(t){function ServerWidget(){var t
ot()(this,ServerWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(ServerWidget)).call.apply(t,[this,{cache:!1}].concat(n)))}return tt()(ServerWidget,t),lt()(ServerWidget,[{key:"_get_urldata",value:function _get_urldata(){var t={}
if(!this.urldata)return t
if("function"==typeof this.urldata)return this.urldata()
for(var e in this.urldata){var n=this.urldata[e]
if(t[e]="function"==typeof n?n.call(this):n,void 0===t[e])throw e}return t}},{key:"_url_is_template",value:function _url_is_template(){return-1!==this.url.indexOf("<%")&&-1!==this.url.indexOf("%>")}},{key:"refresh",value:function refresh(){var t
if(!this.waiting&&this.url){if(this._url_is_template())try{var e=this._get_urldata()
t=cn()(this.url,e)}catch(t){return void this.draw(null)}else t=this.url
this.fetch_json_data(t)}}},{key:"fetch_json_data",value:function fetch_json_data(t){var e=this
this.waiting=!0,this.trigger("start-fetch-data",e),fe.ajax({cache:e.cache,dataType:/^https?:\/\//.test(t)?"jsonp":"json",url:t,statusCode:{404:function _(){fe.debug("Page not found: "+t)},500:function _(){window.open(t)}},error:function error(t,n,r){throw e.waiting=!1,fe.warn("ERROR",t,n,r),e.notify("fetch-data-error",t,n,r),{error:"fetch-error",message:n+" "+r}},converters:{"text json":Ue.parse},success:function success(t){e.data=t,e.waiting=!1,e.notify("fetch-data",e),e.draw(t)}})}}]),ServerWidget}(hn),pn=function(t){function Widget(){var t
ot()(this,Widget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(Widget)).call.apply(t,[this].concat(n)))}return tt()(Widget,t),Widget}(fn),gn={},_n=!1,vn=function(){function _dkrequire(t,e){ot()(this,_dkrequire)
var n=t.match(/^\[fetch:(css|js)]/)
n&&(e="."+n[1],t=t.slice(n[0].length)),this.src=parse_src(t),!n&&e&&(this.src.filetype=e)}return lt()(_dkrequire,[{key:"load",value:function load(t){if(this._begin_reguire()){var e=gn[this.src.libname]
switch(this.src.filetype){case".js":this._load_javascript(t)
break
case".css":this._load_css(t)
break
default:B.error(dedent("\n                    dkrequire couldn't automatically deduce the type of \n                    \n                        ".concat(this.src.source,"\n                        \n                    please use dkrequire_css or dkrequire_js to load this url,\n                    or prefix the url with [fetch:css] or [fetch:js].\n                    ")))}t&&(e.loaded?t(this.src):fe.on(this.src,"loaded",t))}return this.src}},{key:"_begin_reguire",value:function _begin_reguire(){return!gn[this.src.libname]&&(gn[this.src.libname]={src:this.src,loaded:!1},!0)}},{key:"_load_javascript",value:function _load_javascript(){var t=this
return fe.$.ajax({dataType:"script",cache:!0,url:t.src.source,success:function success(){gn[t.src.libname].loaded=!0,fe.trigger(t.src,"loaded",t.src)}})}},{key:"_load_css",value:function _load_css(){fe.$("<link>",{rel:"stylesheet",type:"text/css",href:this.src.source}).appendTo("head"),gn[this.src.libname].loaded=!0,fe.trigger(this.src,"loaded",this.src)}},{key:"loaded",get:function get(){return gn[this.src.libname]}}],[{key:"find_header_impports",value:function find_header_impports(){_n||(fe.$("head>script[src]").each(function(){var t=parse_src(fe.$(this).attr("src"))
gn[t.libname]={src:t,loaded:!0}}),fe.$("head>link[rel=stylesheet]").each(function(){var t=parse_src(fe.$(this).attr("href"))
gn[t.libname]={src:t,loaded:!0}}),_n=!0)}}]),_dkrequire}()
function dkrequire(t,e,n){return vn.find_header_impports(),new vn(t,n).load(e)}function dkrequire_urls(t){return vn.find_header_impports(),t.map(function(t){return new vn(t)}).map(function(t){return t.load()})}var yn=n(42),bn=n.n(yn),mn=_t()("dkicon_value"),kn={classes:["icon","fa"],prefix:"fa-",url:"https://static.datakortet.no/font/fa470/css/font-awesome.css",icons:{remove:"trash-o",cancel:"times-circle-o",up:"chevron-up",down:"chevron-down"},loaded:!1,icon:function icon(t){return this.icons[t]||t}}
function parse_icon_value(t){var e=(t||"").split(":"),n=Ie()(e)
return[n[0],n.slice(1).join(",").split(",").filter(function(t){return!!t}).map(function(t){return kn.prefix+t})]}function fa4_icon(t,e){if(!t||!e)return B.warn("Missing node (${node}) or value (${value})."),t
kn.loaded||function dkrequire_loaded(t){return vn.find_header_impports(),new vn(t).loaded}(kn.url)||B.warn("You need to include ".concat(kn.url," in the header!"))
var n=parse_icon_value(e),r=S()(n,2),i=r[0],a=r[1]
if(!i)return B.warn("You need to specify an icon name in: ${value}."),t
var o=t[mn]
if(o){var s=parse_icon_value(o),l=S()(s,2),c=l[0],u=l[1]
c=kn.icon(c),U.remove_classes.apply(U,[t,c].concat(Mt()(kn.classes),[kn.prefix+c],Mt()(u)))}return i=kn.icon(i),U.add_classes.apply(U,[t].concat(Mt()(kn.classes),[kn.prefix+i,i],Mt()(a))),t[mn]=e,t.setAttribute("icon",i),e!==t.getAttribute("value")&&t.setAttribute("value",e),t}var wn=function(t){function dkicon(){var t
ot()(this,dkicon)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
var i=y.a.apply(Object,[{classes:["icon","fa"],template:{root:"i"}}].concat(n)),a=i.value
return delete i.value,(t=Y()(this,X()(dkicon).call(this,i)))._value=a,t}return tt()(dkicon,t),lt()(dkicon,[{key:"draw",value:function draw(t){null==t?t=this._value:this._value=t,fa4_icon(this.node,t)}},{key:"value",get:function get(){return this._value},set:function set(t){t!==this._value&&this.draw(t)}}]),dkicon}(dn)
function icon(t,e){var n=document.createElement("i")
return fa4_icon(n,t),e&&H()(e).forEach(function(t){var e=S()(t,2),r=e[0],i=e[1]
return n.style[r]=i}),n}function jq_dkicons(t){t.$(document).ready(function(){return function _jq_convert_dkicon(t){t("[dk-icon]").each(function(){t(this).prepend(icon(t(this).attr("dk-icon")))})}(t.$)})}"undefined"!=typeof customElements&&customElements.define("dk-icon",function(t){function _class(){var t
return ot()(this,_class),(t=Y()(this,X()(_class).call(this)))._value=null,t}return tt()(_class,t),lt()(_class,[{key:"connectedCallback",value:function connectedCallback(){null!=this.value&&fa4_icon(this,this.value)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,n){if("value"===t&&e!==n)try{fa4_icon(this,n)}catch(t){B.error("trying to set dkicon to ".concat(n,", which is not a legal value: ").concat(t))}}},{key:"value",get:function get(){return this._value},set:function set(t){t!==this._value&&(this._value=t,fa4_icon(this,t))}}],[{key:"observedAttributes",get:function get(){return["value"]}}]),_class}(bn()(HTMLElement))),"undefined"==typeof window&&(L.a.window={navigator:{userAgent:""}})
var xn=function(){if(fe.$.browser)return fe.$.browser
if(L.a._browser)return this._browser
var t,e
return e={},(t=function uaMatch(t){t=t.toLowerCase()
var e=/(opr)[\/]([\w.]+)/.exec(t)||/(edge)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?:[: ])([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n=/(ipad)/.exec(t)||/(iphone)/.exec(t)||/(android)/.exec(t)||/(windows phone)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||[]
return{browser:e[3]||e[1]||"",version:e[2]||"0",platform:n[0]||""}}(window.navigator.userAgent)).browser&&(e[t.browser]=!0,e.version=t.version,e.versionNumber=T()(t.version,10)),t.platform&&(e[t.platform]=!0),(e.chrome||e.opr||e.safari)&&(e.webkit=!0),e.rv&&(t.browser="msie",e.msie=!0),e.opr&&(t.browser="opera",e.opera=!0),e.safari&&e.android&&(t.browser="android",e.android=!0),e.name=t.browser,e.platform=t.platform,e}(),Sn=n(96),jn=n.n(Sn)
!function(){if(0===fe.$("style#dkdj-styles").length){var t='<style id="dkdj-styles">'.concat(jn.a.toString(),"</style>")
fe.$("html>head").append(t)}}()
var En=function(t){function PanelWidget(){var t,e
ot()(this,PanelWidget)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(PanelWidget)).call.apply(t,[this,{width:void 0,height:void 0,collapsible:!0,direction:"up",blind_duration:.1,rotate_duration:.1,status:"open",icons:{collapse:"folder-open-o:fw",expand:"folder:fw",color:"#888"},overflow:"resize",kind:"panel-default",structure:{classes:["dk-panel","panel"],css:{position:"relative",overflow:"hidden"},header:{classes:["panel-heading"],title:{classes:["panel-title"],collapseicon:{css:{cursor:"pointer"}},headingtext:{template:"span"}}},panel_body:{css:{overflow:"auto"}},footer:{classes:["panel-footer"],create:!1}}}].concat(r)))).panel&&e.panel.height&&"string"==typeof e.panel.height&&(e.height=T()(e.panel.height,10)),e}return tt()(PanelWidget,t),lt()(PanelWidget,[{key:"construct_headingtext",value:function construct_headingtext(t){if(this.title&&t.text(this.title),this.icon||(this.icon=this.widget(".collapseicon > dk-icon")[0]),!this.icon){var e=fe.$("<dk-icon/>").attr("value",this.icons.collapse)
this.icon=e[0],this.widget(".collapseicon").append(e)}return t}},{key:"construct_panel_body",value:function construct_panel_body(t){return t}},{key:"construct",value:function construct(){this.widget().hasClass("collapse-up")&&(this.status="collapse-up"),this.widget().hasClass("collapse-left")&&(this.status="collapse-left"),this.height&&this.panel_body.outerHeight(this.height-this.header.outerHeight()-this.footer.outerHeight()),this.icon||(this.icon=this.widget(".collapseicon > dk-icon")[0])}},{key:"set_icon",value:function set_icon(t){this.icon.value=t}},{key:"_size",value:function _size(t){return{height:t.outerHeight(),width:t.outerWidth()}}},{key:"collapse_up",value:function collapse_up(){var t=this,e=this._size(this.widget()),n=this._size(this.header)
this.widget().addClass("collapse-up")
var r=Qe.maxheight(this.widget(),{height:n.height,duration:t.blind_duration,done:function done(){t.__collapsing=!1}})
this._expand=function(){t.widget().removeClass("collapse-up"),Qe.maxheight(t.widget(),{height:e.height,duration:t.blind_duration,done:function done(){t.widget().css("max-height",r),t.__collapsing=!1}})}}},{key:"collapse_left",value:function collapse_left(){var t,e=this,n=this._size(this.widget()),r=this._size(this.header),i=Qe.maxheight(this.widget(),{height:r.height,duration:e.blind_duration,done:function done(){t=Qe.tilt(e.widget(),{direction:"bottom left",duration:e.rotate_duration,done:function done(){e.__collapsing=!1,e.trigger("collapse-done",{height:r.width,width:r.height})}}),e.widget().addClass("collapse-left")}})
this._expand=function(){Qe.unrotate(fe.update(t,{done:function done(){Qe.maxheight(e.widget(),{height:n.height,duration:e.blind_duration,done:function done(){e.widget().css("max-height",i),e.__collapsing=!1,e.trigger("expand-done",e)}})}}))}}},{key:"collapse",value:function collapse(t){this.direction=t||this.direction,this["collapse_"+this.direction](),this.icon.value=this.icons.expand,this.trigger("resized",this),this.trigger("collapse",this)}},{key:"expand",value:function expand(){this.widget().removeClass("collapse-"+this.direction),this.icon.value=this.icons.collapse,this._expand&&(this._expand(),this._expand=null),this.trigger("resized",this),this.trigger("expand",this)}},{key:"handlers",value:function handlers(){var t=this
this.collapsible&&this.header.on("click dblclick",function(){if(!t.__collapsing){t.__collapsing=!0
var e=t.collapsed?"expand":"collapse"
t.trigger(e+"-start",t),t[e](),t.collapsed=!t.collapsed}})}}]),PanelWidget}(pn)
"undefined"!=typeof customElements&&customElements.whenDefined("dk-load").then(function(){var t=null
var e=1
"undefined"!=typeof customElements&&("msie"===xn.name||"edge"===xn.name?customElements.define("dk-panel",function(t){function _class(){var t
return ot()(this,_class),(t=Y()(this,X()(_class).call(this))).id||(t.id="dk-panel-ms-".concat(e++)),t}return tt()(_class,t),lt()(_class,[{key:"connectedCallback",value:function connectedCallback(){fe.$(this).css("display","block")
var t=fe.$(this).find(">:header:first-child"),e=t.find(">img:first-child")
t.detach(),fe.$(this).wrapInner('<div class="panel-body"/>'),this._widget=En.create_on("#"+this.id,{title:t.text()})
try{this._widget.footer.hide()}catch(t){}e.length&&this._widget.header&&this._widget.header.title.collapseicon.empty().append(e)}}]),_class}(bn()(HTMLElement))):customElements.define("dk-panel",function(e){function _class2(){var e
ot()(this,_class2),(e=Y()(this,X()(_class2).call(this)))._collapsed=!1,e._icon_open="folder-open-o:fw",e._icon_closed="folder:fw",e._dkicon=null,e.collapse_pixels_per_second=1200
var n=e.attachShadow({mode:"open"})
return n.append(function get_dkpanel_template(){return t||((t=document.createElement("template")).innerHTML='\n                <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">\n                <link rel="stylesheet" href="https://static.datakortet.no/font/fa470/css/font-awesome.css">\n                <style>\n                    '.concat(jn.a.toString(),'\n                    :host { \n                        display: block; \n                        margin-bottom: 4px;\n                        will-change:  contents;\n                        max-height: none;\n                        transition-property: max-height;\n                        transition-duration: 0.1s;\n                        transition-timing-function: linear;\n                        overflow: hidden;\n                    }\n                    #dk-panel {margin-bottom: 0;}\n                    #title-text { \n                        font-size: var(--title-size); \n                    }\n                </style>\n                <div id="dk-panel" class="PanelWidget dk-panel panel panel-default">\n                    <header id="header" class="panel-heading">\n                        <div class="panel-title">\n                            <span id="icon" class="collapseicon" style="cursor:pointer;"></span>\n                            <span id="title-text" class="headingtext"></span>\n                        </div>\n                    </header>\n                    <slot id="panel-body" name="panel-body"></slot>\n                </div>\n                <slot id="panel-content"></slot>\n            ')),t.content.cloneNode(!0)}()),e._header=n.getElementById("header"),e._icon=n.getElementById("icon"),e._panel_title_text=n.getElementById("title-text"),e._slot=n.getElementById("panel-content"),e._panel_body_slot=n.getElementById("panel-body"),e._current_body_panel=null,e.__header_filled=!1,e.__collapsed_maxheight=null,e._slot.addEventListener("slotchange",function(t){return e._on_slot_change(t)}),e._icon.addEventListener("click",function(t){return e.toggle(t)}),e}return tt()(_class2,e),lt()(_class2,[{key:"_fill_header",value:function _fill_header(){if(!this.__header_filled){var t=this.querySelector("h1,h2,h3,h4,h5,h6")
if(t){this.__header_filled=!0,this._panel_title_text.textContent=t.textContent
var e=t.querySelector("img:first-child")
e?this._icon.append(e):(this._dkicon=icon(this.hasAttribute("collapsed")?this._icon_closed:this._icon_open),this._icon.append(this._dkicon)),this.removeChild(t)}}}},{key:"_add_body_panel",value:function _add_body_panel(){var t=document.createElement("div")
return t.classList.add("panel-body"),this.append(t),t.setAttribute("slot","panel-body"),t}},{key:"_on_slot_change",value:function _on_slot_change(t){var e=this
this._fill_header()
var n=this._slot.assignedElements()
if(0!==n.length){if(0===this.children.length&&this.childNodes.length>0)for(this._current_body_panel=this._add_body_panel();this.childNodes.length>0&&this.childNodes[0]!==this._current_body_panel;)this._current_body_panel.appendChild(this.childNodes[0])
Mt()(n).forEach(function(t){switch(t.tagName){case"TABLE":case"UL":t.setAttribute("slot","panel-body"),e._current_body_panel=null
break
default:e._current_body_panel||(e._current_body_panel=e._add_body_panel()),e._current_body_panel.append(t)}})}}},{key:"connectedCallback",value:function connectedCallback(){this.collapsed=this.hasAttribute("collapsed")}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,n){n=""===n,e=""===e,"collapsed"===t&&e!==n&&(this.collapsed=n)}},{key:"collapse",value:function collapse(){if(!this.collapsed){this._collapsed=!0
var t=this._header.scrollHeight
this.__collapsed_curheight=this.offsetHeight,this.__collapsed_maxheight=Qe.maxheight(this,{height:t,duration:Math.max(.09,this.__collapsed_curheight/this.collapse_pixels_per_second)}),this.setAttribute("collapsed",""),this._dkicon&&fa4_icon(this._dkicon,this._icon_closed)}}},{key:"expand",value:function expand(){var t=this
this.collapsed&&(this._collapsed=!1,null!=this.__collapsed_maxheight&&Qe.maxheight(this,{height:this.__collapsed_curheight,duration:Math.max(.09,this.__collapsed_curheight/this.collapse_pixels_per_second),done:function done(){t.style.maxHeight=t.__collapsed_maxheight,t.__collapsed_maxheight=null}}),this.removeAttribute("collapsed"),this._dkicon&&fa4_icon(this._dkicon,this._icon_open))}},{key:"toggle",value:function toggle(){this.collapsed?this.expand():this.collapse()}},{key:"collapsed",get:function get(){return this._collapsed},set:function set(t){!!t!==this._collapsed&&(t?this.collapse():this.expand())}}],[{key:"observedAttributes",get:function get(){return["collapsed"]}}]),_class2}(bn()(HTMLElement))))})
var Dn=function(t){function ListLayout(t,e,n,r){var i
return ot()(this,ListLayout),(i=Y()(this,X()(ListLayout).call(this,t,e,n,r))).class_name="dk-list",i}return tt()(ListLayout,t),lt()(ListLayout,[{key:"add_li",value:function add_li(){var t=this.make("li")
return this.appendln(t),t}}]),ListLayout}(sn),Tn=function(t){function TableRowLayout(){var t,e
ot()(this,TableRowLayout)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(TableRowLayout)).call.apply(t,[this].concat(r)))).class_name="dk-tr",e}return tt()(TableRowLayout,t),lt()(TableRowLayout,[{key:"add_td",value:function add_td(){var t=this.make("td")
return this.appendln(t),t}},{key:"add_th",value:function add_th(){var t=this.make("th")
return this.appendln(t),t}}]),TableRowLayout}(sn),On=function(t){function TableLayout(t,e,n,r){var i
ot()(this,TableLayout)
var a={thead:{},tfoot:{},tbody:{}}
return t.structure||(t.structure=a),(i=Y()(this,X()(TableLayout).call(this,t,e,n,r||a))).class_name="dk-table",i}return tt()(TableLayout,t),lt()(TableLayout,[{key:"construct",value:function construct(){this.location.addClass(this.class_name)}},{key:"add_row_to",value:function add_row_to(t){var e=this.make("tr")
return this.widget[t].appendln(e),e}},{key:"add_column_to",value:function add_column_to(t,e,n,r){var i=this,a=[]
return this.widget[t].find("tr").each(function(){var t=i.make(e||"td",r)
fe.$(this)[n||"append"](t),a.push(t)}),a}},{key:"add_column",value:function add_column(t,e){var n=this.add_column_to("thead","th",t,e)
return n=(n=n.concat(this.add_column_to("tbody","td",t,e))).concat(this.add_column_to("tfoot","td",t,e))}},{key:"get_cells",value:function get_cells(t,e){e=e||"tbody"
var n=[]
return this.widget[e].find("tr").each(function(){var e=fe.$(this).find("td,th").eq(t)
n.push(e)}),n}},{key:"add_body_row",value:function add_body_row(){return this.add_row_to("tbody")}},{key:"add_header_row",value:function add_header_row(){return this.add_row_to("thead")}},{key:"add_footer_row",value:function add_footer_row(){return this.add_row_to("tfoot")}},{key:"clear_body",value:function clear_body(){this.widget.tbody.empty()}}]),TableLayout}(sn),An=function(t){function ResultsetLayout(){var t,e
ot()(this,ResultsetLayout)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(ResultsetLayout)).call.apply(t,[this].concat(r)))).class_name="dk-resultset",e.default_structure={filter:{$PANEL:{}},data:{$PANEL:{}}},e}return tt()(ResultsetLayout,t),ResultsetLayout}(sn),Ln=n(73),Pn=n.n(Ln),Cn=function(t){function InputWidget(){var t
ot()(this,InputWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
var i=y.a.apply(Object,[{}].concat(n))
return"value"in i&&(i.data=i.data||{},i.data.value=i.value,delete i.value),(t=Y()(this,X()(InputWidget).call(this,{data:{value:null}},i)))._validators=[],t._updating=0,t._status={updating_from_widget:!1,updating_from_data:!1},t._legal_attributes=["autocomplete","autofocus","disabled","form","list","name","readonly","required","tabindex","type","value"],t}return tt()(InputWidget,t),lt()(InputWidget,[{key:"_is_updating",value:function _is_updating(){return this._status.updating_from_data||this._status.updating_from_widget}},{key:"construct",value:function construct(){var t=this
this.name=this.name||this.node.name||fe.id2name(this.id),this.node.name!==this.name&&(this.node.name=this.name),this.widget().addClass(this.type),this.css&&this.widget().css(this.css),this.value&&(this.dom_value=this.value),this.datasource&&(this.datasource.value&&(this.value=this.datasource.value),fe.on(this.datasource,"value-changed",function(e){return t.value=e}))}},{key:"get_value",value:function get_value(){return this.value}},{key:"set_value",value:function set_value(t){return this.value=t,t}},{key:"formatted_value",value:function formatted_value(){return this.value.f||this.value}},{key:"get_field_value",value:function get_field_value(){return this.value}},{key:"data_changed",value:function data_changed(t,e,n,r,i){var a=t.value.value||t.value.v||t.value
switch(this._status.updating_from_data=!0,r){case"value":this.dom_value=a
break
case"readonly":this.node.readOnly=t.readonly
break
default:this.node[r]=t[r]}qe()(X()(InputWidget.prototype),"data_changed",this).call(this,t,e,n,r,i),this._status.updating_from_data=!1}},{key:"widget_changed",value:function widget_changed(t){this._status.updating_from_widget=!0,"change"===t.type&&(this.value=t.item.value),this._status.updating_from_widget=!1}},{key:"stringify",value:function stringify(t){return t}},{key:"parse",value:function parse(t){return t}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("change input blur",function(e){t.widget_changed({type:"change",event:e,item:this}),t.trigger("change",e,t)}),this.retrigger("validation-change")}},{key:"_get_attribute_data",value:function _get_attribute_data(t){var e={}
return A()(t.attributes).forEach(function(n){var r=n.name,i=n.value,a=t.getAttribute(r)
void 0!==a&&a!==i?(e["dk-"+r]=i,e[r]=a):e[r]=i}),H()(this.data).forEach(function(t){var n=S()(t,2),r=n[0],i=n[1]
e[r]!==i&&(e["dk-"+r]=i)}),e.type||(e["dk-type"]=t.type),e}},{key:"_create_start_node",value:function _create_start_node(){var t="\n            <".concat(this.node.tagName.toLowerCase()),e=H()(this._get_attribute_data(this.node))
return e.sort().forEach(function(e){var n=S()(e,2),r=n[0],i=n[1]
return t+="".concat("\n                ").concat(r,'="').concat(i,'"')}),t+">"}},{key:"_create_child_nodes",value:function _create_child_nodes(){return""}},{key:"_create_end_node",value:function _create_end_node(){return""}},{key:"toString",value:function toString(){return this._create_start_node()+this._create_child_nodes()+this._create_end_node()}},{key:"value",get:function get(){return this.data.value},set:function set(t){if(!this._status.updating_from_data){var e=this.parse(t)
e!==this.data.value&&(this.data.value=e,this.datasource&&(this.datasource.value=e),this.trigger("value-changed",this.value))}return t}},{key:"dom_value",set:function set(t){this._status.updating_from_widget||(this.node.value=this.stringify(t))}}]),InputWidget}(pn)
function _indent(t,e){if(!e)return""
var n=e.replace("\t","        ").split("\n"),r=n.map(function(t){var e=t.match(/(^[ ]*)[^ \n]/)
return(e?e[1]:"").length}),i=[n[0]],a=Math.min.apply(Math,Mt()(r.slice(1)))
if(a<t)for(var o=function _space(t){for(var e="",n=0;n<t;n++)e+=" "
return e}(t-a),s=1;s<n.length;s++)i.push(o+n[s])
return i.join("\n")}function template_functions_dedent(t){for(var e=[],n=0,r=0;r<t.length-1;r++){var i=t[r].split("\n")
i.length-1,n=i.length>1?i.slice(-1).length:t[r].length,e.push(t[r]),e.push(_indent(n,"".concat(r+1<1||arguments.length<=r+1?void 0:arguments[r+1])))}return e.push(t[t.length-1]),dedent(e.join(""))}function _templateObject(){var t=Pn()(["\n                Illegal value (",") - not in options\n                VALUES: ","\n                OPTIONS: "," \n            "])
return _templateObject=function _templateObject(){return t},t}var Rn=function(t){function TextInputWidget(){var t
ot()(this,TextInputWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(TextInputWidget)).call.apply(t,[this,{template:{root:"input"}}].concat(n)))}return tt()(TextInputWidget,t),lt()(TextInputWidget,[{key:"construct",value:function construct(){qe()(X()(TextInputWidget.prototype),"construct",this).call(this),"text"!==this.node.type&&(this.node.type="text")}},{key:"handlers",value:function handlers(){qe()(X()(TextInputWidget.prototype),"handlers",this).call(this),this.retrigger("keyup")}}]),TextInputWidget}(Cn),Fn=function(t){function DurationWidget(){var t
ot()(this,DurationWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(DurationWidget)).call.apply(t,[this,{template:{root:"input"}}].concat(n)))}return tt()(DurationWidget,t),lt()(DurationWidget,[{key:"construct",value:function construct(){qe()(X()(DurationWidget.prototype),"construct",this).call(this),"text"!==this.node.type&&(this.node.type="text")}},{key:"parse",value:function parse(t){return t instanceof He?t:new He(t)}},{key:"stringify",value:function stringify(t){return t instanceof He?t.toString():new He(t).toString()}}]),DurationWidget}(Cn),Wn=function(t){function RadioInputWidget(){var t,e
ot()(this,RadioInputWidget)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
var a=y.a.apply(Object,[{}].concat(r)),o=a.checked||!1
return delete a.checked,(e=Y()(this,(t=X()(RadioInputWidget)).call.apply(t,[this,{template:{root:"input"}}].concat(r))))._checked=o,e}return tt()(RadioInputWidget,t),lt()(RadioInputWidget,[{key:"construct",value:function construct(){qe()(X()(RadioInputWidget.prototype),"construct",this).call(this),"radio"!==this.node.type&&(this.node.type="radio"),this.node.checked=this._checked}},{key:"handlers",value:function handlers(){var t=this
qe()(X()(RadioInputWidget.prototype),"handlers",this).call(this),this.widget().on("change",function(){t._checked=t.node.checked})}},{key:"checked",get:function get(){return this._checked},set:function set(t){this._checked=t,this.node.checked=t,I.DEBUG&&this.node.setAttribute("checked","checked")}}]),RadioInputWidget}(Cn)
function create_options(t){if(null==t)return{}
var e={}
if(ut()(t)){if(t.length>0){var n=Ie()(t),r=n[0]
n.slice(1)
if(ut()(r))t.forEach(function(t){var n=S()(t,2),r=n[0],i=n[1]
return e[r]=i})
else if(t.forEach(function(t){return e[t]=t}),!qt.isEqual(g()(e),t.map(function(t){return"".concat(t)})))throw"The default ordering of the options \n                     ".concat(ht()(g()(e))," does not match ").concat(ht()(t),". You\n                     should specify the options as a property object (instead\n                     of a list) to achieve your desired order.")}}else e=t
return e}var In=function(t){function SelectWidget(){var t
ot()(this,SelectWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
var i=y.a.apply(Object,[{}].concat(n)),a=create_options(i.options)
delete i.options
var o=function _validate_option_values(t,e){if(null==t)return[]
ut()(t)||(t=[t])
var n=g()(e)
return t.forEach(function(r){if(!n.includes(r))throw template_functions_dedent(_templateObject(),r,ht()(t),ht()(e))}),t}(i.value,a)
if(delete i.value,(t=Y()(this,X()(SelectWidget).call(this,{size:1,multiple:!1,data:{value:o},template:{root:"select"}},i)))._selected={},t.options=a,!ut()(o))throw"value should be an array, not ".concat(ht()(values))
if(!t.multiple&&o.length>1)throw"cannot have multiple values when multiple=false"
return o.forEach(function(e){return t._selected[e]=!0}),t}return tt()(SelectWidget,t),lt()(SelectWidget,[{key:"_clear_selections",value:function _clear_selections(){var t=this
g()(this._selected).forEach(function(e){return t._selected[e]=!1})}},{key:"_set_selections",value:function _set_selections(t){var e=this
t.forEach(function(t){return e._selected[t]=!0})}},{key:"_set_value_from_selected",value:function _set_value_from_selected(){return this.data.value=this._get_value_from_selected(),this.data.value}},{key:"_get_value_from_selected",value:function _get_value_from_selected(){var t=[]
return H()(this._selected).forEach(function(e){var n=S()(e,2),r=n[0]
n[1]&&t.push(r)}),t}},{key:"rebuild_options",value:function rebuild_options(){var t=this,e=this.widget()
e.empty(),H()(this.options).forEach(function(n){var r=S()(n,2),i=r[0],a=r[1],o=fe.$("<option/>").val(i).text(a)
i==t.value&&o.attr("selected","selected"),e.append(o),e.append("\n    ")})}},{key:"construct",value:function construct(){qe()(X()(SelectWidget.prototype),"construct",this).call(this),this.options&&this.rebuild_options()}},{key:"draw",value:function draw(t){null!=t?t.options&&!qt.isEqual(t.options,this.options)?(this.options=t.options,this.rebuild_options()):this.dom_value=t.value:this.dom_value=this.value}},{key:"formatted_value",value:function formatted_value(){return this.options[this.value]}},{key:"get_field_value",value:function get_field_value(){return{v:this.value,f:this.formatted_value()}}},{key:"options",get:function get(){return this._options},set:function set(t){var e=this
this._options=create_options(t),g()(this._options).forEach(function(t){return e._selected[t]=!1})}},{key:"value",get:function get(){return this.data.value},set:function set(t){if(!this._status.updating_from_data){if(ut()(t)||(t=[t]),!this.multiple&&t.length>1)throw"Cannot set multiple values when multiple = false!"
this._clear_selections(),this._set_selections(t),this.data.value=t,this.datasource&&(this.datasource.value=t),this.trigger("value-changed",this.value)}return t}},{key:"dom_value",set:function set(t){this._status.updating_from_widget||this.widget().val(t)}}]),SelectWidget}(Cn),zn=function(t){function RadioSelectWidget(){var t
ot()(this,RadioSelectWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(RadioSelectWidget)).call.apply(t,[this,{template:{root:"div"}}].concat(n)))}return tt()(RadioSelectWidget,t),lt()(RadioSelectWidget,[{key:"rebuild_options",value:function rebuild_options(){var t=this
this.widget().empty(),H()(this.options).forEach(function(e){var n=S()(e,2),r=n[0],i=n[1],a=t.layout.make("input",{type:"radio",name:t.name,id:fe.counter(t.name+"-")}),o=t.layout.make("label",{id:a.prop("id")+"-label",for:a.prop("id")}).text(i)
a.val(r),t.value.includes(r)&&a.prop("checked",!0),o.prepend(a),t.widget().append(o),t.widget().append("\n        ")})}},{key:"widget_changed",value:function widget_changed(t){this._status.updating_from_widget=!0,"change"===t.type&&(this._clear_selections(),this._selected[t.item.value]=t.item.checked,this._set_value_from_selected()),this._status.updating_from_widget=!1}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("change",":radio",function(e){t.widget_changed({type:"change",event:e,item:this}),t.trigger("change",e,t)}),this.retrigger("validation-change")}},{key:"dom_value",set:function set(t){var e=this
if(!this._status.updating_from_widget){if(null==t)return
var n=t.value||t.v||t
if(!ut()(n))throw"value should be an array, not ".concat(ht()(n))
n.forEach(function(t){e.widget(':radio[value="'.concat(t,'"]')).prop("checked",!0),e.widget(':radio[value="'.concat(t,'"]')).attr("checked","checked")})}}}]),RadioSelectWidget}(In),qn=function(t){function CheckboxSelectWidget(){var t
ot()(this,CheckboxSelectWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(CheckboxSelectWidget)).call.apply(t,[this,{multiple:!0}].concat(n)))}return tt()(CheckboxSelectWidget,t),lt()(CheckboxSelectWidget,[{key:"rebuild_options",value:function rebuild_options(){var t=this,e=this.widget()
e.empty(),H()(this.options).forEach(function(n){var r=S()(n,2),i=r[0],a=r[1],o=t.layout.make("input",{type:"checkbox",name:t.name,id:fe.counter(t.name+"-")}),s=t.layout.make("label",{id:o.prop("id")+"-label",for:o.prop("id")}).text(a)
o.val(i),t.value.includes(i)&&o.prop("checked",!0),s.prepend(o),e.append(s),e.append("\n")})}},{key:"widget_changed",value:function widget_changed(t){this._status.updating_from_widget=!0,"change"===t.type&&(this._selected[t.item.value]=t.item.checked,this._set_value_from_selected()),this._status.updating_from_widget=!1}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("change",":checkbox",function(e){t.widget_changed({type:"change",event:e,item:this}),t.trigger("change",e,t)}),this.retrigger("validation-change")}},{key:"dom_value",set:function set(t){if(!this._status.updating_from_widget){if(null==t)return
var e=t.value||t.v||t
if(!ut()(e))throw"value should be an array, not ".concat(ht()(e))
this.widget(":checkbox").val(e)}}}]),CheckboxSelectWidget}(zn),$n=function(t){function TriboolWidget(){var t
ot()(this,TriboolWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(TriboolWidget)).call.apply(t,[this,{values:{0:0,1:1,2:2},value:0,structure:{tribool_label_box:{},true_widget_box:{css:{float:"left"}},false_widget_box:{css:{float:"left"}}}}].concat(n)))}return tt()(TriboolWidget,t),lt()(TriboolWidget,[{key:"construct",value:function construct(){qe()(X()(TriboolWidget.prototype),"construct",this).call(this),this.label=this.widget("label"),this.tribool_label_box.text(this.label.text),this.true_widget=fe.$('<button type="button" class="btn btn-default btn-circle"><dk-icon src="check checked"></dk-icon></button>'),this.true_widget_box.append(this.true_widget),this.false_widget=fe.$('<button type="button" class="btn btn-default btn-circle"><dk-icon src="minus checked"></dk-icon></i></button>'),this.false_widget_box.append(this.false_widget)}},{key:"draw",value:function draw(t){if(void 0!==t)switch(t){case 0:this.true_widget.removeClass("btn-success").addClass("btn-default"),this.false_widget.removeClass("btn-danger").addClass("btn-default")
break
case 1:this.true_widget.removeClass("btn-default").addClass("btn-success"),this.false_widget.removeClass("btn-danger").addClass("btn-default")
break
case 2:this.true_widget.removeClass("btn-success").addClass("btn-default"),this.false_widget.removeClass("btn-default").addClass("btn-danger")}}},{key:"handlers",value:function handlers(){var t=this
this.true_widget.on("click",function(){switch(t.value){case 0:t.value=1
break
case 1:t.value=0
break
case 2:t.value=1}t.draw(t.value),fe.trigger(t.widget,"change",t.widget),t.notify("change",t)}),this.false_widget.on("click",function(){switch(t.value){case 0:case 1:t.value=2
break
case 2:t.value=0}t.draw(t.value),fe.trigger(t.widget,"change",t.widget),t.notify("change",t)})}},{key:"dom_value",set:function set(t){}}]),TriboolWidget}(Cn),Nn={email:function email(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},phone:function phone(t){return t=t.replace(/[-\s]/g,""),/^(\+47)?\d{8}$/.test(t)},persnr:function persnr(t){if(11!==t.length)return!1
return multiply_reduce(t=A()(t).map(function(t){return T()(t,10)}),[3,7,6,1,8,9,4,5,2,1,0])%11==0&&multiply_reduce(t,[5,4,3,2,7,6,5,4,3,2,1])%11==0}},Gn=n(18),Mn=n.n(Gn),Hn=n(35),Bn=n.n(Hn),Un=n(27),Vn=n.n(Un),Jn=function(t){function ValueRef(t,e){var n
return ot()(this,ValueRef),(n=Y()(this,X()(ValueRef).call(this))).pk=t,n.field=e,n._value=null,n}return tt()(ValueRef,t),lt()(ValueRef,[{key:"update",value:function update(t){t.update([m()({pk:this.pk},this.field,this.value)])}},{key:"value",set:function set(t){t!==this._value&&(this._value=t,fe.trigger(this,"value-changed",t))},get:function get(){return this._value}}]),ValueRef}(Nt),Kn=function(t){function DataSource(){var t
return ot()(this,DataSource),(t=Y()(this,X()(DataSource).call(this))).data=[],t.total_items=void 0,t.selected_items=void 0,t.id=t.name=q("datasource_"),t}return tt()(DataSource,t),lt()(DataSource,[{key:"get_defaults",value:function get_defaults(t){return{start:t.start||0,end:t.end||25,orphans:t.orphans||0,sort:t.sort||[],filter:t.filter||{}}}},{key:"fetch_records",value:function(){var t=Vn()(Mn.a.mark(function _callee(t){return Mn.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Bn.a(function(t,e){t({fields:{},meta:{},records:{}})}))
case 1:case"end":return t.stop()}},_callee)}))
return function fetch_records(e){return t.apply(this,arguments)}}()},{key:"get_records",value:function get_records(t,e){e({fields:{},meta:{},records:{}})}},{key:"fetch_filter_data",value:function(){var t=Vn()(Mn.a.mark(function _callee2(t){return Mn.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Bn.a(function(t,e){t({missing:"data missing",need_to:"need to implement fetch_filter_data in datasource"})}))
case 1:case"end":return t.stop()}},_callee2)}))
return function fetch_filter_data(e){return t.apply(this,arguments)}}()},{key:"get_filter_data",value:function get_filter_data(t,e){e({missing:"data missing",need_to:"need to implement get_filter_data in datasource"})}},{key:"get_fields",value:function get_fields(){return[]}},{key:"update",value:function update(t){}},{key:"start_editing",value:function start_editing(t){}},{key:"stop_editing",value:function stop_editing(t){}}]),DataSource}(Nt)
function sort_by(t,e){var n=[]
return t.forEach(function(t){return n.push([e(t),t])}),n.sort(),n.map(function(t){var e=S()(t,2)
e[0]
return e[1]})}var Yn=function(t){function ArraySource(t){var e
return ot()(this,ArraySource),e=Y()(this,X()(ArraySource).call(this)),ut()(t)?e.data=t:e.data=t.data,e.data.map(function(t,e){return t.pk=t.pk||e}),e}return tt()(ArraySource,t),lt()(ArraySource,[{key:"update",value:function update(t){var e=this
g()(t).forEach(function(n){var r=t[n],i=e.data[n]
for(var a in r)"pk"!==a&&r.hasOwnProperty(a)&&(i[a]=r[a].newval)})}},{key:"fetch_records",value:function(){var t=Vn()(Mn.a.mark(function _callee(t){var e,n,r,i=this
return Mn.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return(e=t).end=this.data.length-e.orphans<=e.end?this.data.length:e.end,e.start=e.start>e.end?e.end:e.start,this.do_sort(e),n=this.do_search(t),r=n.slice(e.start,e.end),a.abrupt("return",new Bn.a(function(t,a){t({fields:i.get_fields(),meta:{totcount:i.data.length,filter_count:n.length,start_recnum:e.start,end_recnum:e.start+r.length},records:r})}))
case 7:case"end":return a.stop()}},_callee,this)}))
return function fetch_records(e){return t.apply(this,arguments)}}()},{key:"_copy_request",value:function _copy_request(t){return t.copy?t.copy():{pagesize:t.pagesize,pagenum:t.pagenum,start:t.start,end:t.end,orphans:t.orphans,search:t.search,sort:t.sort,filter:t.filter}}},{key:"get_records",value:function get_records(t,e){var n=this._copy_request(t),r=this.data.length
n.end=r-n.orphans<=n.end?r:n.end,n.start=n.start>n.end?n.end:n.start,this.do_sort(n)
var i=this.do_search(t),a=i.slice(n.start,n.end)
e({fields:this.get_fields(),meta:{totcount:r,filter_count:i.length,start_recnum:n.start,end_recnum:n.start+a.length},records:a})}},{key:"do_search",value:function do_search(t){return t.search?this.data.filter(function(e){for(var n in e)if(e.hasOwnProperty(n)&&"string"==typeof e[n]&&e[n].includes(t.search))return!0
return!1}):this.data}},{key:"do_sort",value:function do_sort(t){t.sort&&t.sort.length>0&&t.sort[0].field&&(this.data=sort_by(this.data,function(e){return e[t.sort[0].field]}),"desc"===t.sort[0].direction&&this.data.reverse())}},{key:"get_fields",value:function get_fields(){if(this.data.length>0){var t=this.data[0],e={}
return g()(t).forEach(function(n,r){e[n]={name:n,pos:r,type:pt()(t[n])}}),e}return{}}}]),ArraySource}(Kn),Qn={up:"url(//static.datakortet.no/dk/sort-za.cur), pointer",down:"url(//static.datakortet.no/dk/sort-az.cur), pointer"}
function cursors_cursor(t){return Qn[t]||t}var Xn=function(t){function ColumnDef(){var t,e
ot()(this,ColumnDef)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(ColumnDef)).call.apply(t,[this,{isa:"dk.table.ColumnDef",name:"",field:"",label:"",sortable:void 0,description:"",align:void 0,format:dk_format_value,type:void 0,widget_type:Rn,empty:"",table:void 0,_alignment_map:{int:"right"}}].concat(r)))).name=e.name||e.field,e}return tt()(ColumnDef,t),lt()(ColumnDef,[{key:"alignment",value:function alignment(){return this.align||this._alignment_map[this.type]||"left"}},{key:"get_value",value:function get_value(t){return t[this.name]}},{key:"bind_to_field",value:function bind_to_field(t){var e
this.field=t,this.label||(this.label=t.label||t.name),this.type||(this.type=t.type),void 0===(e=t.widget?an[t.widget]:an[this.type])&&(e=Rn),this.widget_type=e,this.widget_data=t.data,this.widget_url=t.url}}]),ColumnDef}(Nt),Zn=function(t){function TableCell(){var t
ot()(this,TableCell)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(TableCell)).call.apply(t,[this,{tablerow:null,coldef:null}].concat(n)))}return tt()(TableCell,t),lt()(TableCell,[{key:"construct_edit_widget",value:function construct_edit_widget(){var t=this.widget(),e=this.coldef,n=this.value,r=t.width()
t.empty()
var i=e.widget_type.create_inside(t,{data:e.widget_data||{},url:e.widget_url,css:{border:"none"}})
return"SelectWidget"===e.widget_type&&(r+=20),i.widget().width(r),i.value=n,i}},{key:"start_editing",value:function start_editing(){var t=this
this.editing||!1===this.coldef.editable||(this.editing=!0,this._undo_stack||(this._undo_stack=[]),this._undo_stack.push(this.value),this.edit_widget=this.construct_edit_widget(),this.edit_widget.widget().on("change",function(){var e=t.value
t.value=t.edit_widget.get_field_value(),fe.trigger(t,"dirty",t.coldef,t.value,t.edit_widget,e)}))}},{key:"save_editing",value:function save_editing(){!1!==this.coldef.editable&&(this.value=this.edit_widget.get_field_value(),this._undo_stack.pop())}},{key:"undo_editing",value:function undo_editing(){!1!==this.coldef.editable&&(this.value=this._undo_stack.pop())}},{key:"stop_editing",value:function stop_editing(){!1!==this.coldef.editable&&(this._undo_stack=[],this.widget().empty(),this.draw(),this.editing=!1)}},{key:"handlers",value:function handlers(){var t=this
fe.on(this.tablerow.record,"change",function(e,n){t.coldef.name===e&&t.draw(n)})}},{key:"draw",value:function draw(t){var e=void 0===this.value?t:this.value,n=this.widget().attr({axis:this.coldef.name,title:this.coldef.title}),r=this.tablerow.record
n.html(this.coldef.format(e,r,this.widget()))}},{key:"value",set:function set(t){this.tablerow&&this.tablerow.set_column_value(this.coldef,t)},get:function get(){return this.tablerow?this.tablerow.get_column_value(this.coldef):null}}]),TableCell}(dn),tr=function(t){function TableRow(){var t
ot()(this,TableRow)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(TableRow)).call.apply(t,[this,{dklayout:Tn,rownum:null,record:null,table:null,cells:[],template:{root:"tr"}}].concat(n)))}return tt()(TableRow,t),lt()(TableRow,[{key:"delete_widget",value:function delete_widget(){delete this.record,delete this.table,this.cells.forEach(function(t){return t.delete_widget()}),this.cells=[],qe()(X()(TableRow.prototype),"delete_widget",this).call(this)}},{key:"construct",value:function construct(){var t=this,e=this.record,n=this.table
this.widget().attr({pk:e.pk,rownum:this.rownum}),this.cells=n.column_order.map(function(e){var r=n.column[e]
return Zn.create_on(t.layout.add_td(),{tablerow:t,coldef:r})})}},{key:"get_column_value",value:function get_column_value(t){return t.get_value(this.record)}},{key:"set_column_value",value:function set_column_value(t,e){this.record[t.name]=e}}]),TableRow}(pn),er=function(t){function SortDirection(){var t,e
ot()(this,SortDirection)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(SortDirection)).call.apply(t,[this,{direction:"",width:20,structure:{classes:["sort-icon"],css:{float:"right"}}}].concat(r)))).direction="",e.width=e.width||20,e}return tt()(SortDirection,t),lt()(SortDirection,[{key:"construct",value:function construct(){this.widget().css({width:this.width,marginLeft:this.width})}},{key:"set_direction",value:function set_direction(t){t!==this.direction&&(this.direction=t,this.trigger("sort",t))}},{key:"clear_sort",value:function clear_sort(){this.set_direction(""),this.draw()}},{key:"toggle_sort_direction",value:function toggle_sort_direction(){this.set_direction({asc:"desc",desc:"asc","":"desc"}[this.direction]),this.draw()}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("click",function(){return t.toggle_sort_direction()})}},{key:"draw",value:function draw(){switch(this.widget().empty(),this.direction){case"asc":this.widget().append(icon("up"))
break
case"desc":this.widget().append(icon("down"))}}}]),SortDirection}(pn),nr=function(t){function TableHeader(){var t
ot()(this,TableHeader)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(TableHeader)).call.apply(t,[this,{scope:"col",width:void 0,sortable:!0,name:void 0,label:void 0,title:void 0,format:void 0,field:void 0,table:void 0,template:{root:"th"}}].concat(n)))}return tt()(TableHeader,t),lt()(TableHeader,[{key:"construct",value:function construct(){this.sortable&&(this.sort_icon=er.create_inside(this.widget(),{width:"2ex"})),this.title=this.description}},{key:"handlers",value:function handlers(){var t=this,e=this
this.sortable&&(e.widget().on("click",function(){e.table.set_sort(e)}),fe.on(this.sort_icon,"sort",function(){return t.set_sort_cursor()}))}},{key:"set_sort_cursor",value:function set_sort_cursor(){if(this.sortable){var t="desc"===this.sort_icon.direction?"down":"up"
this.widget().css("cursor",cursors_cursor(t)),fe.trigger(this.table,"sort",this.sort_icon.direction)}}},{key:"draw",value:function draw(){this.widget().attr({title:this.title,scope:this.scope,fieldname:this.name}).append(this.label),this.sortable&&this.set_sort_cursor()}}]),TableHeader}(Zn),rr={widgetmap:{boolean:Rn,number:Rn,string:Rn},InputWidget:Cn,TextInputWidget:Rn,TextWidget:Rn,DurationWidget:Fn,RadioInputWidget:Wn,SelectWidget:In,RadioSelectWidget:zn,CheckboxSelectWidget:qn,TriboolWidget:$n,validators:Nn},ir=function(t){function JSONDataSource(t){var e
return ot()(this,JSONDataSource),e=Y()(this,X()(JSONDataSource).call(this)),t=y()({},t),e.data=t.data||{},e._column_number={},e}return tt()(JSONDataSource,t),lt()(JSONDataSource,[{key:"_keymap",value:function _keymap(){var t={}
return this.data.rows.forEach(function(e){t[e.k]=e}),t}},{key:"_field_order",value:function _field_order(){var t={}
return this.data.cols.forEach(function(e,n){t[e.name]=n}),t}},{key:"update",value:function update(t){var e=this._keymap(),n=this._field_order()
g()(t).forEach(function(r){var i=t[r],a=e[r]
g()(i).forEach(function(t){a.c[n[t]]=i[t].newval})})}},{key:"do_sort",value:function do_sort(t){var e=this
t.sort.length&&t.sort[0].field&&t.sort[0].field&&(this.data.rows=sort_by(this.data.rows,function(n){var r=n.c[e._column_number[t.sort[0].field]]
return r.v||r.f||r}),"desc"===t.sort[0].direction&&this.data.rows.reverse())}},{key:"rows_to_records",value:function rows_to_records(t,e,n){return e.map(function(e,r){var i={pk:e.k,rownum:t.start+r}
return g()(n).forEach(function(t,n){i[t]=e.c[n]}),i})}},{key:"_get_records",value:function _get_records(t,e){var n=this.get_fields(e)
return{fields:n,meta:e.info,records:this.rows_to_records(t,e.rows,n)}}},{key:"get_filter_data",value:function get_filter_data(t,e){e(this.data.filter_data[t])}},{key:"fetch_filter_data",value:function(){var t=Vn()(Mn.a.mark(function _callee(t){var e=this
return Mn.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Bn.a(function(n,r){n(e.data.filter_data[t])}))
case 1:case"end":return n.stop()}},_callee)}))
return function fetch_filter_data(e){return t.apply(this,arguments)}}()},{key:"fetch_records",value:function(){var t=Vn()(Mn.a.mark(function _callee2(t){var e,n=this
return Mn.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return e=this.get_defaults(t),this.data.info={start_recnum:e.start,totcount:this.data.rows.length},this.get_fields(this.data),this.do_sort(e),this.data.info.filter_count=this.data.rows.length,this.data.rows=this.data.rows.slice(e.start,e.end),r.abrupt("return",new Bn.a(function(e,r){try{e(n._get_records(t,n.data))}catch(t){r(t)}}))
case 7:case"end":return r.stop()}},_callee2,this)}))
return function fetch_records(e){return t.apply(this,arguments)}}()},{key:"get_records",value:function get_records(t,e){var n=this.get_defaults(t)
this.data.info={start_recnum:n.start,totcount:this.data.rows.length}
this.get_fields(this.data)
this.do_sort(n),this.data.info.filter_count=this.data.rows.length,this.data.rows=this.data.rows.slice(n.start,n.end),e(this._get_records(t,this.data))}},{key:"get_fields",value:function get_fields(t){var e=this,n={}
return t&&t.cols?(t.cols.forEach(function(t,r){e._column_number[t.name]=r,n[t.name]={name:t.name,pos:r,type:t.datatype,sortable:t.sortable,label:t.label,help_text:t.help_text,widget:t.widget,data:t.data}}),n):[]}}]),JSONDataSource}(Kn)
function _make_global_ajax_params(t){var e=this,n=function csrf_safe(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)},r=t.beforeSend
return t.beforeSend=function(i,a){i.setRequestHeader("X-dkdj",fe.version),n(t.type)||i.setRequestHeader("X-CSRFToken",ge.get("csrftoken")),r&&r.call(e,i,a)},n(t.type),t.data&&"string"!=typeof t.data&&(t.data=ht()(t.data),t.dataType="json",t.contentType="application/json; charset=utf-8"),t}function ajax(t){return fe.$.ajax(_make_global_ajax_params(t))}function async_ajax(t){return _async_ajax.apply(this,arguments)}function _async_ajax(){return(_async_ajax=Vn()(Mn.a.mark(function _callee(t){return Mn.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.$.ajax(_make_global_ajax_params(t))
case 2:return e.abrupt("return",e.sent)
case 3:case"end":return e.stop()}},_callee)}))).apply(this,arguments)}function _make_global_json_params(t){return(t=fe.$.extend({cache:!1,dataType:"json",statusCode:{404:function _(){alert("Page not found: "+t.url)},409:function _(t,e,n){fe.log(409,t,e,n)},500:function _(){t.stop_500_redirect||(document.location=t.url)}},error:function error(e,n,r){fe.log("ERROR",e,n,r),document.location=t.url},converters:{"text json":Ue.parse},success:function success(){}},t)).data&&(t.type="POST"),t}function json(t){return ajax(_make_global_json_params(t))}function async_json(t){return _async_json.apply(this,arguments)}function _async_json(){return(_async_json=Vn()(Mn.a.mark(function _callee2(t){return Mn.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,async_ajax(_make_global_json_params(t))
case 2:return e.abrupt("return",e.sent)
case 3:case"end":return e.stop()}},_callee2)}))).apply(this,arguments)}var ar=function(t){function DataQuery(t,e){var n
ot()(this,DataQuery)
var r=t||{}
return(n=Y()(this,X()(DataQuery).call(this))).pagesize=25,null!=r.pagesize?n.pagesize=r.pagesize:e&&null!=e.pagesize?n.pagesize=e.pagesize:e&&e.datasource&&null!=e.datasource.default_pagesize&&(n.pagesize=e.datasource.default_pagesize),n.pagenum=r.pagenum||0,n.start=n.pagenum*n.pagesize,n.end=n.start+n.pagesize,n.orphans=0,null!=r.orphans?n.orphans=r.orphans:e&&null!=e.orphans&&(n.orphans=e.orphans),n.search=r.search||"",n.sort=r.sort||[],n.filter=r.filter||{},n}return tt()(DataQuery,t),lt()(DataQuery,[{key:"copy",value:function copy(){return{pagesize:this.pagesize,pagenum:this.pagenum,start:this.start,end:this.end,orphans:this.orphans,search:this.search,sort:this.sort,filter:this.filter}}},{key:"toString",value:function toString(){return ht()({start:this.start,end:this.end,orphans:this.orphans,sort:this.sort,search:this.search,filter:this.filter})}},{key:"axdata2page_query",value:function axdata2page_query(t){var e={start:t.start||0,search:t.q,filter:t.ft,end:t.end}
return t.s&&(e.sort=t.s.split(",").map(function(t){return"-"===t[0]?{direction:"desc",field:t.slice(1)}:{direction:"asc",field:t}})),e}},{key:"_axdata",value:function _axdata(){var t={s:this.sort.map(function sortcol(t){return void 0===t.field?"":("desc"===t.direction?"-":"")+t.field}).join(","),start:this.start,q:this.search,end:this.end,ft:this.filter}
return""===t.s&&delete t.s,0===t.start&&delete t.start,""===t.q&&delete t.q,qt.isEqual(t.ft,{})&&delete t.ft,t}},{key:"toCacheKey",value:function toCacheKey(){return H()(this._axdata()).map(function(t){var e=S()(t,2),n=e[0],r=e[1]
return"".concat(n,"=").concat(ht()(r))}).join("&")}},{key:"toGetParams",value:function toGetParams(){return"state="+encodeURIComponent(ht()(this._axdata()))}}]),DataQuery}(Nt),or=function(t){function AjaxDataSource(t){var e
return ot()(this,AjaxDataSource),e=Y()(this,X()(AjaxDataSource).call(this)),t=y()({},t||{}),e.url=t.url||"",e._fields=null,e.default_pagesize=t.default_pagesize||5,e}return tt()(AjaxDataSource,t),lt()(AjaxDataSource,[{key:"_axdata",value:function _axdata(t){null==t&&(t=new ar)
var e={s:t.sort.map(function sortcol(t){return void 0===t.field?"":("desc"===t.direction?"-":"")+t.field}).join(","),start:t.start,q:t.search,end:t.end,ft:t.filter}
return""===e.s&&delete e.s,0===e.start&&delete e.start,""===e.q&&delete e.q,qt.isEqual(e.ft,{})&&delete e.ft,e}},{key:"_make_ajax_opts",value:function _make_ajax_opts(t,e){var n=this
B.debug("CMD:",t,"DATA:",e)
var r={cache:!1,type:"POST",dataType:"json",url:n.url+"!"+t,contentType:"application/json; charset=utf-8",statusCode:{404:function _(){B.debug("Page not found: "+n.url)},500:function _(){window.open(n.url)}},error:function error(t,e,r){throw n.waiting=!1,B.warn("ERROR",t,e,r),{error:"fetch-error",message:e+" "+r}},converters:{"text json":Ue.parse},success:function success(t){if(B.debug("dk-ajax-datasource-DATA:",t),t.error)throw B.warn(t),t
n.data=t,n.waiting=!1,this.do_success(n.data)}}
return y()(r,e),r.data=ht()(r.data),r}},{key:"_ajax",value:function _ajax(t,e){ajax(this._make_ajax_opts(t,e))}},{key:"update",value:function update(t,e){var n=this
this._ajax("update",{data:{data:this.data,changes:t},do_success:function do_success(t){e(n._get_records(n.last_request,t),n.last_request)}})}},{key:"fetch_filter_data",value:function(){var t=Vn()(Mn.a.mark(function _callee(t){return Mn.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,async_json({data:{name:t},url:"".concat(this.url,"!get-filter-values")})
case 2:return e.abrupt("return",e.sent)
case 3:case"end":return e.stop()}},_callee,this)}))
return function fetch_filter_data(e){return t.apply(this,arguments)}}()},{key:"get_filter_data",value:function get_filter_data(t,e){json({data:{name:t},url:"".concat(this.url,"!get-filter-values"),success:function success(n){if(B.debug("get-filter-data:",t,"DATA:",n),n.error)throw B.warn(n),n
self.data=n,self.waiting=!1,e(n)}})}},{key:"fetch_records",value:function(){var t=Vn()(Mn.a.mark(function _callee2(t){var e,n,r
return Mn.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return e=this,this.last_request=t,n=e._axdata(t),i.next=5,async_ajax(this._make_ajax_opts("get-records",{data:n}))
case 5:return r=i.sent,i.abrupt("return",this._get_records(t,r))
case 7:case"end":return i.stop()}},_callee2,this)}))
return function fetch_records(e){return t.apply(this,arguments)}}()},{key:"get_records",value:function get_records(t,e){var n=this
this.last_request=t
var r=n._axdata(t)
this._ajax("get-records",{data:r,do_success:function do_success(r){e(n._get_records(t,r))}})}}]),AjaxDataSource}(ir),sr=function(t){function DataPage(t){var e
ot()(this,DataPage),e=Y()(this,X()(DataPage).call(this,y()({query:null,recordset:{},dirtyset:{}},t)))
var n=[]
return e.get_field_names().map(function(t){var r=e.get_field(t)
r.name=t,n.push(r)}),e.fields=n,e.records=e.recordset.records,e.record={},e.records.forEach(function(t){e.record[t.pk]=t}),e}return tt()(DataPage,t),lt()(DataPage,[{key:"add_dirty",value:function add_dirty(t,e,n,r,i){var a=this.dirtyset[t]||{}
a[e.name]={oldval:r,newval:n},this.dirtyset[t]=a}},{key:"update",value:function update(t,e){this.dirtyset&&(t.update(this.dirtyset,e),this.dirtyset={})}},{key:"get_record",value:function get_record(t){return this.record[t]}},{key:"get_record_keys",value:function get_record_keys(){return this.recordset.records.map(function(t){return t.pk})}},{key:"get_field",value:function get_field(t){return this.recordset.fields[t]}},{key:"get_field_names",value:function get_field_names(){return g()(this.recordset.fields)}},{key:"get_field_list",value:function get_field_list(){var t=this
return this.get_field_names().map(function(e){return t.get_field(e)})}}]),DataPage}(Nt),lr=function(t){function DataSet(t){var e
return ot()(this,DataSet),null==t&&(t={}),ut()(t.datasource)&&(t.datasource=new Yn(t.datasource)),function is_ajax_url(t){if("string"!=typeof t)return!1
if(!t)return!1
if(t.includes("\n"))return!1
try{var e=parse_uri(t)
return e.protocol?e.protocol.match(/^https?/):is_ajax_url("http://example.com/"+t)}catch(t){return!1}}(t.datasource)&&(t.datasource=new or({url:t.datasource})),(e=Y()(this,X()(DataSet).call(this,y()({datasource:null,pages:null,page:null,pagenum:0,totpages:0,pagesize:25,orphans:0},t))))._first_fetch=!0,e.pages={},e._filter_data={},e}return tt()(DataSet,t),lt()(DataSet,[{key:"get_record",value:function get_record(t){return this.page.get_record(t)}},{key:"set_field_value",value:function set_field_value(t,e,n){var r=this.get_record(t)
r[e]=n,fe.trigger(r,"change",e,n)
var i=this.page.get_field(e)
this.page.add_dirty(t,i,n)}},{key:"get_field_value",value:function get_field_value(t,e){return this.get_record(t)[e]}},{key:"value_ref",value:function value_ref(t){var e=this,n=t.pk,r=t.field,i=new Jn(n,r),a=function get_value(t){return t?t.get_record(n)[r]:null}
return i.value=a(this.page),fe.on(this,"fetch-data",function(t,e){return i.value=a(e)}),fe.on(i,"value-changed",function(t){return e.set_field_value(n,r,t)}),i}},{key:"update",value:function update(){this.pages={},this.page.update(this.datasource,this.FN("_new_recordset"))}},{key:"get_state",value:function get_state(t){return this.datasource.url?ar.create(fe.hash.get(this.datasource.url,t.copy()),this):t}},{key:"set_state",value:function set_state(t){this.datasource.url&&(fe.hash[this.datasource.url]=t.copy())}},{key:"_new_recordset",value:function _new_recordset(t,e){var n=this,r=sr.create({query:e,recordset:t})
if(t.meta){var i=t.meta
void 0===i.totcount&&void 0===i.filter_count&&(i.totcount=0,i.filter_count=0),i.totcount&&void 0===i.filter_count&&(i.filter_count=i.totcount),void 0===i.pagecount&&0===i.filter_count?i.pagecount=0:void 0===i.filter_count||i.pagecount||(i.pagecount=Math.max(1,Math.floor(i.filter_count/e.pagesize)),i.filter_count>e.pagesize&&i.filter_count%e.pagesize>e.orphans&&++i.pagecount)}fe.on(r,"dirty",function(){return n.update.apply(n,arguments)}),this.page=this.pages[e.toCacheKey()]=r,fe.trigger(this,"fetch-info",r.recordset.meta,e),fe.trigger(this,"fetch-data",this,r)}},{key:"get_page",value:function get_page(t){var e=this
t=ar.create(t,this),this._first_fetch?(t=this.get_state(t),this._first_fetch=!1):this.set_state(t),fe.trigger(this,"fetch-data-start")
var n=t.toCacheKey()
this.pages[n]?(this.page=this.pages[n],fe.trigger(this,"fetch-info",this.page.recordset.meta,t),fe.trigger(this,"fetch-data",this,this.page)):this.datasource.get_records(t,function(n){e._new_recordset(n,t)})}},{key:"_current_query",value:function _current_query(){return this.page?this.page.query.copy():{}}},{key:"get_pagenum",value:function get_pagenum(t){var e=this._current_query()
e.pagenum=t,this.get_page(e)}},{key:"set_search",value:function set_search(t){var e=this._current_query()
e.search=t,e.pagenum=0,this.get_page(e)}},{key:"set_sort",value:function set_sort(t,e){var n=this._current_query(),r={field:t,direction:e}
n.sort=[r],n.pagenum=0,this.get_page(n)}},{key:"get_filter_data",value:function get_filter_data(t,e){this._filter_data[t]?e(this._filter_data[t]):this.datasource.get_filter_data(t,function(t){e(t)})}},{key:"set_filter",value:function set_filter(t){var e=this._current_query()
e.filter=t,e.pagenum=0,this.get_page(e)}},{key:"fetch_csv",value:function fetch_csv(t){var e=this._current_query()
e.pagesize=5e4,e=ar.create(e,this),fe.$("#downloadFile").length&&fe.$("#downloadFile").remove()
var n=this.datasource.url+"!get-records?fmt=csv&filename="+t+"&"+e.toGetParams()
fe.$("<a/>").attr("id","downloadFile").attr("href",n).attr("target","_blank").appendTo("body"),fe.$("#downloadFile").ready(function(){fe.$("#downloadFile").get(0).click()})}}]),DataSet}(Nt),cr=function(t){function DataTableLayout(t,e,n,r){var i
return ot()(this,DataTableLayout),(i=Y()(this,X()(DataTableLayout).call(this,t,e,n,r))).thead_tr=i.add_header_row(),i}return tt()(DataTableLayout,t),lt()(DataTableLayout,[{key:"add_thead_th",value:function add_thead_th(t){var e=this.make("thead_th",t)
return this.thead_tr.appendln(e),e}}]),DataTableLayout}(On),ur=function(t){function DataTable(){var t,e
ot()(this,DataTable)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
e=Y()(this,(t=X()(DataTable)).call.apply(t,[this,{dklayout:cr,TableRow:tr,current_pagenum:0,translate:{},structure:{thead:{},tfoot:{},tbody:{}},template:{root:"table",table:"<table/>",thead:"<thead/>",thead_tr:"<tr/>",thead_th:"<th/>",tbody:"<tbody/>",tbody_tr:"<tr/>"},table_data:null,state:void 0,columns:null,column:{},filters:{},sortable:!0,download:void 0,header:null,rows:null,column_order:null,column_defs:null}].concat(r)))
var a=Fe()(e)
if(e.rows=[],e.header=[],e.column={},e.column_order=[],e.datasource&&null===e.table_data){var o={datasource:e.datasource}
null!=e.pagesize&&(o.pagesize=e.pagesize),null!=e.orphans&&(o.orphans=e.orphans),null!=e.pagenum&&(o.pagenum=e.pagenum),e.table_data=new lr(o)}return null===e.table_data&&(e.data_url=e.dk&&e.dk.url?e.dk.url:"",e.table_data=new lr({datasource:new or({url:a.data_url})})),e.data_url||(e.data_url=e.table_data.datasource.url),e}return tt()(DataTable,t),lt()(DataTable,[{key:"construct",value:function construct(){if(this.download){var t=fe.$(this.download).attr("data-download")||"filename.csv"
fe.$(this.download).attr("href",this.data_url+"!get-records?fmt=csv&filename="+t)}}},{key:"set_pager",value:function set_pager(t){var e=this
this.table_data.page&&(t.set_pagecount(this.table_data.page.recordset.meta.pagecount),t.select_page(this.table_data.page.query.pagenum)),fe.on(t,"select-page",function(){var t
return(t=e.table_data).get_pagenum.apply(t,arguments)}),fe.on(this.table_data,"fetch-info",function(e,n){t.set_pagecount(e.pagecount),t.select_page(n.pagenum)})}},{key:"filter_values",value:function filter_values(){return{}}},{key:"handlers",value:function handlers(){var t=this
fe.on(this.table_data,"fetch-data-start",function(){return t.start_busy()}),fe.on(this.table_data,"fetch-data",function(){return t.draw.apply(t,arguments)}),fe.on(this.table_data,"fetch-data",function(){return t.end_busy.apply(t,arguments)})}},{key:"set_sort",value:function set_sort(t){t.sortable&&this.sortable&&(this.header.forEach(function(e){e.sortable&&e!==t&&e.sort_icon.clear_sort()}),t.sort_icon.toggle_sort_direction(),this.table_data.set_sort(t.name,t.sort_icon.direction),fe.trigger(this,"sort-order",t.name,t.sort_icon.direction,this))}},{key:"set_search",value:function set_search(t){this.table_data.set_search(t),this.state&&this.state.set&&this.state.set("pagedef",this.table_data.current_pagedef)}},{key:"set_filter",value:function set_filter(t){this.table_data.set_filter(t)}},{key:"get_xy",value:function get_xy(t,e){return this.rows[e].cells[t]}},{key:"set_xy",value:function set_xy(t,e,n,r,i){var a=this.get_xy(t,e)
return a.set_value(n,r,i),a}},{key:"values",value:function values(){var t=[]
return this.rows.forEach(function(e){var n=[]
e.cells.forEach(function(t){n.push(t.widget().text())}),t.push(n)}),t}},{key:"_get_columndefs",value:function _get_columndefs(t){var e,n=this,r=this,i={}
return t.forEach(function(t){i[t.name]=t}),qt.isFunction(this.columns)?e=this.columns(this.table_data.fields):null===this.columns?e=t:ut()(this.columns)?dkwarning("Expected {field1: {...}, field2: {...}, etc.}. columns property of unknown type: ".concat(this.columns)):e=g()(this.columns).map(function(t){var e=n.columns[t]
return e.name=t,e}),e.map(function(t,e){var n=i[t.name],a={}
n&&y()(a,{fieldpos:n.pos,fieldtype:n.type,sortable:n.sortable,label:n.label,help_text:n.help_text,field_widget:n.widget,field_data:n.data}),y()(a,t),y()(a,{colnum:e,table:r}),void 0===a.sortable&&(a.sortable=r.sortable)
var o=new Xn(a)
return i[o.name]&&o.bind_to_field(i[o.name]),r.column[o.name]=o,r.column_order.push(o.name),o})}},{key:"draw_header",value:function draw_header(t){if(!this.drawn_header){var e=this
this.columns=this._get_columndefs(t.page.fields),this.columns.forEach(function(t){var n=nr.create(e.layout.add_thead_th(),t)
e.header.push(n)}),e.drawn_header=!0}}},{key:"delete_body",value:function delete_body(){this.rows.forEach(function(t){t.delete_widget()}),this.rows=[],this.layout.clear_body()}},{key:"draw",value:function draw(t){var e=this
t?(e.draw_header(t),this.delete_body(),fe.trigger(this,"draw-start",this),t.page.records.forEach(function(t,n){var r=e.TableRow.create(e.layout.add_row_to("tbody"),{rownum:n,record:t,table:e})
e.rows.push(r)}),fe.trigger(this,"draw-end",this)):this.table_data.get_page({pagenum:this.current_pagenum})}}]),DataTable}(pn),dr=function(t){function DataGridRow(){var t
ot()(this,DataGridRow)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(DataGridRow)).call.apply(t,[this,{editing:!1,command_cell:null}].concat(n)))}return tt()(DataGridRow,t),lt()(DataGridRow,[{key:"start_editing",value:function start_editing(t){var e=this
t.stopPropagation(),this.editing||this.table.start_editing(this)&&(this.editing=!0,this.widget().toggle_busy(!0),this.cells.forEach(function(t){t.start_editing(),fe.on(t,"dirty",function(t,n,r,i){var a=e.record
e.table.add_dirty(a,t,n,i,r)})}),this.widget("input:first").focus(),this._save_box_shadow=this.widget().css("box-shadow"),this.widget().css("box-shadow","0 0 5px 5px rgba(100,100,100,.2)"),this.widget().toggle_busy(!1))}},{key:"stop_editing",value:function stop_editing(){this.cells.forEach(function(t){t.stop_editing()}),this.widget().css("box-shadow",this._save_box_shadow),this.editing=!1}},{key:"save_editing",value:function save_editing(){this.cells.forEach(function(t){t.save_editing()}),this.table.save()}},{key:"undo_editing",value:function undo_editing(){this.cells.forEach(function(t){t.undo_editing()})}},{key:"add_command_cell",value:function add_command_cell(t){var e=this
this.command_cell=t
var n=function cmd(n,r,i){var a=e.table.translate&&void 0!==e.table.translate[n]?e.table.translate[n]:n,o=fe.$("<button/>").addClass("btn btn-xs btn-default")
o.append(icon(n,{cursor:"pointer",color:r})).append("&nbsp;"+a).attr("title",a).css({marginLeft:"2px"}).click(function(t){return t.preventDefault(),e[i](),e.table.stop_editing(),!1}),t.append(o)}
this.table.commands.includes("save")&&n("save","green","save_editing"),this.table.commands.includes("remove")&&n("remove","#ec520f",""),this.table.commands.includes("cancel")&&n("cancel","#ccc","undo_editing"),this.trigger("add-command-cell",t)}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("click",function(e){return t.start_editing(e)})}}]),DataGridRow}(tr),hr=function(t){function DataGrid(){var t
ot()(this,DataGrid)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(DataGrid)).call.apply(t,[this,{TableRow:dr,commands:["save","remove","cancel"]}].concat(n)))}return tt()(DataGrid,t),lt()(DataGrid,[{key:"save",value:function save(){this.table_data.update()}},{key:"add_dirty",value:function add_dirty(t,e,n,r,i){this.table_data.page.add_dirty(t.pk,e.field,n,r,i)}},{key:"start_editing",value:function start_editing(t){var e=this
if(this.editing)return!1
this.editing=!0,fe.$("body").on("keyup.editing",function(n){27===n.keyCode&&(t.undo_editing(),e.stop_editing())}).on("click.editing",function(){t.undo_editing(),e.stop_editing()}),this._edit_row=t
var n=this.layout.add_column("append")
this._command_cells=n,this.widget().addClass("editing"),n.forEach(function(t){t.css({border:"none !important",backgroundColor:"transparent !important"})})
var r=n[t.rownum+1]
return t.add_command_cell(r),!0}},{key:"stop_editing",value:function stop_editing(){fe.$("body").off(".editing"),this._edit_row.stop_editing(),this._command_cells.forEach(function(t){t.remove()}),this._edit_row=null,this._command_cells=null,this.widget().removeClass("editing"),this.editing=!1,this.trigger("stop-editing",this),B.info("Table stop editing",5)}}]),DataGrid}(ur),fr=function(t){function SearchWidget(){var t,e
ot()(this,SearchWidget)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(SearchWidget)).call.apply(t,[this,{classes:["search-form","form-inline"],accesskey:"s",name:"q",tabindex:void 0,search_text:"Søk",go_button_text:icon("search:fw"),clear_button_text:icon("times:fw"),structure:{form_group:{input_group:{search_input:{},clear_button:{},go_group:{go_button:{template:'<button class="go-button btn btn-primary"/>'}}}}},template:{root:"form",form_group:'<div class="form-group has-feedback"/>',input_group:'<div class="input-group input-group-sm"/>',search_input:'<input type="search" class="form-control"/>',go_group:'<div class="input-group-btn"/>',clear_button:'<span class="clear-button form-control-feedback"/>'}}].concat(r))))._lastval=null,e}return tt()(SearchWidget,t),lt()(SearchWidget,[{key:"construct",value:function construct(){var t=this.form_group.input_group
this.clear_button=t.clear_button,this.clear_button.append(this.clear_button_text),this.go_button=t.go_group.go_button,this.go_button.append(this.go_button_text),this.input=t.search_input,this.input.attr({accesskey:this.accesskey,name:this.name,tabindex:this.tabindex,placeholder:this.search_text+".."}),this.clear_button.hide()}},{key:"get_state",value:function get_state(){return this.get_value()}},{key:"set_state",value:function set_state(t){this.set_value(t)}},{key:"set_value",value:function set_value(t){this.input.val(t)}},{key:"get_value",value:function get_value(){return this.input.val()}},{key:"handlers",value:function handlers(){var t=this,e=function search(e){return e.stopPropagation(),!t._searching&&(t._searching=!0,fe.trigger(t,"search",t.get_value()),t._searching=!1,!1)}
this.widget(".search-form").on("submit",e),this.widget().on("click",".clear-button",function(e){e.stopPropagation(),t.set_value(""),t.trigger("clear")}),this.widget().on("click",".go-button",e),this.input.on("keypress",function(t){if(13===t.which)return e(t)}),this.input.on("keyup",function(){var e=t.input.val()
t._lastval!==e&&(t._lastval=e,""===e?t.clear_button.hide():t.clear_button.show(),t.trigger("change",e))})}}]),SearchWidget}(pn),pr=function(t){function PagerWidget(){var t
ot()(this,PagerWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(PagerWidget)).call.apply(t,[this,{pagecount:0,curpage:void 0,classes:["pagination"],css:{marginTop:0,marginBottom:0},template:{root:"ul"}}].concat(n)))}return tt()(PagerWidget,t),lt()(PagerWidget,[{key:"set_pagecount",value:function set_pagecount(t){this.pagecount!==t&&(this.pagecount=t,this.draw())}},{key:"select_page",value:function select_page(t){t!==this.curpage&&0!==this.pagecount&&(t<0||t>=this.pagecount?B.debug("PagerWidget.select_page: out of bounds ",t,this):(this.curpage=t,this.draw(),this.trigger("select-page",t)))}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("click","li.page",function(){t.select_page(fe.$(this).data("page"))}),this.widget().on("click","li.prev-nav",function(){t.select_page(t.curpage-1)}),this.widget().on("click","li.next-nav",function(){t.select_page(t.curpage+1)})}},{key:"_prerange",value:function _prerange(t,e){return e<t?null:[t,Math.min(e+1,t+2)]}},{key:"_postrange",value:function _postrange(t,e){return t>e?null:[Math.max(t,e-1),e]}},{key:"draw_range",value:function draw_range(t){for(var e=t[0];e<=t[1];e++){var n=fe.$("<li/>",{page:e}).addClass("page").data("page",e-1)
n.append(fe.$('<a href="#"/>').text(e)),e===this.curpage+1&&n.addClass("active"),this.widget().append(n)}}},{key:"draw",value:function draw(){if(this.widget().empty(),this.widget().append(fe.$('<li class="prev-nav"><a href="#">&laquo;</a></li>')),this.pagecount>0){var t=this._prerange(1,this.curpage-3),e=[Math.max(1,this.curpage-3),Math.min(this.pagecount,this.curpage+3)],n=this._postrange(this.curpage+3,this.pagecount)
t&&t[1]+1>=e[0]&&(e[0]=1,t=null),n&&e[1]+1>=n[0]&&(e[1]=n[1],n=null),t&&(this.draw_range(t),this.widget().append(fe.$('<li class="ellipsis"><span>...</span></li>'))),e&&this.draw_range(e),n&&(this.widget().append(fe.$('<li class="ellipsis"><span>...</span></li>')),this.draw_range(n))}this.widget().append(fe.$('<li class="next-nav"><a href="#">&raquo;</a></li>'))}}]),PagerWidget}(pn)
function resultset_templateObject(){var t=Pn()(["\n            You should define .dataset on the Resultset (as opposed to inside the construct_table function):\n            \n                dk.ResultSet.create_on(.., {\n                    dataset: dk.data.DataSet.cretae({\n                        datasource: ...\n                        pagesize: 5,\n                        orphans: 4\n                    }),\n                    construct_table: function (location, downloadwidget, ds) {\n                        table_data: ds,\n                        ...\n                    }\n                });\n        "])
return resultset_templateObject=function _templateObject(){return t},t}var gr,_r=function(t){function ResultSet(){var t,e
ot()(this,ResultSet)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return!1===(e=Y()(this,(t=X()(ResultSet)).call.apply(t,[this,{filter_size:20,structure:{classes:["clearfix"],rowbx:{css:{display:"flex",alignItems:"flex-start"},filterbx:{css:{marginRight:4,width:180}},data:{classes:["panel","panel-default"],css:{flex:1},header:{classes:["panel-heading","clearfix"],search:{classes:["pull-left"],css:{width:"40%"}},commands:{classes:["pull-right"],add:{},csv:{}},stats:{template:"<div/>",classes:["pull-right"],css:{textAlign:"right",marginRight:"1ex"}}},content:{query:".result-table",template:"<table/>",classes:["result-table","table","table-bordered","table-hover","table-condensed"]},footer:{template:"<footer/>",classes:["panel-footer"]}}}},template:{root:"section",search:"<div/>",csv:'<button class="btn excelbtn" data-loading-text="Laster ned...">\n                            <span><img height="28" alt="csv" src="//static.datakortet.no/ikn/ax/button_blue_down.png"></span>\n                        </button>',add:'<img class="add-button" alt="add" height="28" src="//static.datakortet.no/ikn/ax/button_blue_add.png">',commands:'<div class="commands"/>'}}].concat(r)))).add_widget&&delete e.structure.rowbx.data.header.commands.add,!1===e.download_widget&&delete e.structure.rowbx.data.header.commands.csv,e.dataset||dkwarning(template_functions_dedent(resultset_templateObject())),e}return tt()(ResultSet,t),lt()(ResultSet,[{key:"collapse_filter",value:function collapse_filter(t){}},{key:"construct_filter",value:function construct_filter(t,e){return this.filter=null,t.css({marginRight:0,paddingRight:0,width:0}),null}},{key:"construct_table",value:function construct_table(t,e){if(!this.table)return this._construction_error("you need to specify a construct_table method")}},{key:"construct_search",value:function construct_search(t){return fr.create_inside(t,{})}},{key:"construct_pager",value:function construct_pager(t,e){return this.pager=null,pr.create_inside(t,e)}},{key:"_construction_error",value:function _construction_error(t,e){e=e||"danger",this.widget().append(fe.$("<div/>").addClass("alert alert-"+e).html(t))}},{key:"construct",value:function construct(){var t=this
this.dataset&&fe.on(this.dataset,"fetch-info",function(e){return t._update_info(e)}),this.state={},this.header=this.rowbx.data.header,this.table=this.construct_table(this.rowbx.data.content,this.widget(".excel"),this.dataset),this.table&&(this.filter=this.construct_filter(this.rowbx.filterbx,this.table.table_data),this.pager=this.construct_pager(this.rowbx.data.footer,{}),this.table.set_pager(this.pager))}},{key:"_update_info",value:function _update_info(t){var e="many",n=t.start_recnum||0,r=t.end_recnum||0,i=t.filter_count||0,a=t.totcount||0
r-n==0&&(e="none"),r-n==1&&(e="one")
var o='<span class="info">',s='<span class="tot">(totalt: '.concat(a,")</span>")
switch(e){case"none":o+="viser 0 av ".concat(i)
break
case"one":o+="post nr. ".concat(n+1," av ").concat(i)
break
case"many":o+="viser ".concat(n+1,"&ndash;").concat(r," av ").concat(i)}o+="</span>",this.header.stats.html(o+s)}},{key:"handlers",value:function handlers(){var t=this
this.filter&&fe.on(this.filter,"collapse-done",function(){return t.collapse_filter()}),this.dataset||fe.on(this.table.table_data,"fetch-info",function(e){return t._update_info(e)}),fe.on(this.table.table_data,"fetch-data-start",function(){return t.start_busy()}),fe.on(this.table.table_data,"fetch-data",function(){return t.end_busy()}),this.filter&&fe.on(this.filter.datafilter,"filter-change",function(e){return t.table.table_data.set_filter(e)}),fe.on(this.table.table_data,"fetch-page",function(){return t.pager.draw()}),fe.on(this.header.search,"search",function(e){return t.table.set_search(e)}),fe.on(this.header.search,"clear",function(){return t.table.set_search()})}}]),ResultSet}(pn),vr=function(t){function FilterDefBase(){var t,e
ot()(this,FilterDefBase)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(FilterDefBase)).call.apply(t,[this,{select_multiple:!1,name:null,label:"",values:null,structure:{classes:["filterdef"],filterbox:{classes:[],filterheader:{template:"header",filtertitle:{template:"h3",text:""}},filtercontent:{classes:["filter","content"]}}}}].concat(r)))).structure.filterbox.classes.push(e.name),e.structure.filterbox.filterheader.filtertitle.text=e.label||e.name,e.needs_options=!1,e}return tt()(FilterDefBase,t),lt()(FilterDefBase,[{key:"handlers",value:function handlers(){var t=this
this.input&&fe.on(this.input,"change",function(e,n){console.info("DK:ON:CHANGE:",e,n),t.trigger("change",t.value)})}},{key:"draw",value:function draw(t){this.input&&this.input.draw&&this.input.draw(t)}},{key:"fetch_options",value:function fetch_options(){var t=this
this.needs_options&&(this.datafilter&&this.datafilter.dataset?this.datafilter.dataset.get_filter_data(this.name,function(e){t.draw(e),console.info("fetch_options-1",e)}):console.info("fetch_options-2",this.datafilter.dataset))}},{key:"value",get:function get(){return this.input?this.input.value:{}}}]),FilterDefBase}(dn),yr=function(t){function CustomFilterDef(){var t
ot()(this,CustomFilterDef)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
var i=y.a.apply(Object,[{}].concat(n)),a=i.name
return delete i.name,(t=Y()(this,X()(CustomFilterDef).call(this,i)))._name=a,t}return tt()(CustomFilterDef,t),lt()(CustomFilterDef,[{key:"construct",value:function construct(){this.input=this.construct_filter(this.filterbox.filtercontent,this)}},{key:"value",get:function get(){return this._value},set:function set(t){this._value=t}}]),CustomFilterDef}(vr),br=function(t){function SelectOneFilterDef(){var t,e
ot()(this,SelectOneFilterDef)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(SelectOneFilterDef)).call.apply(t,[this,{select_multiple:!1}].concat(r)))).needs_options=!0,e}return tt()(SelectOneFilterDef,t),lt()(SelectOneFilterDef,[{key:"construct",value:function construct(){this.input=zn.create_on(this.filterbox.filtercontent,{options:this.values,name:this.name,label:this.label}),this.values||this.fetch_options()}}]),SelectOneFilterDef}(vr),mr=function(t){function SelectMultipleFilterDef(){var t,e
ot()(this,SelectMultipleFilterDef)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(SelectMultipleFilterDef)).call.apply(t,[this,{select_multiple:!0}].concat(r)))).needs_options=!0,e}return tt()(SelectMultipleFilterDef,t),lt()(SelectMultipleFilterDef,[{key:"construct",value:function construct(){this.input=qn.create_on(this.filterbox.filtercontent,{options:this.values,name:this.name,label:this.label}),this.values||this.fetch_options()}}]),SelectMultipleFilterDef}(vr),kr=function(t){function DataFilter(){var t,e
ot()(this,DataFilter)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(DataFilter)).call.apply(t,[this,{data:void 0,heading:"Filter",filters:{},dataset:null,structure:{header:{title:{text:"Filter"}},content:{}},template:{root:"section",header:"<header/>",title:"<h2/>",content:"<div/>",filterbox:"<div/>",filterheader:"<header/>",filtertitle:"<h3/>",filtercontent:'<div class="filter content"/>'}}].concat(r))))._filter_data=e._get_filter_data(e.filters),e}return tt()(DataFilter,t),lt()(DataFilter,[{key:"_get_filter_data",value:function _get_filter_data(t){return H()(this.filters).map(function(t){var e=S()(t,2),n=e[0],r=e[1]
if(r.name=n,qt.isProps(r))return r.select_multiple?[r,mr]:r.construct_filter?[r,yr]:[r,br]
B.warn("filter def is not a properties object..?")})}},{key:"construct",value:function construct(){var t=this
this.filters={},this._filter_data.forEach(function(e){var n=S()(e,2),r=n[0],i=n[1]
r.datafilter=t
var a=i.append_to(t.content,r)
fe.on(a,"change",function(){var e=t.values()
console.info("FILTERDATA::::::::::::::::::",e),t.data&&t.data.set_filter(e),t.trigger("filter-change",e)}),t.filters[r.name]=a})}},{key:"values",value:function values(){var t=this,e=g()(this.filters),n=e.map(function(e){var n=t.filters[e]
return console.info("DATAFILTER:filter[NAME]",e),n.value?(console.info("DATAFILTER:filter:direct-VALUE:",n.value),n.value):n.input&&n.input.jquery?(console.info("DATAFILTER:filter:value:JQ:",n.input.val()),n.input.val()):n.input&&n.input.value?(console.info("DATAFILTER:filter:value:JS:",n.input.value),n.input.value):void 0})
return console.info("DATAFILTER:VALS:",n),zip_object(e,n)}}]),DataFilter}(dn),wr=function(t){function Leaf(){var t
ot()(this,Leaf)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(Leaf)).call.apply(t,[this,{id:null,kind:"",name:"",parent:null,path:[],root:void 0,children:[]}].concat(n)))}return tt()(Leaf,t),lt()(Leaf,[{key:"visit",value:function visit(t,e){return e.leaf(t,this)}}]),Leaf}(Nt),xr=function(t){function Tree(){return ot()(this,Tree),Y()(this,X()(Tree).apply(this,arguments))}return tt()(Tree,t),lt()(Tree,[{key:"visit",value:function visit(t,e){return e.tree(t,this)}}]),Tree}(wr),Sr=function(t){function Data(){var t,e
ot()(this,Data)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
e=Y()(this,(t=X()(Data)).call.apply(t,[this,{depth:0,height:0,roots:[],cache:{}}].concat(r)))
var a,o,s=Fe()(e)
for(var l in e.cache)e.cache.hasOwnProperty(l)&&(o=0===(a=e.cache[l]).children.length&&-1===e.roots.indexOf(l)?new wr(a):new xr(a),e.cache[l]=o)
var c=function childid2obj(t){return s.cache[t]}
for(var u in e.cache)e.cache.hasOwnProperty(u)&&((a=e.cache[u]).children=a.children.map(c))
return e.roots=e.roots.map(function(t){return s.cache[t]}),e}return tt()(Data,t),Data}(Nt),jr=function(){function Forrest(t){ot()(this,Forrest),this.depth=void 0,this.height=void 0,this.roots=null,this.cache=void 0
var e=this
this.cache={}
var n=function iter(t,e,n){t&&t.forEach(function(t){e(t,n),iter(t._children,e,t)})}
n(t,function(t){t.id||(t.id=q("id")),t.kind||(t.kind=t._children?"tree":"leaf"),e.cache[t.id]=t}),n(t,function(t,e){t.parent=e||null,t.parent?t.path=t.parent.path.concat([t.parent.id]):t.path=[]}),n(t,function(t){t.children=(t._children||[]).map(function(t){return t.id})}),t.forEach(function(t){t.root=t.id,n(t._children,function(e){e.root=t.id})}),this.depth=Math.max.apply(null,this.cachevals().map(function(t){return 1+t.path.length})),this.height=Math.max.apply(null,this.cachevals().map(function(t){return t.children.length})),this.height=Math.max(t.length,this.height),this.roots=t}return lt()(Forrest,[{key:"cachekeys",value:function cachekeys(){return g()(this.cache)}},{key:"cachevals",value:function cachevals(){var t=this
return this.cachekeys().map(function(e){return t.cache[e]})}}]),Forrest}(),Er=function(t){function DataSource(){return ot()(this,DataSource),Y()(this,X()(DataSource).apply(this,arguments))}return tt()(DataSource,t),lt()(DataSource,[{key:"fetch",value:function fetch(){fe.trigger(this,"fetch-data-start",this),fe.trigger(this,"fetch-data",this)}}]),DataSource}(Sr),Dr=function(t){function JSonDataSource(){var t
ot()(this,JSonDataSource)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(JSonDataSource)).call.apply(t,[this,{cache:{},roots:[],depth:0,height:0}].concat(n)))}return tt()(JSonDataSource,t),JSonDataSource}(Er),Tr={Leaf:wr,Tree:xr,Data:Sr,Forrest:jr,DataSource:Er,JSonDataSource:Dr,AjaxDataSource:function(t){function AjaxDataSource(){var t,e
ot()(this,AjaxDataSource)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(AjaxDataSource)).call.apply(t,[this,{url:""}].concat(r)))).__in_json=!1,e}return tt()(AjaxDataSource,t),lt()(AjaxDataSource,[{key:"fetch",value:function fetch(){if(!this.__in_json){this.__in_json=!0
var t=this
return fe.trigger(this,"fetch-data-start",this),json({url:this.url,cache:!0,success:function success(e){t.depth=e.depth,t.height=e.height,t.roots=e.roots,t.cache=e.cache,t.init(),t.__in_json=!1,fe.trigger(t,"fetch-data",t)}})}}}]),AjaxDataSource}(Dr)},Or=!1,Ar=[],Lr=[],Pr={ready:function ready(t){Or?t.apply(null,arguments):Ar.push({fn:t,args:arguments})},initialize:function initialize(){var t=this
B.info("INITIALIZING..."),Or=!0
for(var e=0;e<Lr.length;e++)this.bind(Lr[e])
Lr=[],Ar.forEach(function(e){e.fn.apply(t.page,e.args)}),I.attrs.main&&_dkrequire.js(I.attrs.main)},bind:function bind(t){dkwarning("lifecycle.bind has been called with ".concat(t))}},Cr=function(t){function PostnrLookupWidget(){var t
ot()(this,PostnrLookupWidget)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(PostnrLookupWidget)).call.apply(t,[this,{zipcode:null,postcode_id:null,city_id:null,url:"//cache.norsktest.no/ajax/poststed/<%= zipcode %>/",urldata:{zipcode:function zipcode(){return this.zipcode||void 0}}}].concat(n)))}return tt()(PostnrLookupWidget,t),lt()(PostnrLookupWidget,[{key:"construct",value:function construct(){this.postnr=this.widget(this.postcode_id),this.poststed=this.widget(this.city_id),this.poststed.attr("tabindex",7),this.zipcode=this.postnr.val()}},{key:"draw",value:function draw(t){this.poststed.val(t||"")}},{key:"handlers",value:function handlers(){var t=this
t.postnr.blur(function(){t.zipcode=t.postnr.val(),t.refresh()})}}]),PostnrLookupWidget}(pn),Rr=function(t){function Leaf(){var t
ot()(this,Leaf)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(Leaf)).call.apply(t,[this,{type:"dk-tree-list-leaf",data:null,structure:{classes:["leaf"]},template:{root:"li"}}].concat(n)))}return tt()(Leaf,t),lt()(Leaf,[{key:"decorate_widget",value:function decorate_widget(){this.widget().attr("nodeid",this.data.id).attr("kind",this.data.kind).addClass(this.data.kind)}},{key:"construct",value:function construct(){this.decorate_widget(),this.widget().text(this.data.name)}},{key:"select",value:function select(){}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("click",function(e){e.stopImmediatePropagation(),t.select()})}}]),Leaf}(dn),Fr=function(t){function Tree(){var t
ot()(this,Tree)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(Tree)).call.apply(t,[this,{type:"dk-tree-list-tree",data:null,animation:void 0,children:null,collapsed:!1,icons:{closed:"plus-square-o:fw",open:"minus-square-o:fw",childless:"square-o:fw"},structure:{classes:["tree"],icon:{template:"<dk-icon/>"},label:{template:"<span/>"},subtree:{template:"<ul/>"}},template:{root:"li"}}].concat(n)))}return tt()(Tree,t),lt()(Tree,[{key:"get_icon",value:function get_icon(){return 0===this.data.children.length?this.icons.childless:this.collapsed?this.icons.closed:this.icons.open}},{key:"construct",value:function construct(){this.widget().attr("nodeid",this.data.id).attr("kind",this.data.kind).addClass(this.data.kind),this.icon.attr("value",this.get_icon()),this.label.text(this.data.name)}},{key:"collapse",value:function collapse(t){var e=this.widget("> .subtree")
void 0===t&&(t=!this.collapsed),t?(e.hide(this.animation),this.trigger("collapse",this)):(e.show(this.animation),this.trigger("expand",this)),this.collapsed=t,this.icon.attr("value",this.get_icon())}},{key:"handlers",value:function handlers(){var t=this
this.widget("dk-icon, span").on("click",function(e){t.collapse(),e.stopImmediatePropagation()})}}]),Tree}(dn),Wr=function(t){function TreeWidget(){var t,e
ot()(this,TreeWidget)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(TreeWidget)).call.apply(t,[this,{type:"dktree",data:null,animation:void 0,initial_collapse:!0,roots:[],nodes:{},treewidget:Fr,leafwidget:Rr,structure:{classes:["panel","panel-default"],panel_body:{tree:{template:"<ul/>",css:{paddingLeft:0}}}}}].concat(r)))).nodes={},e}return tt()(TreeWidget,t),lt()(TreeWidget,[{key:"construct",value:function construct(){fe.on(this.data,"fetch-data-start").run(this.FN("start_busy")),fe.on(this.data,"fetch-data").run(this.FN("draw")),fe.on(this.data,"fetch-data").run(this.FN("end_busy"))}},{key:"draw",value:function draw(t){var e=this
t?(this.trigger("draw-start",this),fe.debug("start tree draw",new Date),this.roots=this.data.roots.map(function(t){return t.visit(e.panel_body.tree,e)}),this.initial_collapse&&this.roots.forEach(function(t){t.collapse(!0)}),fe.debug("finished tree draw",new Date),this.trigger("draw-end",this)):this.data.fetch()}},{key:"leaf",value:function leaf(t,e){var leaf=this.leafwidget.append_to(t,{data:e,tree:this})
return this.nodes[e.id]=leaf,leaf}},{key:"tree",value:function tree(t,e){var n=this,r=this.treewidget.append_to(t,{data:e,tree:n,animation:this.animation})
return r.children=e.children.map(function(t){var e=t.visit(r.subtree,n)
return e.parent=r,e}),this.nodes[e.id]=r,r}}]),TreeWidget}(dn),Ir=function(t){function Node(){var t
ot()(this,Node)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(Node)).call.apply(t,[this,{type:"tree-node",item:null,tree:null,generation:null,nodelist:null,cursor_children:"pointer",cursor_select:"pointer"}].concat(n)))}return tt()(Node,t),lt()(Node,[{key:"have_children",value:function have_children(){return this.item.children.length>0}},{key:"selectable",value:function selectable(){return null===this.tree.selectable||this.tree.selectable.includes(this.item.kind)}},{key:"widget_selected_state",value:function widget_selected_state(t){if(this.input&&this.selectable()){if(this.input)this.input.find("input").prop("checked",t)
this.item.selected=t}}},{key:"selection_state",value:function selection_state(t){this.item.selected=t,this.widget_selected_state(t),this.hilite(t)}},{key:"hilite",value:function hilite(t){void 0===t&&(t=this.item.selected),t?this.widget().addClass("nav-selected"):this.widget().removeClass("nav-selected")}},{key:"navigation_state",value:function navigation_state(t){t&&(this.generation.denavigate(),this.draw_children()),this.hilite(t)}},{key:"draw_input",value:function draw_input(){if(this.input&&this.selectable()){var t=this.layout.make("input",{name:this.item.kind,value:this.item.id,type:this.tree.multiselect?"checkbox":"radio"})
t.css({margin:4,cursor:this.cursor_select}),this.input.append(t),this.item.selected&&(t.checked="checked")}}},{key:"set_cursor",value:function set_cursor(){this.widget().css({cursor:this.have_children()?this.cursor_children:this.cursor_select})}},{key:"draw",value:function draw(){this.widget().attr({name:this.item.name}).addClass(this.item.kind).addClass(this.have_children()?"treeselect-tree":"treeselect-leaf"),this.draw_input(),this.cell.text(this.item.name),this.set_cursor(),this.have_children()&&this.icon.append(fe.icon("chevron-right"))}},{key:"draw_children",value:function draw_children(){this._childnode_cache?(this.generation.next.clear_nodelists(),this._childnode_cache.show()):(this.generation.next.clear_nodelists(),this._childnode_cache=this.generation.next.nodelist(this.item.children,this.item.name))}},{key:"handlers",value:function handlers(){var t=this
this.widget().on("click",function(){t.have_children()&&t.tree.current_node!==t&&t.tree.navigate_to(t),t.selectable()&&t.tree.selection_state(t,!t.item.selected)}),this.input&&this.input.find("input").on("click",function(e){return t.widget().click(),e.stopPropagation(),!1})}},{key:"construct",value:function construct(){this.widget().addClass("treeselect-item"),null!==this.tree.selectable&&(this.input=this.layout.make("td").addClass("treeselect-input"),this.input.css({textAlign:"center",verticalAlign:"middle"})),this.cell=this.layout.make("td").addClass("treeselect-node"),this.icon=this.layout.make("td",{valign:"middle"}).addClass("treeselect-icon"),this.input&&this.layout.appendln(this.input),this.layout.appendln(this.cell),this.layout.appendln(this.icon)}}]),Node}(dn),zr=function(t){function NodeList(){var t
ot()(this,NodeList)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(NodeList)).call.apply(t,[this,{type:"treeselect-nodelist",title:"",nodes:[],tree:null,generation:null,dklayout:On,structure:{classes:["dk-tree-nodelist","table","table-condensed"],css:{width:"100%"},thead:{},tbody:{}},template:{root:"table"}}].concat(n)))}return tt()(NodeList,t),lt()(NodeList,[{key:"construct",value:function construct(){var t=this
this.header_row=this.layout.add_row_to("thead")
var e=this.layout.make("th",{colspan:3,height:20})
e.text(this.title),this.header_row.appendln(e),this._nodes=[],this.nodes.forEach(function(e){var n=t.layout.add_row_to("tbody")
t._nodes.push(Ir.create_on(n,{item:t.tree.data.cache[e.id],tree:t.tree,generation:t.generation,nodelist:t}))})}},{key:"denavigate",value:function denavigate(){this._nodes.forEach(function(t){return t&&t.navigation_state(!1)})}},{key:"show",value:function show(){qe()(X()(NodeList.prototype),"show",this).call(this),this._nodes.forEach(function(t){t.hilite()})}}]),NodeList}(dn),qr=function(t){function Generation(){var t,e
ot()(this,Generation)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(e=Y()(this,(t=X()(Generation)).call.apply(t,[this,{type:"dk-tree-generation",depth:void 0,selected:null,parent:null,tree:null,width:100,css:{overflowY:"scroll",overflowX:"none",direction:"rtl"},template:{root:"div",table:'<table class="table xtable-condensed"/>'}}].concat(r))))._nodelists=[],e}return tt()(Generation,t),lt()(Generation,[{key:"construct",value:function construct(){this.widget().attr({generation:this.depth}),this.widget().width(this.width)}},{key:"draw",value:function draw(t){t&&this.nodelist(t)}},{key:"nodelist",value:function nodelist(t,e){if(t){this.clear_nodelists()
var n=zr.append_to(this.widget(),{title:e||this.tree.title,nodes:t,tree:this.tree,generation:this})
return this._nodelists.push(n),n}}},{key:"denavigate",value:function denavigate(){this._nodelists.forEach(function(t){return t.denavigate()}),this.next&&this.next.denavigate()}},{key:"clear_nodelists",value:function clear_nodelists(){this._nodelists.forEach(function(t){return t.hide()}),this.next&&this.next.clear_nodelists()}}]),Generation}(dn),$r=function(t){function TableTree(){var t,e
ot()(this,TableTree)
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return"string"==typeof(e=Y()(this,(t=X()(TableTree)).call.apply(t,[this,{type:"table-tree",title:"MISSING-TITLE",item_height:25,select:"leaves",selected:null,target:null,selectable:[],multiselect:!0,values:null,_generation:null,current_node:null,_selected_nodes:null,size:5,structure:{classes:["dk-tree-select"],css:{display:"flex"}}}].concat(r)))).selectable&&(e.selectable=""===e.selectable?null:e.selectable.split(",")),"string"==typeof e.multiselect&&(e.multiselect="1"===e.multiselect),e.values={},e._generation=[],e._selected_nodes=[],e}return tt()(TableTree,t),lt()(TableTree,[{key:"construct",value:function construct(){this.widget().height(this.size*this.item_height)}},{key:"get_selected",value:function get_selected(){return this.data||this.data.cache?function where(t,e){return t.filter(function(t){return matches(t,e)})}(ne()(this.data.cache),{selected:!0}):{}}},{key:"selection_state",value:function selection_state(t,e){if(e&&!this.multiselect&&(this._selected_nodes.forEach(function(t){t.selection_state(!1)}),this._selected_nodes.length=0),e&&!this._selected_nodes.includes(t)&&this._selected_nodes.push(t),!e){var n=this._selected_nodes.indexOf(t);-1!==n&&this._selected_nodes.splice(n,1)}t.selection_state(e)}},{key:"navigate_to",value:function navigate_to(t){this.current_node!==t&&(null!==this.current_node&&this.current_node.navigation_state(!1),this.current_node=t,t.navigation_state(!0),t.widget().focus())}},{key:"draw",value:function draw(t){t=t||this.data
for(var e=0;e<t.depth;e++){var n=qr.append_to(this.widget(),{depth:e,title:this.title,selected:null,width:Math.floor((this.widget().innerWidth()-.5)/t.depth),tree:this})
this._generation.push(n),e>0&&(this._generation[e-1].next=n)}this._generation[0].parent=this,this._generation[0].draw(this.data.roots)}}]),TableTree}(dn),Nr=function(t){function TableColumn(){var t
ot()(this,TableColumn)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(TableColumn)).call.apply(t,[this,{type:"vTableColumn",rownum:null,record:null,table:null,cells:[]}].concat(n)))}return tt()(TableColumn,t),lt()(TableColumn,[{key:"draw",value:function draw(){var t=this,e=this.table.layout.get_cells(this.rownum+1)
this.cells=t.table.column_order.map(function(n,r){return Zn.create_on(e[r],{tablerow:t,coldef:t.table.column[n]})})}},{key:"get_column_value",value:function get_column_value(t){return t.get_value(this.record)}},{key:"set_column_value",value:function set_column_value(t,e){this.record[t.name]=e}}]),TableColumn}(dn),Gr=function(t){function VDataTableLayout(t,e,n,r){var i
return ot()(this,VDataTableLayout),(i=Y()(this,X()(VDataTableLayout).call(this,t,e,n,r))).class_name="dk-vdatatable",i}return tt()(VDataTableLayout,t),VDataTableLayout}(On),Mr=function(t){function VDataTable(){var t
ot()(this,VDataTable)
for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return Y()(this,(t=X()(VDataTable)).call.apply(t,[this,{type:"vdatatable",dklayout:Gr}].concat(n)))}return tt()(VDataTable,t),lt()(VDataTable,[{key:"draw",value:function draw(t){var e=this
t?(this.columns=this._get_columndefs(t.page.fields),this.columns.forEach(function(t){t.sortable=!1
var n=e.layout.add_row_to("tbody"),r=nr.create_inside(n,cls2pojo(t))
e.columns.push(r)}),t.page.records.forEach(function(t,n){var r=e.layout.add_column_to("tbody")
e.rows.push(Nr.create(r[0],{rownum:n,record:t,table:e}))})):this.table_data.get_page({pagenum:0,page_size:0})}}]),VDataTable}(ur)
function create_dk_package_ownKeys(t,e){var n=g()(t)
if(f.a){var r=f()(t)
e&&(r=r.filter(function(e){return d()(t,e).enumerable})),n.push.apply(n,r)}return n}function create_dk_package_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{}
e%2?create_dk_package_ownKeys(n,!0).forEach(function(e){m()(t,e,n[e])}):c.a?s()(t,c()(n)):create_dk_package_ownKeys(n).forEach(function(e){a()(t,e,d()(n,e))})}return t}"undefined"!=typeof customElements&&customElements.define("dk-load",function(t){function _class(){return ot()(this,_class),Y()(this,X()(_class).call(this))}return tt()(_class,t),lt()(_class,[{key:"connectedCallback",value:function connectedCallback(){var t=this
this.nofetch||setTimeout(function(){return t.fetch()},this.delay)}},{key:"fetch",value:function fetch(){var t=this,e=this.url+(this.select?" "+this.select:""),n=setInterval(function(){fe.$(t).trigger("dk-loading",t)},500)
try{fe.$(this).load(e,this.data,function(){clearInterval(n),fe.trigger(t,"dk-loaded",t),fe.$(t).trigger("dk-loaded",t)})}catch(t){fe.$(this).trigger("dk-loading-error",this)}}},{key:"url",get:function get(){return this.getAttribute("url")},set:function set(t){this.setAttribute("url",t)}},{key:"data",get:function get(){return this.getAttribute("data")},set:function set(t){this.setAttribute("data",t)}},{key:"select",get:function get(){return this.getAttribute("select")},set:function set(t){this.setAttribute("select",t)}},{key:"delay",get:function get(){return T()(this.getAttribute("delay")||"0",10)},set:function set(t){this.setAttribute("delay",t)}},{key:"nofetch",get:function get(){return this.getAttribute("nofetch")},set:function set(t){this.setAttribute("nofetch",t)}}],[{key:"observedAttirbutes",get:function get(){return["url","data","select","delay","nofetch"]}}]),_class}(bn()(HTMLElement))),String.prototype.format||(String.prototype.format=function(){return dkwarning(".format() is deprectated, use template strings with substitutions instead."),sprintf.apply(void 0,arguments)}),fe.add(create_dk_package_objectSpread({sys:pe,ColumnDef:Xn,TableCell:Zn,TableHeader:nr,TableRow:tr,TreeWidget:Wr,DataTable:ur,VDataTable:Mr,DataTableLayout:cr,DataGrid:hr,SearchWidget:fr,PagerWidget:pr,ResultSet:_r,SortDirection:er,DataFilter:kr,PostnrLookupWidget:Cr,TableTree:$r,State:me.State,format:De,format_value:De.value,Date:Ge,DateTime:Me,Duration:He,jason:Ue,parse_uri:parse_uri},U,{Template:Ve,DomItem:Je,node:U.create_dom,utidy:utidy,css:Qe,BaseWidget:un,DataWidget:hn,ServerWidget:fn,Widget:pn,Panel:En,panel:{PanelWidget:En},icon:icon,dkicon:wn,cursor:cursors_cursor,browser:xn,initialize:Pr.initialize,forms:rr,help:help,core:{help:help,text:{count:count_char,dedent:dedent},counter:q,lifecycle:Pr},ctor_apply:function ctor_apply(){dkwarning("dk.ctor_apply is no longer needed and has been deprecated.")},layout:{Layout:sn,ListLayout:Dn,TableRowLayout:Tn,ResultsetLayout:An,TableLayout:On},filter:{DataFilter:kr},widget:{page:nn,Widget:pn,widgetmap:{get:function get(){dkwarning("widgetmap.get is deprecated")},add:function add(){dkwarning("widgetmap.add is deprecated")},wmap:(gr={CheckboxSelectWidget:qn,InputWidget:Cn,DurationWidget:Fn,RadioInputWidget:Wn,RadioSelectWidget:zn,SelectWidget:In,TableCell:Zn,TableRow:tr,TableHeader:nr,TriboolWidget:$n,PanelWidget:En,SortDirection:er,TextInputWidget:Rn,DataGridRow:dr,search:fr,datagrid:hr,datatable:ur,resultset:_r},m()(gr,"postnr-lookup-widget",Cr),m()(gr,"dk-tree-list-leaf",Rr),m()(gr,"dk-tree-list-tree",Fr),m()(gr,"dk-tree-generation",qr),m()(gr,"tree-node",Ir),m()(gr,"treeselect",$r),m()(gr,"treeselect-nodelist",zr),m()(gr,"vTableColumn",Mr),m()(gr,"vdatatable",Mr),m()(gr,"dktree",Wr),m()(gr,"PagerWidget",pr),m()(gr,"DataFilter",kr),gr)}},update:function update(){return y.a.apply(Object,arguments)},data:{Source:Kn,ArraySource:Yn,JSONDataSource:ir,AjaxDataSource:or,DataPage:sr,DataSet:lr,Data:lr,datatype:{Date:Ge,DateTime:Me,Duration:He,_datatypes:{}},format:{format:De},jason:Ue},ValueRef:Jn,table:{ColumnDef:Xn,TableCell:Zn,TableRow:tr,TableHeader:nr,SortDirection:er,DataTable:ur,VDataTable:Mr,DataTableLayout:cr,DataGrid:hr,PagerWidget:pr,ResultSet:_r,SearchWidget:fr},tree:{JSonDataSource:Tr.JSonDataSource,AjaxDataSource:Tr.AjaxDataSource,data:Tr,list:{Leaf:Rr,Tree:Fr,TreeWidget:Wr},Generation:qr,NodeList:zr,SelectTable:$r,TableTree:$r},ajax:ajax,json:json,web:{browser:{browser:xn},cookie:ge,uri:{parse:parse_uri},dom:create_dk_package_objectSpread({},U,{Template:Ve,DomItem:Je}),html:{tidy:utidy},css:Qe,state:me,client:{ajax:ajax,json:json}},dom:create_dk_package_objectSpread({},U,{DomItem:Je,Template:Ve}),dkrequire:dkrequire,require:{css:dkrequire_urls,js:dkrequire_urls},unsorted:{cursor:cursors_cursor,icons:{icon:icon},PostnrLookupWidget:Cr},ready:function ready(t){fe.$(t)}})),fe.data.format.format_value=De.format_value,fe.info("dk loaded"),fe.ready(function(){!function jq_links2popup(t){t.$("a.popup").on("click",function(){var e=window.open(t.$(this).prop("href"),t.$(this).prop("id")||"WindowName","width="+t.$(this).attr("width")+",height="+t.$(this).attr("height")+",resizeable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no")
return e&&e.focus(),!1})}(fe),jq_dkicons(fe),function jq_help_button(t){t.$(document).ready(function(){help("body")})}(fe),function jq_get_attributes(t){t.$.fn.getAttributes=function(){var e=this,n={}
return e.length&&t.$.each(e.get(0).attributes,function(t,r){r=r.nodeName||r.name,void 0!==(t=e.attr(r))&&!1!==t&&function set_attr(t,e,n){if(1!==e.length){var r=e.shift()
t[r]||(t[r]={}),set_attr(t[r],e,n)}else t[e[0]]=n}(n,r.split("-"),t)}),n}}(fe),function jq_toggle_busy(t){t.$.fn.toggle_busy=function(e){return e=!!e,this.each(function(){var n=t.$(this),r=n.data("busy-shim")
if(!e||r)t.$("#"+r).remove()
else if(e||!r){var i=n.outerHeight(),a=n.outerWidth(),o=n.offset(),s=t.$("<div/>").prop("id","busy-shim-"+t.counter()).css({position:"absolute",width:a,height:i,left:o.left,top:o.top,zIndex:999,backgroundColor:"rgba(222,222,222,.5)"})
t.$("body").append(s),n.data("busy-shim",s.prop("id"))}})}}(fe),fe.info("dk-fully-loaded")}),console.log("DKNAME:",fe.name)
e.default=fe}]).default
